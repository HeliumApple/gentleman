{
    "type": "projection",
    "projection": [
        {
            "concept": { "name": "library" },
            "tags": ["lib-books"],
            "type": "container",
            "container": {
                "content": [
                    {
                        "type": "attribute",
                        "name": "name",
                        "tag": "textbox",
                        "style": {
                            "css": ["lib-name"]
                        }
                    },
                    {
                        "type": "attribute",
                        "name": "description",
                        "tag": "textarea",
                        "style": {
                            "css": ["lib-description"]
                        }
                    },
                    {
                        "type": "container",
                        "content": [
                            {
                                "kind": "static",
                                "type": "plink",
                                "tag": "lib-books",
                                "content": [
                                    {
                                        "kind": "static",
                                        "type": "text",
                                        "content": "Books",
                                        "style": {
                                            "css": ["link-text"]
                                        }
                                    }
                                ],
                                "style": {
                                    "css": ["library-nav-link", "current"]
                                }
                            },
                            {
                                "kind": "static",
                                "type": "plink",
                                "tag": "lib-authors",
                                "content": [
                                    {
                                        "kind": "static",
                                        "type": "text",
                                        "content": "Authors",
                                        "style": {
                                            "css": ["link-text"]
                                        }
                                    }
                                ],
                                "style": {
                                    "css": ["library-nav-link"]
                                }
                            }
                        ],
                        "style": {
                            "css": ["library-nav"]
                        },
                        "layout": { "type": "flex", "orientation": "row" }
                    },
                    {
                        "type": "container",
                        "content": [
                            {
                                "kind": "static",
                                "type": "button",
                                "name": "add-book",
                                "action": {
                                    "type": "CREATE", 
                                    "target": { "type": "attribute", "name": "books" }
                                },
                                "help": "Add a book",
                                "content": [
                                    {
                                        "kind": "static",
                                        "type": "text",
                                        "content": "New book",
                                        "style": {
                                            "css": ["lib__btn-add-text"]
                                        }
                                    }
                                ],
                                "style": {
                                    "css": ["btn", "lib__btn-add"]
                                }
                            },
                            {
                                "type": "attribute",
                                "name": "books",
                                "tag": "books",
                                "style": {
                                    "css": ["lib-books"]
                                }
                            }
                        ],
                        "layout": { "type": "flex", "orientation": "column" },
                        "style": {
                            "css": ["library-body"]
                        }
                    }
                ],
                "layout": { "type": "flex", "orientation": "column" },
                "style": {
                    "css": ["library"]
                }
            }
        },
        {
            "concept": { "name": "library" },
            "tags": ["lib-authors"],
            "type": "container",
            "container": {
                "content": [
                    {
                        "type": "attribute",
                        "name": "name",
                        "style": {
                            "css": ["lib-name"]
                        }
                    },
                    {
                        "type": "attribute",
                        "name": "description",
                        "style": {
                            "css": ["lib-description"]
                        }
                    },
                    {
                        "type": "container",
                        "content": [
                            {
                                "kind": "static",
                                "type": "plink",
                                "tag": "lib-books",
                                "content": [
                                    {
                                        "kind": "static",
                                        "type": "text",
                                        "content": "Books",
                                        "style": {
                                            "css": ["link-text"]
                                        }
                                    }
                                ],
                                "style": {
                                    "css": ["library-nav-link"]
                                }
                            },
                            {
                                "kind": "static",
                                "type": "plink",
                                "tag": "lib-authors",
                                "content": [
                                    {
                                        "kind": "static",
                                        "type": "text",
                                        "content": "Authors",
                                        "style": {
                                            "css": ["link-text"]
                                        }
                                    }
                                ],
                                "style": {
                                    "css": ["library-nav-link", "current"]
                                }
                            }
                        ],
                        "style": {
                            "css": ["library-nav"]
                        },
                        "layout": { "type": "flex", "orientation": "row" }
                    },
                    {
                        "type": "container",
                        "content": [
                            {
                                "kind": "static",
                                "type": "button",
                                "name": "add-author",
                                "action": {
                                    "type": "CREATE", 
                                    "target": { "type": "attribute", "name": "authors" }
                                },
                                "help": "Add an author",
                                "content": [
                                    {
                                        "kind": "static",
                                        "type": "text",
                                        "content": "New author",
                                        "style": {
                                            "css": ["lib__btn-add-text"]
                                        }
                                    }
                                ],
                                "style": {
                                    "css": ["btn", "lib__btn-add"]
                                }
                            },
                            {
                                "type": "attribute",
                                "name": "authors",
                                "tag": "authors",
                                "style": {
                                    "css": ["lib-authors"]
                                }
                            }
                        ],
                        "layout": { "type": "flex", "orientation": "column" },
                        "style": {
                            "css": ["library-body"]
                        }
                    }
                ],
                "layout": { "type": "flex", "orientation": "column" },
                "style": {
                    "css": ["library"]
                }
            }
        },

        
        {
            "concept": { "name": "book" },
            "type": "container",
            "tags": ["edit-view"],
            "container": {
                "content": [
                    {
                        "type": "container",
                        "content": [
                            {
                                "type": "attribute",
                                "name": "title",
                                "tag": "textbox"
                            },
                            {
                                "type": "attribute",
                                "name": "year",
                                "tag": "textbox"
                            }
                        ],
                        "layout": { "type": "flex", "orientation": "row" },
                        "style": {
                            "css": ["lib-fieldgroup"]
                        }
                    },
                    {
                        "type": "container",
                        "content": [
                            {
                                "type": "attribute",
                                "name": "isbn",
                                "tag": "textbox"
                            },
                            {
                                "type": "attribute",
                                "name": "pages",
                                "tag": "textbox"
                            }
                        ],
                        "layout": { "type": "flex", "orientation": "row" },
                        "style": {
                            "css": ["lib-fieldgroup"]
                        }
                    },
                    {
                        "type": "attribute",
                        "name": "authors"
                    }
                ],
                "layout": { "type": "flex", "orientation": "column" },
                "style": {
                    "css": ["lib-book"]
                }
            }
        },


        {
            "concept": { "name": "author" },
            "type": "container",
            "tags": ["edit-view"],
            "container": {
                "content": [
                    {
                        "type": "container",
                        "content": [
                            {
                                "type": "attribute",
                                "name": "first-name"
                            },
                            {
                                "type": "attribute",
                                "name": "last-name"
                            }
                        ],
                        "layout": {  "type": "flex", "orientation": "row" }
                    },
                    {
                        "type": "attribute",
                        "name": "about"
                    },
                    {
                        "type": "container",
                        "content": [
                            {
                                "type": "attribute",
                                "name": "photo"
                            },
                            {
                                "type": "attribute",
                                "name": "website"
                            }
                        ],
                        "layout": {  "type": "flex", "orientation": "row" }
                    }
                ],
                "layout": {  "type": "flex", "orientation": "column" },
                "style": {
                    "css": ["lib-author"]
                }
            }
        },
        {
            "concept": { "name": "author" },
            "type": "container",
            "tags": [],
            "container": {
                "content": [
                    {
                        "type": "container",
                        "content": [
                            {
                                "type": "attribute",
                                "name": "first-name"
                            },
                            {
                                "type": "attribute",
                                "name": "last-name"
                            }
                        ],
                        "layout": {  "type": "flex", "orientation": "row" }
                    },
                    {
                        "type": "attribute",
                        "name": "about"
                    },
                    {
                        "type": "container",
                        "content": [
                            {
                                "type": "attribute",
                                "name": "photo"
                            },
                            {
                                "type": "attribute",
                                "name": "website"
                            }
                        ],
                        "layout": {  "type": "flex", "orientation": "row" }
                    }
                ],
                "layout": {  "type": "flex", "orientation": "column" },
                "style": {
                    "css": ["lib-author"]
                }
            }
        },

        {
            "concept": { "name": "author" },
            "tags": ["refchoice"],
            "type": "container",
            "container": {
                "content": [
                    {
                        "type": "attribute",
                        "name": "first-name",
                        "tag": "text"
                    },
                    {
                        "type": "attribute",
                        "name": "last-name",
                        "tag": "text"
                    }
                ],
                "layout": {  "type": "flex", "orientation": "row" },
                "style": {
                    "css": ["lib-author"]
                }
            }
        },
      
      

        {
            "concept": { "name": "boolean" },
            "tags": ["check-field"],
            "type": "field",
            "content": {
                "type": "binary",
                "checkbox": {
                    "label": {
                        "content": [],       
                        "style": {
                            "css": ["check-field__label"]
                        }
                    },
                    "style": {
                        "css": ["check-field__checkbox"]
                    }
                },
                "style": {
                    "css": ["check-field"]
                }
            }
        },


        {
            "concept": { "name": "set" },
            "type": "layout",
            "tags": ["tags"],
            "projection": {
                "type": "flex",
                "orientation": "column",
                "disposition": [
                    {
                        "kind": "static",
                        "type": "button",
                        "action": { "type": "add", "value": null },
                        "content": [
                            {
                                "kind": "static",
                                "type": "text",
                                "content": "+",
                                "style": {
                                    "css": ["td-tag-set__button-icon"]
                                }
                            },
                            {
                                "kind": "static",
                                "type": "text",
                                "content": "Add author",
                                "style": {
                                    "css": ["td-tag-set__button-content"]
                                }
                            }
                        ],
                        "style": {
                            "css": ["td-tag-set__button"]
                        }
                    },
                    {
                        "type": "field",
                        "field": {
                            "type": "list",
                            "readonly": false,
                            "disabled": false,
                            "list": {
                                "item": {
                                    "template": { "tag": "", "name": "", "collapsible": false },
                                    "style": {
                                        "css": ["td-tag-set__list-item"]
                                    }
                                },
                                "style": {
                                    "css": ["td-tag-set__list"]
                                }
                            },
                            "action": {
                                "add": false
                            },
                            "style": {
                                "css": ["td-tag-set-body"]
                            }
                        }
                    }
                ],
                "style": {
                    "css": ["td-tag-set"]
                }
            }
        }
    ],
    "style": [
        {
            "type": "style",
            "name": "box-left",
            "style": {
                "box": {
                    "outer": { 
                        "left": { "value": 6, "unit": "px" } 
                    }
                }
            }
        },
        {
            "type": "style",
            "name": "box-top",
            "style": {
                "box": {
                    "outer": { 
                        "top": { "value": 6, "unit": "px" } 
                    }
                }
            }
        },
        {
            "type": "style",
            "name": "box-right",
            "style": {
                "box": {
                    "outer": { 
                        "right": { "value": 6, "unit": "px" } 
                    }
                }
            }
        },
        {
            "type": "style",
            "name": "box-bottom",
            "style": {
                "box": {
                    "outer": { 
                        "bottom": { "value": 6, "unit": "px" } 
                    }
                }
            }
        }
    ]
}
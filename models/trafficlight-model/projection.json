{
    "type": "projection",
    "projection": [
        {
            "concept": { "name": "light" },
            "tags": [],
            "type": "container",
            "container": {
                "content": [
                    {
                        "type": "container",
                        "content": [
                            {
                                "kind": "static",
                                "type": "image",
                                "url": "https://geodes-sms.github.io/gentleman/demo/traffic-light/assets/traffic-light-icon.jpg",
                                "style": {
                                    "css": ["label-icon"]
                                }
                            },
                            {
                                "type": "container",
                                "container": [
                                    {
                                        "type": "attribute",
                                        "name": "color",
                                        "tag": "color-label",
                                        "required": true
                                    },
                                    {
                                        "type": "attribute",
                                        "name": "name",
                                        "tag": "name-label",
                                        "required": true,
                                        "style": {
                                            "ref": ["box-top"]
                                        }
                                    }
                                ],
                                "layout": { "type": "flex", "orientation": "column" }
                            }
                        ],
                        "layout": { "type": "flex", "orientation": "row" }
                    },
                    {
                        "type": "attribute",
                        "name": "behaviour",
                        "tag": "behaviours"
                    }
                ],
                "layout": { "type": "flex", "orientation": "column" },
                "style": {
                    "css": ["tl-light"]
                }
            }
        },
        {
            "concept": { "name": "light" },
            "tags": ["choice"],
            "type": "container",
            "container": {
                "content": [
                    {
                        "type": "attribute",
                        "name": "color",
                        "tag": "readonly-color",
                        "required": true
                    },
                    {
                        "type": "attribute",
                        "name": "name",
                        "tag": "readonly",
                        "required": true,
                        "style": {
                            "ref": ["box-left"]
                        }
                    }
                ],
                "layout": { "type": "flex", "orientation": "row" }
            }
        },
        {
            "concept": { "name": "mode" },
            "tags": [],
            "type": "container",
            "container": {
                "content": [
                    {
                        "type": "container",
                        "content": [
                            {
                                "kind": "static",
                                "type": "text",
                                "content": "M",
                                "style": {
                                    "css": ["tl-icon", "tl-icon--mode"]
                                }
                            },
                            {
                                "kind": "static",
                                "type": "text",
                                "content": "Mode:",
                                "style": {
                                    "ref": ["label"]
                                }
                            },
                            {
                                "type": "attribute",
                                "name": "name",
                                "tag": "name",
                                "required": true,
                                "style": {
                                    "ref": ["box-left"]
                                }
                            }
                        ],
                        "style": {
                            "css": ["tl-mode-header"]
                        },
                        "layout": { "type": "flex", "orientation": "row" }
                    },
                    {
                        "type": "attribute",
                        "name": "start",
                        "tag": "state-label-reference"
                    },
                    {
                        "type": "attribute",
                        "name": "lights",
                        "tag": "lights"
                    },
                    {
                        "kind": "static",
                        "type": "text",
                        "content": "Behaviour",
                        "style": {
                            "css": ["tl-behaviour-set-header__title"],
                            "text": {
                                "bold": 300,
                                "transform": "uppercase"
                            },
                            "box": {
                                "inner": { 
                                    "left": { "value": 6, "unit": "px" } 
                                }
                            }
                        }
                    },
                    {
                        "type": "attribute",
                        "name": "behaviour",
                        "tag": "behaviours"
                    }
                ],
                "layout": { "type": "flex", "orientation": "column" },
                "style": {
                    "css": ["tl-mode"]
                }
            }
        },
        {
            "concept": { "name": "mode" },
            "tags": ["choice"],
            "type": "container",
            "container": {
                "content": [
                    {
                        "kind": "static",
                        "type": "text",
                        "content": "M",
                        "style": {
                            "css": ["tl-icon", "tl-icon--mode"]
                        }
                    },
                    {
                        "type": "attribute",
                        "name": "name",
                        "tag": "readonly",
                        "required": true
                    }
                ],
                "layout": { "type": "flex", "orientation": "row" }
            }
        },
        {
            "concept": { "name": "behaviour" },
            "tags": ["textual"],
            "type": "container",
            "container": {
                "content": [
                    {
                        "type": "field",
                        "field": {
                            "type": "choice",
                            "choice": {
                                "option": {
                                    "template": { "tag": "choice" },
                                    "style": {
                                        "css": ["tl-behaviour-choice__list-option"]
                                    }
                                },
                                "style": {
                                    "css": ["tl-behaviour-choice__list"]
                                }
                            },
                            "input": false,
                            "style": {
                                "css": ["tl-behaviour-choice"]
                            }
                        }
                    },
                    {
                        "type": "projection",
                        "bind": "value",
                        "placeholder": false,
                        "tag": "choice-selection",
                        "style": {
                            "css": ["primitive-constraint"]
                        }
                    }
                ],
                "layout": { "type": "flex", "orientation": "column" },
                "style": {
                    "css": ["tl-behaviour"]
                }
            }
        },
        {
            "concept": { "name": "temporal" },
            "tags": ["choice-selection"],
            "type": "container",
            "container":  {
                "content": [
                    {
                        "kind": "static",
                        "type": "text",
                        "content": "After"
                    },
                    {
                        "type": "attribute",
                        "name": "value",
                        "tag": "textual",
                        "style": {
                            "ref": ["box-left"]
                        }
                    },
                    {
                        "type": "attribute",
                        "name": "unit",
                        "tag": "simple-string",
                        "style": {
                            "box": {
                                "outer": { 
                                    "left": { "value": 2, "unit": "px" } 
                                }
                            }
                        }
                    },
                    {
                        "kind": "static",
                        "type": "text",
                        "content": "ðŸ ’",
                        "style": {
                            "ref": ["box-left"],
                            "text": {
                                "bold": true,
                                "size": { "value": 2, "unit": "em" }
                            }
                        }
                    },
                    {
                        "type": "attribute",
                        "name": "target",
                        "tag": "state-reference",
                        "style": {
                            "ref": ["box-left"]
                        }
                    }
                ],
                "layout": { "type": "flex", "orientation": "row" },
                "style": {
                    "css": ["temporal-config"]
                }
            }
        },
        {
            "concept": { "name": "temporal" },
            "tags": ["choice"],
            "type": "static",
            "static": {
                "type": "text",
                "content": "Temporal"
            }
        },
        {
            "concept": { "name": "manual" },
            "tags": ["choice-selection"],
            "type": "container",
            "container":  {
                "content": [
                    {
                        "kind": "static",
                        "type": "text",
                        "content": "On"
                    },
                    {
                        "type": "attribute",
                        "name": "event",
                        "tag": "simple-string",
                        "style": {
                            "ref": ["box-left"]
                        }
                    },
                    {
                        "kind": "static",
                        "type": "text",
                        "content": "ðŸ ’",
                        "style": {
                            "ref": ["box-left"],
                            "text": {
                                "bold": true,
                                "size": { "value": 2, "unit": "em" }
                            }
                        }
                    },
                    {
                        "type": "attribute",
                        "name": "target",
                        "tag": "state-reference",
                        "style": {
                            "ref": ["box-left"]
                        }
                    }
                ],
                "layout": { "type": "flex", "orientation": "row" },
                "style": {
                    "css": ["manual-config"]
                }
            }
        },
        {
            "concept": { "name": "manual" },
            "tags": ["choice"],
            "type": "static",
            "static": {
                "type": "text",
                "content": "Manual"
            }
        },


        {
            "concept": { "name": "set" },
            "type": "field",
            "tags": ["behaviours"],
            "content": {
                "type": "list",
                "readonly": false,
                "disabled": false,
                "list": {
                    "item": {
                        "template": { "tag": "", "name": "" },
                        "style": {
                            "css": ["tl-behaviour-set__list-item"]
                        }
                    },
                    "style": {
                        "css": ["tl-behaviour-set__list"]
                    }
                },
                "action": {
                    "add": false,
                    "remove": {
                        "content": [
                            {
                                "type": "static",
                                "static": {
                                    "type": "text",
                                    "content": "âœ–"
                                }
                            }
                        ],
                        "style": {
                            "css": ["tl-behaviour-set__btn-remove"]
                        }
                    }
                },
                "style": {
                    "css": ["tl-behaviour-set"]
                }
            }
        },
        {
            "concept": { "name": "set" },
            "type": "field",
            "tags": ["lights"],
            "field": {
                "type": "list",
                "readonly": false,
                "disabled": false,
                "list": {
                    "item": {
                        "template": { "tag": "", "name": "" },
                        "style": {
                            "css": ["tl-light-set__list-item"]
                        }
                    },
                    "style": {
                        "css": ["tl-light-set__list"]
                    }
                },
                "action": {
                    "add": {
                        "position": "before",
                        "help": "Add a light",
                        "content": [
                            {
                                "type": "static",
                                "static": {
                                    "type": "image",
                                    "url": "https://geodes-sms.github.io/gentleman/demo/traffic-light/assets/traffic-light-icon.jpg",
                                    "style": {
                                        "css": ["label-icon"]
                                    }
                                }
                            },
                            {
                                "type": "static",
                                "static": {
                                    "type": "text",
                                    "content": "New light"
                                }
                            }
                        ],
                        "style": {
                            "css": ["tl-light-set__btn-add"]
                        }
                    },
                    "remove": {
                        "content": [
                            {
                                "type": "static",
                                "static": {
                                    "type": "text",
                                    "content": "âœ–"
                                }
                            }
                        ],
                        "style": {
                            "css": ["tl-light-set__btn-remove"]
                        }
                    }
                },
                "style": {
                    "css": ["tl-light-set"],
                    "gss": {
                        "box": {
                            "inner": {
                                "top": { "value": 8, "unit": "px" },
                                "right": { "value": 6, "unit": "px" },
                                "bottom": { "value": 8, "unit": "px" },
                                "left": { "value": 6, "unit": "px" }
                            }
                        }
                    }
                }
            }
        },
        {
            "concept": { "name": "string" },
            "type": "static",
            "tags": ["readonly"],
            "static": {
                "type": "text",
                "content": {
                    "type": "property",
                    "name": "value"
                },
                "style": {
                    "css": ["tl-name-reference"]
                }
            }
        },
        {
            "concept": { "name": "string" },
            "type": "container",
            "tags": ["readonly-color"],
            "container": {
                "content": [],
                "layout": { "type":"flex", "orientation": "row" },
                "style": {
                    "css": ["tl-icon", "tl-icon--light"],
                    "html": [
                        {
                            "name": "color",
                            "value": {
                                "type": "property",
                                "name": "value"
                            }
                        }
                    ]
                }
            }
        },
        {
            "concept": { "name": "string" },
            "tags": ["color-label"],
            "type": "container",
            "container": {
                "content": [
                    {
                        "kind": "static",
                        "type": "text",
                        "content": "Color:",
                        "style": {
                            "ref": ["label"]
                        }
                    },
                    {
                        "kind": "field",
                        "type": "text",
                        "resizable": true,
                        "input": {
                            "type": "text",
                            "placeholder": "color",
                            "style": {
                                "css": ["tl-color-textbox__input"]
                            }
                        },
                        "style": {
                            "ref": ["box-left"],
                            "css": ["tl-color-textbox"]
                        }
                    }
                ],
                "layout": { "type": "flex", "orientation": "row" },
                "style": {
                    "css": ["tl-color-label-textbox"]
                }
            }
        },
        {
            "concept": { "name": "string" },
            "tags": ["name"],
            "type": "field",
            "field": {
                "type": "text",
                "resizable": true,
                "input": {
                    "type": "text",
                    "placeholder": "name",
                    "style": {
                        "css": ["tl-textbox__input"]
                    }
                },
                "style": {
                    "css": ["tl-textbox"]
                }
            }
        },
        {
            "concept": { "name": "string" },
            "tags": ["name-label"],
            "type": "container",
            "container": {
                "content": [
                    {
                        "kind": "static",
                        "type": "text",
                        "content": "Name:",
                        "style": {
                            "ref": ["label"]
                        }
                    },
                    {
                        "kind": "field",
                        "type": "text",
                        "resizable": true,
                        "input": {
                            "type": "text",
                            "placeholder": "name",
                            "style": {
                                "css": ["tl-textbox__input"]
                            }
                        },
                        "style": {
                            "ref": ["box-left"],
                            "css": ["tl-textbox"]
                        }
                    }
                ],
                "style": {
                    "css": ["tl-label-textbox"]
                }
            }
        },
        {
            "concept": { "name": "string" },
            "type": "field",
            "tags": ["name-deco"],
            "field": {
                "type": "text",
                "resizable": true,
                "input": {
                    "type": "text",
                    "placeholder": "name",
                    "style": {
                        "css": ["tl-parenthese-textbox__input"]
                    }
                },
                "style": {
                    "css": ["tl-parenthese-textbox"]
                }
            }
        },
        {
            "concept": { "name": "string" },
            "type": "field",
            "tags": ["color"],
            "field": {
                "type": "text",
                "resizable": true,
                "input": {
                    "type": "text",
                    "placeholder": "color",
                    "style": {
                        "css": ["tl-color-textbox__input"]
                    }
                },
                "style": {
                    "css": ["tl-color-textbox"]
                }
            }
        },
        {
            "concept": { "name": "string" },
            "tags": ["simple-string"],
            "type": "field",
            "field": {
                "type": "text",
                "resizable": true,
                "input": {
                    "placeholder": {
                        "type": "property",
                        "name": "refname"
                    },
                    "style": {
                        "css": ["tl-textbox__input"]
                    }
                },
                "style": {
                    "css": ["tl-textbox"]
                }
            }
        },
        {
            "concept": { "name": "number" },
            "tags": ["textual"],
            "type": "field",
            "field": {
                "type": "text",
                "resizable": true,
                "input": {
                    "placeholder": "time",
                    "style": {
                        "css": ["tl-textbox__input"]
                    }
                },
                "style": {
                    "css": ["tl-textbox"]
                }
            }
        },
        {
            "concept": { "name": "reference" },
            "tags": ["state-reference"],
            "type": "field",
            "field": {
                "type": "choice",
                "choice": {
                    "option": {
                        "template": { "tag": "choice" },
                        "style": {
                            "css": ["state-reference__choice-option"]
                        }
                    },
                    "style": {
                        "css": ["state-reference__choice"]
                    }
                },
                "placeholder": "select target",
                "expanded": false,
                "input": {
                    "placeholder": "Search..."
                },
                "style": {
                    "css": ["state-reference"],
                    "text": {
                        "color": { "value": "#333", "type": "hex" }                            
                    }
                }
            }
        },
        {
            "concept": { "name": "reference" },
            "tags": ["state-label-reference"],
            "type": "container",
            "container": {
                "content": [
                    {
                        "type": "static",
                        "static": {
                            "type": "text",
                            "content": "Initial Light:",
                            "style": {
                                "ref": ["label"]
                            }
                        }
                    },
                    {
                        "type": "field",
                        "field":  {
                            "type": "choice",
                            "choice": {
                                "option": {
                                    "template": { "tag": "choice" },
                                    "style": {
                                        "css": ["state-reference__choice-option"]
                                    }
                                },
                                "style": {
                                    "css": ["state-reference__choice"]
                                }
                            },
                            "placeholder": "no selection",
                            "expanded": false,
                            "input": {
                                "placeholder": "Search..."
                            },
                            "style": {
                                "css": ["state-reference"],
                                "ref": ["box-left"]
                            }
                        }
                    }
                ],
                "layout": { "type": "flex", "orientation": "row" },
                "style": {
                    "css": ["state-label-reference"]
                }
            }
        }
    ],

    
    "style": [
        {
            "type": "style",
            "name": "label",
            "style": {
                "text": {
                    "bold": 500,
                    "color": { "type": "hex", "value": "#555" }
                }
            }
        },
        {
            "type": "style",
            "name": "box-top",
            "style": {
                "box": {
                    "outer": {
                        "top": { "value": 6, "unit": "px" }
                    }
                }
            }
        },
        {
            "type": "style",
            "name": "box-right",
            "style": {
                "box": {
                    "outer": {
                        "right": { "value": 6, "unit": "px" }
                    }
                }
            }
        },
        {
            "type": "style",
            "name": "box-left",
            "style": {
                "box": {
                    "outer": {
                        "left": { "value": 6, "unit": "px" }
                    }
                }
            }
        },
        {
            "type": "style",
            "name": "pad-top",
            "style": {
                "gss": {
                    "box": {
                        "inner": {
                            "top": { "value": 6, "unit": "px" }
                        }
                    }
                }
            }
        },
        {
            "type": "style",
            "name": "pad-right",
            "style": {
                "gss": {
                    "box": {
                        "inner": {
                            "right": { "value": 6, "unit": "px" }
                        }
                    }
                }
            }
        },
        {
            "type": "style",
            "name": "pad-bottom",
            "style": {
                "gss": {
                    "box": {
                        "inner": {
                            "bottom": { "value": 6, "unit": "px" }
                        }
                    }
                }
            }
        },
        {
            "type": "style",
            "name": "pad-left",
            "style": {
                "gss": {
                    "box": {
                        "inner": {
                            "left": { "value": 6, "unit": "px" }
                        }
                    }
                }
            }
        },
        {
            "type": "style",
            "name": "pad-all",
            "style": {
                "gss": {
                    "box": {
                        "inner": {
                            "all": { "value": 6, "unit": "px" }
                        }
                    }
                }
            }
        }
    ]
}
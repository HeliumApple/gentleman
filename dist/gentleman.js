(()=>{"use strict";var t={513:t=>{t.exports=JSON.parse('{"concept":[{"name":"model element","nature":"prototype","attributes":[{"name":"name","target":{"name":"name"},"required":true},{"name":"description","target":{"name":"string"},"required":true}]},{"name":"model concept","description":"A prototype of a concept.","nature":"prototype","prototype":"model element","attributes":[{"name":"properties","target":{"name":"set","accept":{"name":"property"},"min":0},"required":true,"description":"The list of properties of your concept."}]},{"name":"prototype concept","description":"A prototype creates a base skeleton to provide reusability and extension to concepts of the model. Any concept can reuse a prototype and would inherit its structure.","nature":"concrete","prototype":"model concept","attributes":[{"name":"attributes","target":{"name":"set","accept":{"name":"attribute"},"min":0},"required":true,"description":"The list of attributes of your concept."},{"name":"prototype","target":{"name":"reference","accept":{"name":"prototype concept"}}}],"build":{"nature":"prototype"}},{"name":"concrete concept","description":"A concrete concept represents the model\'s actual concepts. Projections can be defined against its structure.","nature":"concrete","prototype":"model concept","attributes":[{"name":"attributes","target":{"name":"set","accept":{"name":"attribute"},"min":0},"required":true,"description":"The list of attributes of your concept."},{"name":"prototype","target":{"name":"reference","accept":{"name":"prototype concept"}}}],"build":{"nature":"concrete"}},{"name":"derivative concept","description":"A derivative concept represents...","nature":"concrete","prototype":"model concept","attributes":[{"name":"base","target":{"name":"primitive","accept":[{"name":"string primitive"},{"name":"number primitive"}]},"required":true}],"build":{"nature":"derivative"}},{"name":"structure","nature":"prototype","prototype":"model element","attributes":[{"name":"alias","target":{"name":"string"},"required":false,"description":"The alias of the structure."}]},{"name":"attribute","nature":"concrete","prototype":"structure","attributes":[{"name":"required","target":{"name":"boolean"},"required":true,"description":"The value indicating whether the structure is required for the parent concept."},{"name":"target","target":{"name":"primitive"},"required":true,"description":"The target concept of the attribute structure."}]},{"name":"property","nature":"concrete","prototype":"structure","attributes":[{"name":"target","target":{"name":"value"},"required":true,"description":"The target concept of the property structure."}]},{"name":"primitive","nature":"prototype","attributes":[]},{"name":"string primitive","nature":"concrete","prototype":"primitive","attributes":[{"name":"default","target":{"name":"string"},"description":"Default value."},{"name":"length","target":{"name":"number constraint"},"required":false},{"name":"pattern","target":{"name":"string"},"required":false},{"name":"values","target":{"name":"set","accept":{"name":"string"},"min":0},"required":false,"description":"The list of string values accepted by the string instance."}],"build":{"name":"string"}},{"name":"number primitive","nature":"concrete","prototype":"primitive","attributes":[{"name":"default","target":{"name":"number"}},{"name":"value","target":{"name":"number constraint"},"required":false},{"name":"values","target":{"name":"set","accept":{"name":"number"},"min":1},"required":false}],"build":{"name":"number"}},{"name":"boolean primitive","nature":"concrete","prototype":"primitive","attributes":[{"name":"default","target":{"name":"boolean"}}],"build":{"name":"boolean"}},{"name":"reference primitive","nature":"concrete","prototype":"primitive","attributes":[{"name":"accept","target":{"name":"primitive"},"required":true}],"build":{"name":"reference"}},{"name":"set primitive","nature":"concrete","prototype":"primitive","attributes":[{"name":"accept","target":{"name":"primitive"},"required":true},{"name":"ordered","target":{"name":"boolean"},"required":true},{"name":"cardinality","target":{"name":"number constraint"},"required":true}],"build":{"name":"set"}},{"name":"concept primitive","nature":"concrete","prototype":"primitive","attributes":[{"name":"concept","target":{"name":"reference","accept":{"prototype":"model concept"}},"required":true}],"build":{"name":"concept"}},{"name":"constraint","nature":"prototype","attributes":[]},{"name":"number constraint","nature":"prototype","attributes":[]},{"name":"number constraint value","nature":"concrete","prototype":"number constraint","attributes":[{"name":"value","target":{"name":"number"}}]},{"name":"number constraint range","nature":"concrete","prototype":"number constraint","attributes":[{"name":"min","target":{"name":"number constraint range value"},"description":"Defines the minimum number of characters the user must input. This must be an integer value 0 or higher. If no minlength is specified, or an invalid value is specified, the input has no minimum length."},{"name":"max","target":{"name":"number constraint range value"},"description":"Defines the maximum number of characters the user can input. This must be an integer value 0 or higher. If no maxlength is specified, or an invalid value is specified, the input has no maximum length."}]},{"name":"number constraint range value","nature":"concrete","attributes":[{"name":"value","target":{"name":"number"},"description":"Value of a range"},{"name":"included","target":{"name":"boolean"},"description":"Value is included in the range"}]},{"name":"value","nature":"prototype","attributes":[]},{"name":"string value","nature":"concrete","prototype":"value","attributes":[{"name":"value","target":{"name":"string"}}],"properties":[{"name":"type","type":"string","value":"string"}]},{"name":"number value","nature":"concrete","prototype":"value","attributes":[{"name":"value","target":{"name":"number"}}],"properties":[{"name":"type","type":"string","value":"number"}]},{"name":"boolean value","nature":"concrete","prototype":"value","attributes":[{"name":"value","target":{"name":"boolean"}}],"properties":[{"name":"type","type":"string","value":"boolean"}]},{"name":"name","nature":"derivative","base":"string","length":{"min":{"value":1},"max":{"value":80}}}]}')},3:t=>{t.exports=JSON.parse('{"editor":{"name":"Gentleman concept","root":["prototype concept","concrete concept","derivative concept"],"header":{"tabs":[{}],"css":["editor-header"]},"body":{"concept":{"actions":[{"name":"build"}],"css":["concept-section"]},"css":["editor-body"]},"menu":{"actions":[{"name":"build-concept","handler":"gentleman_concept","content":"Build","downloadable":true},{"name":"export"},{"name":"ecore"}],"css":["model-concept-list"]}}}')},767:t=>{t.exports=JSON.parse('{"projection":[{"concept":{"name":"prototype concept"},"type":"layout","tags":[],"projection":{"type":"stack","orientation":"vertical","style":{"css":["model-concept","prototype-concept"]},"disposition":[{"type":"layout","layout":{"type":"wrap","disposition":[{"type":"static","static":{"type":"text","style":{"css":"model-concept-header__title"},"content":"Prototype concept "}},{"type":"attribute","name":"name"}],"style":{"css":["model-concept-header","prototype-concept-header"]}}},{"type":"layout","layout":{"type":"stack","orientation":"vertical","style":{"css":["model-concept-body","prototype-concept-body"]},"disposition":[{"type":"attribute","name":"description","tag":"description-string"},{"type":"attribute","name":"attributes","tag":"attribute-set"}]}}]}},{"concept":{"name":"prototype concept"},"type":"layout","tags":["choice-selection"],"projection":{"type":"wrap","focusable":false,"disposition":[{"type":"attribute","name":"name","tag":"readonly-string"}]}},{"concept":{"name":"prototype concept"},"type":"layout","tags":["choice"],"projection":{"type":"wrap","focusable":false,"disposition":[{"type":"attribute","name":"name","tag":"readonly-string"}],"style":{"css":["link-choice","link-choice--prototype"]}}},{"concept":{"name":"concrete concept"},"type":"layout","tags":[],"projection":{"type":"stack","orientation":"vertical","style":{"css":["model-concept","concrete-concept"]},"disposition":[{"type":"layout","layout":{"type":"wrap","disposition":[{"type":"static","static":{"type":"text","style":{"css":"model-concept-header__title"},"content":"Concrete concept "}},{"type":"attribute","name":"name"}],"style":{"css":["model-concept-header"]}}},{"type":"attribute","name":"description","tag":"description-string"},{"type":"layout","layout":{"type":"wrap","style":{"css":["model-concept-structure"]},"disposition":[{"type":"static","static":{"type":"text","content":"Attributes","style":{"css":["title","model-concept-structure__title","model-concept-structure__title--attributes"]}}},{"type":"attribute","name":"attributes","tag":"attribute-set"}]}},{"type":"layout","layout":{"type":"wrap","style":{"css":["model-concept-structure"]},"disposition":[{"type":"static","static":{"type":"text","content":"Properties","style":{"css":["title","model-concept-structure__title","model-concept-structure__title--properties"]}}},{"type":"attribute","name":"properties","tag":"property-set"}]}}]}},{"concept":{"name":"concrete concept"},"type":"layout","tags":["choice-selection"],"projection":{"type":"wrap","disposition":[{"type":"attribute","name":"name","tag":"readonly-string"}]}},{"concept":{"name":"concrete concept"},"type":"layout","tags":["choice"],"projection":{"type":"wrap","focusable":false,"style":{"css":["link-choice","link-choice--concrete"]},"disposition":[{"type":"static","static":{"type":"text","content":"Concrete concept"}},{"type":"attribute","name":"name","tag":"readonly-string"}]}},{"concept":{"name":"derivative concept"},"type":"layout","tags":[],"projection":{"type":"stack","orientation":"vertical","style":{"css":["model-concept","prototype-concept"]},"disposition":[{"type":"layout","layout":{"type":"wrap","style":{"css":["model-concept-header","derivative-concept-header"]},"disposition":[{"type":"static","static":{"type":"text","style":{"css":"model-concept-header__title"},"content":"Derivative concept "}},{"type":"attribute","name":"name"}]}},{"type":"layout","layout":{"type":"stack","orientation":"vertical","style":{"css":["model-concept-body","derivative-concept-body"]},"disposition":[{"type":"attribute","name":"description","tag":"description-string"},{"type":"static","static":{"type":"text","content":"Base","style":{"css":["title","model-concept-structure__title","model-concept-structure__title--properties"]}}},{"type":"attribute","name":"base"}]}}]}},{"concept":{"name":"derivative concept"},"type":"layout","tags":["reference-value"],"projection":{"type":"wrap","disposition":[{"type":"static","static":{"type":"text","content":"Derivative"}},{"type":"attribute","name":"name","tag":"readonly-string"}]}},{"concept":{"name":"derivative concept"},"type":"layout","tags":["reference-choice"],"projection":{"type":"wrap","focusable":false,"style":{"css":["link-choice","link-choice--derivative"]},"disposition":[{"type":"static","static":{"type":"text","content":"Derivative concept"}},{"type":"attribute","name":"name","tag":"readonly-string"}]}},{"concept":{"name":"attribute"},"type":"layout","tags":["attribute-item"],"projection":{"type":"stack","orientation":"vertical","disposition":[{"type":"attribute","name":"name"},{"type":"attribute","name":"target"}]}},{"concept":{"name":"property"},"type":"layout","tags":["property-row"],"projection":{"type":"row","disposition":[{"header":{"content":{"type":"static","static":{"type":"text","content":"Name"}},"style":{"css":["property-table__header-cell"]}},"body":{"content":{"type":"attribute","name":"name","tag":"textfield-outlined"},"style":{"css":["property-table__body-cell"]}}},{"header":{"content":{"type":"static","static":{"type":"text","content":"Target"}},"style":{"css":["property-table__header-cell"]}},"body":{"content":{"type":"attribute","name":"target"},"style":{"css":["property-table__body-cell"]}}}]}},{"concept":{"name":"primitive"},"type":"field","tags":[],"projection":{"type":"choice","content":[{"type":"choice","choice":{"style":{"css":["target-choice-list"]},"option":{"style":{"css":["target-choice-option"]}}}}],"style":{"css":["target-choice"]}}},{"concept":{"name":"string primitive"},"type":"layout","tags":["choice-selection","choice-selection-base"],"projection":{"type":"stack","orientation":"vertical","disposition":[{"type":"attribute","name":"default","tag":"default-string"},{"type":"attribute","name":"values","tag":"value-set","state":[{"rule":{"type":"and","and":[{"type":"eq","eq":[{"prop":"required"},false]},{"type":"eq","eq":[{"prop":"created"},false]}]},"result":{"content":{"type":"static","static":{"type":"text","content":"Restrict accepted values","style":{"css":["textual-option","textual-option--values"]}}}}}]}]}},{"concept":{"name":"string primitive"},"type":"layout","tags":["choice-selection","choice-selection-full"],"projection":{"type":"stack","orientation":"vertical","disposition":[{"type":"attribute","name":"default","tag":"default-string"},{"type":"layout","layout":{"type":"wrap","style":{"css":["target-constraint"]},"disposition":[{"type":"projection","tag":"choice-selection-base","content":{"type":"static","static":{"type":"text","content":"Hide"}},"style":{"css":["projection-constraints","projection-constraints--hide"]}},{"type":"static","static":{"type":"text","content":"Constraints","style":{"css":["title","target-constraint-title"]}}},{"type":"attribute","name":"length","tag":"length","style":{"css":["target-constraint-component"]},"state":[{"rule":{"type":"and","and":[{"type":"eq","eq":[{"prop":"required"},false]},{"type":"eq","eq":[{"prop":"created"},false]}]},"result":{"content":{"type":"static","static":{"type":"text","content":"Restrict length","style":{"css":["string-primitive-option","string-primitive-option--values"]}}}}}]},{"type":"attribute","name":"values","tag":"value-set","style":{"css":["target-constraint-component"]},"state":[{"rule":{"type":"and","and":[{"type":"eq","eq":[{"prop":"required"},false]},{"type":"eq","eq":[{"prop":"created"},false]}]},"result":{"content":{"type":"static","static":{"type":"text","content":"Restrict accepted values","style":{"css":["string-primitive-option","string-primitive-option--values"]}}}}}]}]}}]}},{"concept":{"name":"string primitive"},"type":"layout","tags":["choice"],"projection":{"type":"wrap","focusable":false,"disposition":[{"type":"static","static":{"type":"text","content":"String","focusable":false}}]}},{"concept":{"name":"number constraint"},"type":"field","tags":["length"],"projection":{"type":"choice","content":[{"type":"static","static":{"type":"text","content":"Length","style":{"css":["title","target-constraint__title"]}}},{"type":"choice","choice":{"style":{"css":["constraint-choice-list"]},"option":{"style":{"css":["constraint-choice-option"]}}}}],"style":{"css":["constraint-choice","constraint-choice--length"]}}},{"concept":{"name":"number constraint"},"type":"field","tags":["value"],"projection":{"type":"choice","content":[{"type":"static","static":{"type":"text","content":"Value","style":{"css":["title","target-constraint__title"]}}},{"type":"choice","choice":{"style":{"css":["constraint-choice-list"]},"option":{"style":{"css":["constraint-choice-option"]}}}}],"style":{"css":["constraint-choice","constraint-choice--value"]}}},{"concept":{"name":"number constraint"},"type":"field","tags":["cardinality"],"projection":{"type":"choice","content":[{"type":"static","static":{"type":"text","content":"Cardinality","style":{"css":["title","target-constraint__title"]}}},{"type":"choice","choice":{"style":{"css":["constraint-choice-list"]},"option":{"style":{"css":["constraint-choice-option"]}}}}],"style":{"css":["constraint-choice","constraint-choice--cardinality"]}}},{"concept":{"name":"number constraint"},"type":"field","tags":[],"projection":{"type":"choice","content":[{"type":"choice","choice":{"style":{"css":["constraint-choice-list"]},"option":{"style":{"css":["constraint-choice-option"]}}}}],"style":{"css":["constraint-choice"]}}},{"concept":{"name":"number constraint value"},"type":"layout","tags":["choice-selection"],"projection":{"type":"stack","orientation":"horizontal","disposition":[{"type":"attribute","name":"value"}]}},{"concept":{"name":"number constraint value"},"type":"layout","tags":["choice"],"projection":{"type":"wrap","focusable":false,"disposition":[{"type":"static","static":{"type":"text","content":"Fixed value"}}]}},{"concept":{"name":"number constraint range"},"type":"layout","tags":["choice-selection"],"projection":{"type":"stack","orientation":"horizontal","disposition":[{"type":"attribute","name":"min"},{"type":"attribute","name":"max"}]}},{"concept":{"name":"number constraint range"},"type":"layout","tags":["choice"],"projection":{"type":"wrap","focusable":false,"disposition":[{"type":"static","static":{"type":"text","content":"Range"}}]}},{"concept":{"name":"number constraint range value"},"type":"layout","tags":[],"projection":{"type":"wrap","disposition":[{"type":"attribute","name":"value"},{"type":"attribute","name":"included"}]}},{"concept":{"name":"number primitive"},"type":"layout","tags":["choice-selection","choice-selection-base"],"projection":{"type":"stack","orientation":"vertical","disposition":[{"type":"attribute","name":"default","tag":"default-number"},{"type":"projection","tag":"choice-selection-full","content":{"type":"static","static":{"type":"text","content":"Show constraints"}},"style":{"css":["projection-constraints","projection-constraints--show"]}}]}},{"concept":{"name":"number primitive"},"type":"layout","tags":["choice-selection","choice-selection-full"],"projection":{"type":"stack","orientation":"vertical","disposition":[{"type":"attribute","name":"default","tag":"default-number"},{"type":"layout","layout":{"type":"wrap","style":{"css":["target-constraint"]},"disposition":[{"type":"projection","tag":"choice-selection-base","content":{"type":"static","static":{"type":"text","content":"Hide"}},"style":{"css":["projection-constraints","projection-constraints--hide"]}},{"type":"static","static":{"type":"text","content":"Constraints","style":{"css":["title","target-constraint-title"]}}},{"type":"attribute","name":"value","tag":"value","style":{"css":["target-constraint-component"]},"state":[{"rule":{"type":"and","and":[{"type":"eq","eq":[{"prop":"required"},false]},{"type":"eq","eq":[{"prop":"created"},false]}]},"result":{"content":{"type":"static","static":{"type":"text","content":"Restrict value","style":{"css":["string-primitive-option","string-primitive-option--values"]}}}}}]},{"type":"attribute","name":"values","tag":"value-set","style":{"css":["target-constraint-component"]},"state":[{"rule":{"type":"and","and":[{"type":"eq","eq":[{"prop":"required"},false]},{"type":"eq","eq":[{"prop":"created"},false]}]},"result":{"content":{"type":"static","static":{"type":"text","content":"Restrict accepted values","style":{"css":["string-primitive-option","string-primitive-option--values"]}}}}}]}]}}]}},{"concept":{"name":"number primitive"},"type":"layout","tags":["choice"],"projection":{"type":"wrap","focusable":false,"disposition":[{"type":"static","static":{"type":"text","content":"Number","focusable":false}}]}},{"concept":{"name":"boolean primitive"},"type":"layout","tags":["choice-selection"],"projection":{"type":"wrap","disposition":[{"type":"attribute","name":"default","tag":"default-boolean"}]}},{"concept":{"name":"boolean primitive"},"type":"layout","tags":["choice"],"projection":{"type":"wrap","focusable":false,"disposition":[{"type":"static","static":{"type":"text","content":"Boolean","focusable":false}}]}},{"concept":{"name":"reference primitive"},"type":"layout","tags":["choice-selection"],"projection":{"type":"stack","orientation":"vertical","disposition":[{"type":"attribute","name":"accept"}]}},{"concept":{"name":"reference primitive"},"type":"layout","tags":["choice"],"projection":{"type":"wrap","focusable":false,"disposition":[{"type":"static","static":{"type":"text","content":"Reference","focusable":false}}]}},{"concept":{"name":"set primitive"},"type":"layout","tags":["choice-selection","choice-selection-base"],"projection":{"type":"stack","orientation":"vertical","disposition":[{"type":"attribute","name":"ordered"},{"type":"layout","layout":{"type":"wrap","style":{"css":["target-accept"]},"disposition":[{"type":"static","static":{"type":"text","content":"Element target","style":{"css":["title","target-accept-title"]}}},{"type":"attribute","name":"accept"}]}},{"type":"projection","tag":"choice-selection-full","content":{"type":"static","static":{"type":"text","content":"Show constraints"}},"style":{"css":["projection-constraints","projection-constraints--show"]}}]}},{"concept":{"name":"set primitive"},"type":"layout","tags":["choice-selection","choice-selection-full"],"projection":{"type":"stack","orientation":"vertical","disposition":[{"type":"attribute","name":"ordered"},{"type":"layout","layout":{"type":"wrap","style":{"css":["target-accept"]},"disposition":[{"type":"static","static":{"type":"text","content":"Element target","style":{"css":["title","target-accept-title"]}}},{"type":"attribute","name":"accept"}]}},{"type":"layout","layout":{"type":"wrap","style":{"css":["target-constraint"]},"disposition":[{"type":"projection","tag":"choice-selection-base","content":{"type":"static","static":{"type":"text","content":"Hide"}},"style":{"css":["projection-constraints","projection-constraints--hide"]}},{"type":"static","static":{"type":"text","content":"Constraints","style":{"css":["title","target-constraint-title"]}}},{"type":"attribute","name":"cardinality","tag":"cardinality","style":{"css":["target-constraint-component"]},"state":[{"rule":{"type":"and","and":[{"type":"eq","eq":[{"prop":"required"},false]},{"type":"eq","eq":[{"prop":"created"},false]}]},"result":{"content":{"type":"static","static":{"type":"text","content":"Restrict cardinality","style":{"css":["string-primitive-option","string-primitive-option--values"]}}}}}]}]}}]}},{"concept":{"name":"set primitive"},"type":"layout","tags":["choice"],"projection":{"type":"wrap","focusable":false,"disposition":[{"type":"static","static":{"type":"text","content":"Set","focusable":false}}]}},{"concept":{"name":"concept primitive"},"type":"layout","tags":["choice-selection"],"projection":{"type":"wrap","disposition":[{"type":"attribute","name":"concept","tag":"concept-reference"}]}},{"concept":{"name":"concept primitive"},"type":"layout","tags":["choice"],"projection":{"type":"wrap","focusable":false,"disposition":[{"type":"static","static":{"type":"text","content":"Containment","focusable":false}}]}},{"concept":{"name":"value"},"type":"field","tags":[],"projection":{"type":"choice","content":[{"type":"choice","choice":{"style":{"css":["target-choice-list"]},"option":{"style":{"css":["target-choice-option"]}}}}],"style":{"css":["target-choice"]}}},{"concept":{"name":"number value"},"type":"layout","tags":["choice-selection"],"projection":{"type":"stack","orientation":"horizontal","disposition":[{"type":"attribute","name":"value"}]}},{"concept":{"name":"number value"},"type":"layout","tags":["choice"],"content":{"type":"wrap","focusable":false,"disposition":[{"type":"static","static":{"type":"text","content":"Number"}}]}},{"concept":{"name":"string value"},"type":"layout","tags":["choice-selection"],"content":{"type":"stack","orientation":"horizontal","disposition":[{"type":"attribute","name":"value","tag":"outlined-string"}]}},{"concept":{"name":"string value"},"type":"layout","tags":["choice"],"content":{"type":"wrap","focusable":false,"disposition":[{"type":"static","static":{"type":"text","content":"String","focusable":false}}]}},{"concept":{"name":"boolean value"},"type":"layout","tags":["choice-selection"],"content":{"type":"stack","orientation":"horizontal","disposition":[{"type":"attribute","name":"value","tag":"choice-boolean"}]}},{"concept":{"name":"boolean value"},"type":"layout","tags":["choice"],"content":{"type":"wrap","focusable":false,"disposition":[{"type":"static","static":{"type":"text","content":"Boolean"}}]}},{"concept":{"name":"boolean"},"type":"field","tags":["required-boolean"],"content":{"type":"binary","label":false}},{"concept":{"name":"boolean"},"type":"field","tags":["field-binary-state"],"content":{"type":"binary","style":{"css":["yesno-field"]},"label":{"style":{"css":["yesno-field__value"]}},"before":{"projection":{"type":"property","style":{"css":["label","yesno-field__label"]},"name":"refname"}},"state":[{"rule":{"type":"eq","eq":[{"prop":"value"},true]},"result":{"label":{"projection":{"type":"static","static":{"type":"text","content":"required"}}}}},{"rule":{"type":"eq","eq":[{"prop":"value"},false]},"result":{"label":{"projection":{"type":"static","static":{"type":"text","content":"optional"}}}}}],"input":{"style":{"css":["yesno-field__input"]}}}},{"concept":{"name":"boolean"},"type":"field","tags":["default-boolean"],"content":{"type":"choice","content":[{"type":"static","static":{"type":"text","content":"Default value: ","style":{"css":["boolean-choice__label","label"]}}},{"type":"choice","choice":{"option":{"style":{"css":["boolean-choice-option"]}},"style":{"css":["boolean-choice-list"]}}}],"style":{"css":["boolean-choice"]}}},{"concept":{"name":"boolean"},"type":"field","tags":["choice-boolean"],"content":{"type":"choice","content":[{"type":"choice","choice":{"option":{"style":{"css":["boolean-choice-option"]}},"style":{"css":["boolean-choice-list"]}}}],"style":{"css":["boolean-choice"]}}},{"concept":{"name":"number"},"type":"field","tags":[],"content":{"type":"text","content":[{"type":"input","input":{"type":"number"}}],"style":{"css":["textfield--outlined"]}}},{"concept":{"name":"number"},"type":"field","tags":["default-number"],"content":{"type":"text","content":[{"type":"static","static":{"type":"text","content":"Default value: ","style":{"css":["textfield--outlined__label","label"]}}},{"type":"input","input":{"placeholder":"default value","type":"number"}}],"style":{"css":["textfield--outlined"]}}},{"concept":{"name":"number"},"type":"field","tags":["list-item"],"content":{"type":"text","content":[{"type":"input","input":{"type":"number"}}]}},{"concept":{"name":"reference"},"type":"field","tags":["prototype-reference"],"content":{"type":"choice","content":[{"type":"input","input":{"placeholder":"Select a prototype"}},{"type":"choice","choice":{"style":{"css":["link--prototype__choices"]},"option":{"style":{"css":["link--prototype__choice"]}}}}],"style":{"css":["link--prototype"]}}},{"concept":{"name":"reference"},"type":"field","tags":["concept-reference"],"content":{"type":"choice","content":[{"type":"input","input":{"placeholder":"Select a concept"}},{"type":"choice","choice":{"style":{"css":["link--concept__choices"]},"option":{"style":{"css":["link--concept__choice"]}}}}],"style":{"css":["link--concept"]}}},{"concept":{"name":"set"},"type":"field","tags":["attribute-set"],"content":{"type":"list","content":[{"type":"list","list":{"style":{"css":["attribute-list--card__list"]},"item":{"template":{"concept":"attribute"},"style":{"css":["attribute-list--card__list-item"]}}}},{"type":"action","name":"add","state":[{"rule":{"type":"no","no":{"prop":"value"}},"result":{"content":{"type":"static","static":{"type":"text","help":"Add an attribute","content":"Add an attribute"}}}}],"content":{"type":"static","static":{"type":"text","focusable":false,"help":"Add an attribute","content":"+"}},"style":{"css":["attribute-list--card__btn-add"]}}],"action":{"remove":{"content":{"type":"static","static":{"type":"text","help":"Remove attribute","content":"","focusable":false}},"style":{"css":["attribute-list--card__btn-remove"]}}},"style":{"css":["attribute-list--card"]}}},{"concept":{"name":"set"},"type":"field","tags":["property-set"],"content":{"type":"table","orientation":"column","table":{"header":{"style":{"css":["attribute-table-header"]}},"body":{"style":{"css":["attribute-table-body"]}},"style":{"css":["attribute-table"]}},"template":{"concept":"property","name":"property-table"},"action":{"add":{"projection":{"type":"static","static":{"type":"text","help":"Add a property","focusable":false,"content":"Add"}}},"remove":{"style":{"css":"cell-list__btn-remove"},"projection":{"type":"static","static":{"type":"text","focusable":false,"help":"Remove property","content":"Remove"}}}}}},{"concept":{"name":"set"},"type":"field","tags":["value-set"],"content":{"type":"list","content":[{"type":"static","static":{"type":"text","content":"Restricted values","style":{"css":["title","value-list-title"]}}},{"type":"list","list":{"style":{"css":["value-list"]},"item":{"template":{"tag":"list-item"},"style":{"css":["value-list-item"]}}}},{"type":"action","name":"add","content":{"type":"static","static":{"type":"text","help":"Add a value","focusable":false,"content":"+","style":{"css":["css-list__btn-add"]}}}}],"action":{"remove":{"content":{"type":"static","static":{"type":"text","help":"Remove value","focusable":false,"content":"","style":{"css":["css-list__btn-remove"]}}}}},"style":{"css":["value-list-container"]}}},{"concept":{"name":"name"},"type":"field","tags":["textfield-outlined"],"projection":{"type":"text","content":[{"type":"input","input":{"placeholder":"name"}}],"style":{"css":["textfield--outlined"]}}},{"concept":{"name":"string"},"type":"field","tags":["readonly-string"],"content":{"type":"text","readonly":true,"content":[{"type":"input"}]}},{"concept":{"name":"string"},"type":"field","tags":["list-item"],"content":{"type":"text","content":[{"type":"input","input":{"placeholder":"null","style":{"css":["textfield--labeled__input"]}}}],"style":{"css":["textfield--labeled"]}}},{"concept":{"name":"string"},"type":"field","tags":["description-string"],"content":{"type":"text","content":[{"type":"input","input":{"placeholder":"Description"}}],"multiline":true,"style":{"css":["textfield--description"]}}},{"concept":{"name":"string"},"type":"field","tags":["default-string"],"content":{"type":"text","resizable":true,"content":[{"type":"static","static":{"type":"text","content":"Default value: ","focusable":false,"style":{"css":["textfield--labeled__label","label"]}}},{"type":"input","input":{"placeholder":"null","style":{"css":["textfield--labeled__input"]}}}],"style":{"css":["textfield--labeled"]}}},{"concept":{"name":"string"},"type":"field","tags":["outlined-string"],"content":{"type":"text","content":[{"type":"input"}],"style":{"css":["textfield--outlined"]}}}]}')},438:t=>{t.exports=JSON.parse('{"projection":[{"name":"concept-definition","type":"template","param":[{"name":"conceptType","type":"string"}],"content":[{"type":"static","static":{"type":"text","content":"Define","style":{"css":["keyword","model-concept__keyword"]}}},{"type":"static","static":{"type":"text","content":{"type":"param","name":"conceptType"},"style":{"css":["keyword","model-concept__keyword"],"text":{"bold":true}}}},{"type":"attribute","name":"name","tag":"textual"}]},{"name":"attribute-definition","type":"template","content":[{"type":"static","static":{"type":"text","content":"Attribute definition","style":{"css":["title","model-projection__line"]}}},{"type":"attribute","name":"attributes","tag":"attribute-set","style":{"css":["model-projection__line"]}}]},{"type":"template","name":"property-definition","content":[{"type":"static","static":{"type":"text","content":"Property definition","style":{"css":["title","model-projection__line"]}}},{"type":"attribute","name":"properties","tag":"property-set","style":{"css":["model-projection__line"]}}]},{"concept":{"name":"prototype concept"},"type":"layout","tags":["textual"],"content":{"type":"stack","orientation":"vertical","disposition":[{"type":"layout","layout":{"type":"wrap","disposition":[{"type":"template","name":"concept-definition","param":[{"name":"conceptType","value":"prototype concept"}]}],"style":{"css":["line","model-concept__line"]}}},{"type":"template","name":"attribute-definition"}],"style":{"css":["model-concept","model-concept--textual"]}}},{"concept":{"name":"concrete concept"},"type":"layout","tags":["textual"],"content":{"type":"stack","orientation":"vertical","disposition":[{"type":"layout","layout":{"type":"wrap","disposition":[{"type":"template","name":"concept-definition","param":[{"name":"conceptType","value":"concrete concept"}]},{"type":"static","static":{"type":"text","content":"as","style":{"css":["keyword","model-concept__keyword"]}}},{"type":"attribute","name":"prototype","tag":"textual"}],"style":{"css":["line","model-concept__line"]}}},{"type":"template","name":"attribute-definition"},{"type":"template","name":"property-definition"}],"style":{"css":["model-concept","model-concept--textual"]}}},{"concept":{"name":"derivative concept"},"type":"layout","tags":["textual"],"content":{"type":"stack","orientation":"vertical","disposition":[{"type":"layout","layout":{"type":"wrap","disposition":[{"type":"template","name":"concept-definition","param":[{"name":"conceptType","value":"derivative concept"}]}],"style":{"css":["line","model-concept__line"]}}},{"type":"static","static":{"type":"text","content":"Base definition","style":{"css":["title"]}}},{"type":"attribute","name":"base"},{"type":"template","name":"property-definition"}],"style":{"css":["model-concept","model-concept--textual"]}}},{"concept":{"prototype":"model concept"},"type":"layout","tags":["choice","choice-selection"],"content":{"type":"wrap","focusable":false,"disposition":[{"type":"attribute","name":"name","tag":"readonly-string"}]}},{"concept":{"name":"attribute"},"type":"layout","tags":["attribute-list-item--textual"],"content":{"type":"stack","orientation":"vertical","disposition":[{"type":"layout","layout":{"type":"wrap","disposition":[{"type":"static","static":{"type":"text","content":"Define ","style":{"css":["keyword"]}}},{"type":"attribute","name":"required","tag":"field-binary-state"},{"type":"static","static":{"type":"text","content":"attribute ","style":{"css":["keyword"]}}},{"type":"attribute","name":"name","tag":"textual"},{"type":"static","static":{"type":"text","content":"of type ","style":{"css":["keyword"]}}}],"style":{"css":["line"]}}},{"type":"attribute","name":"target","tag":"textual"}],"style":{"css":["attribute-list-item-container"]}}},{"concept":{"name":"property"},"type":"layout","tags":["property-list-item--textual"],"content":{"type":"stack","orientation":"vertical","disposition":[{"type":"layout","layout":{"type":"wrap","disposition":[{"type":"static","static":{"type":"text","content":"Define property","style":{"css":["keyword"]}}},{"type":"attribute","name":"name","tag":"textual"},{"type":"static","static":{"type":"text","content":"of type ","style":{"css":["keyword"]}}}],"style":{"css":["line"]}}},{"type":"attribute","name":"target","tag":"textual"}],"style":{"css":["attribute-list-item-container"]}}},{"concept":{"name":"primitive"},"type":"field","tags":["textual"],"content":{"type":"choice","content":[{"type":"input","input":{"placeholder":"concept","style":{"css":["target-choice--textual__input"]}}},{"type":"choice","choice":{"style":{"css":["target-choice--textual__list"]},"option":{"style":{"css":["target-choice--textual__list-option"]}}}}],"style":{"css":["target-choice--textual"]}}},{"concept":{"name":"primitive"},"type":"field","tags":["textual-reference"],"content":{"type":"choice","content":[{"type":"input","input":{"placeholder":"concept\'s name","style":{"css":["target-choice--textual__input"]}}},{"type":"choice","choice":{"style":{"css":["target-choice--textual__list"]},"option":{"style":{"css":["target-choice--textual__list-option"]}}}}],"selection":{"template":{"tag":"choice-selection--name"}},"style":{"css":["target-choice--textual"]}}},{"concept":{"name":"string primitive"},"type":"layout","tags":["choice-selection"],"content":{"type":"stack","orientation":"vertical","disposition":[{"type":"attribute","name":"default","tag":"default-string"},{"type":"static","static":{"type":"text","content":"Constraint","style":{"css":["title","primitive-constraint__title"]}}},{"type":"attribute","name":"length"},{"type":"attribute","name":"pattern","tag":"label-string"}]}},{"concept":{"name":"string primitive"},"type":"layout","tags":["choice","choice-selection--name"],"content":{"type":"wrap","focusable":false,"disposition":[{"type":"static","static":{"type":"text","content":"String","focusable":false}}]}},{"concept":{"name":"number constraint"},"type":"field","tags":["length"],"content":{"type":"choice","content":[{"type":"static","static":{"type":"text","content":"Restrict length with","style":{"css":["keyword","constraint-choice--textual__keyword"]}}},{"type":"input","input":{"placeholder":"type","style":{"css":["constraint-choice--textual__input"]}}},{"type":"choice","choice":{"style":{"css":["constraint-choice--textual__list"]},"option":{"style":{"css":["constraint-choice--textual__list-option"]}}}}],"style":{"css":["constraint-choice--textual"]}}},{"concept":{"name":"number constraint"},"type":"field","tags":["value"],"content":{"type":"choice","content":[{"type":"static","static":{"type":"text","content":"Restrict value with","style":{"css":["keyword","constraint-choice--textual__keyword"]}}},{"type":"input","input":{"placeholder":"type","style":{"css":["constraint-choice--textual__input"]}}},{"type":"choice","choice":{"style":{"css":["constraint-choice--textual__list"]},"option":{"style":{"css":["constraint-choice--textual__list-option"]}}}}],"style":{"css":["constraint-choice--textual"]}}},{"concept":{"name":"number constraint"},"type":"field","tags":["cardinality"],"content":{"type":"choice","content":[{"type":"static","static":{"type":"text","content":"Restrict cardinality with","style":{"css":["keyword","constraint-choice--textual__keyword"]}}},{"type":"input","input":{"placeholder":"type","style":{"css":["constraint-choice--textual__input"]}}},{"type":"choice","choice":{"style":{"css":["constraint-choice--textual__list"]},"option":{"style":{"css":["constraint-choice--textual__list-option"]}}}}],"style":{"css":["constraint-choice--textual"]}}},{"concept":{"name":"number constraint value"},"type":"layout","tags":["choice-selection"],"content":{"type":"stack","orientation":"horizontal","disposition":[{"type":"attribute","name":"value","tag":"label-number"}]}},{"concept":{"name":"number constraint value"},"type":"layout","tags":["choice"],"content":{"type":"wrap","focusable":false,"disposition":[{"type":"static","static":{"type":"text","content":"Fixed value","focusable":false}}]}},{"concept":{"name":"number constraint range"},"type":"layout","tags":["choice-selection"],"content":{"type":"stack","orientation":"vertical","disposition":[{"type":"layout","layout":{"type":"wrap","disposition":[{"type":"static","static":{"type":"text","content":"Minimum:"}},{"type":"attribute","name":"min"}],"style":{"css":["constraint-range"]}}},{"type":"layout","layout":{"type":"wrap","disposition":[{"type":"static","static":{"type":"text","content":"Maximum:"}},{"type":"attribute","name":"max"}],"style":{"css":["constraint-range"]}}}]}},{"concept":{"name":"number constraint range"},"type":"layout","tags":["choice"],"content":{"type":"wrap","focusable":false,"disposition":[{"type":"static","static":{"type":"text","content":"Range","focusable":false}}]}},{"concept":{"name":"number constraint range value"},"type":"layout","tags":[],"content":{"type":"wrap","disposition":[{"type":"attribute","name":"value","tag":"textual"},{"type":"attribute","name":"included","tag":"field-binary-state--included"}],"style":{"css":["constraint-range-value"]}}},{"concept":{"name":"number primitive"},"type":"layout","tags":["choice-selection"],"content":{"type":"stack","orientation":"vertical","disposition":[{"type":"attribute","name":"default","tag":"default-number"},{"type":"static","static":{"type":"text","content":"Constraint","style":{"css":["title","primitive-constraint__title"]}}},{"type":"attribute","name":"value","tag":"value"}]}},{"concept":{"name":"number primitive"},"type":"layout","tags":["choice","choice-selection--name"],"content":{"type":"wrap","focusable":false,"disposition":[{"type":"static","static":{"type":"text","content":"Number","focusable":false}}]}},{"concept":{"name":"boolean primitive"},"type":"layout","tags":["choice-selection","choice-selection--name"],"content":{"type":"wrap","disposition":[{"type":"attribute","name":"default","tag":"default-boolean"}]}},{"concept":{"name":"boolean primitive"},"type":"layout","tags":["choice"],"content":{"type":"wrap","focusable":false,"disposition":[{"type":"static","static":{"type":"text","content":"Boolean","focusable":false}}]}},{"concept":{"name":"reference primitive"},"type":"layout","tags":["choice-selection"],"content":{"type":"stack","orientation":"vertical","disposition":[{"type":"static","static":{"type":"text","content":"Reference target","style":{"css":["title","primitive-constraint__title"]}}},{"type":"attribute","name":"accept","tag":"textual-reference"}]}},{"concept":{"name":"reference primitive"},"type":"layout","tags":["choice"],"content":{"type":"wrap","focusable":false,"disposition":[{"type":"static","static":{"type":"text","content":"Reference","focusable":false}}]}},{"concept":{"name":"set primitive"},"type":"layout","tags":["choice-selection"],"content":{"type":"stack","orientation":"vertical","disposition":[{"type":"attribute","name":"ordered"},{"type":"static","static":{"type":"text","content":"Constraint","style":{"css":["title","primitive-constraint__title"]}}},{"type":"attribute","name":"cardinality","tag":"cardinality"},{"type":"static","static":{"type":"text","content":"Element target","style":{"css":["title","primitive-constraint__title"]}}},{"type":"attribute","name":"accept","tag":"textual"}]}},{"concept":{"name":"set primitive"},"type":"layout","tags":["choice","choice-selection--name"],"content":{"type":"wrap","focusable":false,"disposition":[{"type":"static","static":{"type":"text","content":"Set","focusable":false}}]}},{"concept":{"name":"concept primitive"},"type":"layout","tags":["choice-selection","choice-selection--name"],"content":{"type":"wrap","disposition":[{"type":"attribute","name":"concept","tag":"textual"}]}},{"concept":{"name":"concept primitive"},"type":"layout","tags":["choice"],"content":{"type":"wrap","focusable":false,"disposition":[{"type":"static","static":{"type":"text","content":"Containment","focusable":false}}]}},{"concept":{"name":"value"},"type":"field","tags":["textual"],"content":{"type":"choice","content":[{"type":"input","input":{"placeholder":"primitive","style":{"css":["target-choice--textual__input"]}}},{"type":"choice","choice":{"style":{"css":["target-choice--textual__list"]},"option":{"style":{"css":["target-choice--textual__list-option"]}}}}],"style":{"css":["target-choice--textual"]}}},{"concept":{"name":"number value"},"type":"layout","tags":["choice-selection"],"content":{"type":"wrap","disposition":[{"type":"attribute","name":"value","tag":"textual"}]}},{"concept":{"name":"number value"},"type":"layout","tags":["choice"],"content":{"type":"wrap","focusable":false,"disposition":[{"type":"static","static":{"type":"text","content":"Number"}}]}},{"concept":{"name":"string value"},"type":"layout","tags":["choice-selection"],"content":{"type":"stack","orientation":"horizontal","disposition":[{"type":"attribute","name":"value","tag":"textual"}]}},{"concept":{"name":"string value"},"type":"layout","tags":["choice"],"content":{"type":"wrap","focusable":false,"disposition":[{"type":"static","static":{"type":"text","content":"String","focusable":false}}]}},{"concept":{"name":"boolean value"},"type":"layout","tags":["choice-selection"],"content":{"type":"stack","orientation":"horizontal","disposition":[{"type":"attribute","name":"value","tag":"choice-boolean"}]}},{"concept":{"name":"boolean value"},"type":"layout","tags":["choice"],"projection":{"type":"wrap","focusable":false,"disposition":[{"type":"static","static":{"type":"text","content":"Boolean"}}]}},{"concept":{"name":"boolean"},"type":"field","tags":["field-binary-state"],"content":{"type":"binary","style":{"css":["yesno-field"]},"label":{"style":{"css":["yesno-field__value"]}},"state":[{"rule":{"type":"eq","eq":[{"prop":"value"},true]},"result":{"label":{"projection":{"type":"static","static":{"type":"text","content":"required","focusable":false}}}}},{"rule":{"type":"eq","eq":[{"prop":"value"},false]},"result":{"label":{"projection":{"type":"static","static":{"type":"text","content":"optional","focusable":false}}}}}],"input":{"style":{"css":["yesno-field__input"]}}}},{"concept":{"name":"boolean"},"type":"field","tags":["default-boolean"],"content":{"type":"binary","state":[{"rule":{"type":"eq","eq":[{"prop":"value"},true]},"result":{"label":{"projection":[{"type":"static","static":{"type":"text","content":{"type":"property","name":"refname"},"style":{"css":["label","yesno-field__label"]}}},{"type":"static","static":{"type":"text","content":"true","focusable":false,"style":{"css":["yesno-field__value"]}}}]}}},{"rule":{"type":"eq","eq":[{"prop":"value"},false]},"result":{"label":{"projection":[{"type":"static","static":{"type":"text","content":{"type":"property","name":"refname"},"style":{"css":["label","yesno-field__label"]}}},{"type":"static","static":{"type":"text","content":"false","focusable":false,"style":{"css":["yesno-field__value"]}}}]}}}],"input":{"style":{"css":["yesno-field__input"]}},"style":{"css":["yesno-field"]}}},{"concept":{"name":"boolean"},"type":"field","tags":["choice-boolean"],"content":{"type":"choice","content":[{"type":"choice","choice":{"option":{"style":{"css":["boolean-choice-option"]}},"style":{"css":["boolean-choice-list"]}}}],"style":{"css":["boolean-choice"]}}},{"concept":{"name":"boolean"},"type":"field","tags":["field-binary-state--included"],"content":{"type":"binary","style":{"css":["yesno-field"]},"label":{"style":{"css":["yesno-field__value"]}},"state":[{"rule":{"type":"eq","eq":[{"prop":"value"},true]},"result":{"label":{"projection":{"type":"static","static":{"type":"text","content":"included","focusable":false}}}}},{"rule":{"type":"eq","eq":[{"prop":"value"},false]},"result":{"label":{"projection":{"type":"static","static":{"type":"text","content":"excluded","focusable":false}}}}}],"input":{"style":{"css":["yesno-field__input"]}}}},{"concept":{"name":"number"},"type":"field","tags":["default-number"],"content":{"type":"text","content":[{"type":"static","static":{"type":"text","content":"Default value: ","focusable":false,"style":{"css":["textfield--labeled__label","label"]}}},{"type":"input","input":{"placeholder":"null","style":{"css":["textfield--labeled__input"]}}}],"style":{"css":["textfield--labeled"]}}},{"concept":{"name":"number"},"type":"field","tags":["list-item"],"projection":{"type":"text","content":[{"type":"input","input":{"type":"number"}}]}},{"concept":{"name":"number"},"type":"field","tags":["textual"],"content":{"type":"text","resizable":true,"content":[{"type":"input","input":{"placeholder":"number","style":{"css":["name-field--textual__input"]}}}],"style":{"css":["name-field","name-field--textual"]}}},{"concept":{"name":"number"},"type":"field","tags":["label-number"],"content":{"type":"text","resizable":true,"content":[{"type":"static","static":{"type":"text","content":{"type":"property","name":"refname"},"style":{"css":["name-field--textual__label"]}}},{"type":"input","input":{"style":{"css":["name-field--textual__input"]}}}],"style":{"css":["name-field","name-field--textual"]}}},{"concept":{"name":"reference"},"type":"field","tags":["textual"],"content":{"type":"choice","content":[{"type":"input","input":{"placeholder":"name","style":{"css":["reference-choice--textual__input"]}}},{"type":"choice","choice":{"style":{"css":["reference-choice--textual__list"]},"option":{"style":{"css":["reference-choice--textual__list-option"]}}}}],"style":{"css":["reference-choice--textual"]}}},{"concept":{"name":"set"},"type":"field","tags":["attribute-set"],"content":{"type":"list","content":[{"type":"list","list":{"style":{"css":["attribute-list--textual__list"]},"item":{"template":{"tag":"attribute-list-item--textual"},"style":{"css":["attribute-list--textual__list-item"]}}}},{"type":"action","name":"add","content":{"type":"static","static":{"type":"text","help":"Add an attribute","content":"New attribute","focusable":false,"style":{"css":["attribute-list--textual__btn-add"]}}}}],"action":{"remove":{"content":{"type":"static","static":{"type":"text","help":"Remove attribute","content":"","style":{"css":["attribute-list--textual__btn-remove"]}}}}},"style":{"css":["attribute-list--textual"]}}},{"concept":{"name":"set"},"type":"field","tags":["property-set"],"content":{"type":"list","content":[{"type":"list","list":{"style":{"css":["property-list--textual__list"]},"item":{"template":{"tag":"property-list-item--textual"},"style":{"css":["property-list--textual__list-item"]}}}},{"type":"action","name":"add","content":{"type":"static","static":{"type":"text","help":"Add an property","content":"New property","focusable":false,"style":{"css":["property-list--textual__btn-add"]}}}}],"action":{"remove":{"content":{"type":"static","static":{"type":"text","help":"Remove property","content":"","style":{"css":["property-list--textual__btn-remove"]}}}}},"style":{"css":["property-list--textual"]}}},{"concept":{"name":"string"},"type":"field","tags":["readonly-string"],"content":{"type":"text","readonly":true,"content":[{"type":"input"}]}},{"concept":{"name":"string"},"type":"field","tags":["textual","list-item"],"content":{"type":"text","content":[{"type":"input","input":{"placeholder":"null","style":{"css":["textfield--labeled__input"]}}}],"style":{"css":["textfield--labeled"]}}},{"concept":{"name":"string"},"type":"field","tags":["default-string"],"content":{"type":"text","resizable":true,"content":[{"type":"static","static":{"type":"text","content":"Default value: ","focusable":false,"style":{"css":["textfield--labeled__label","label"]}}},{"type":"input","input":{"placeholder":"null","style":{"css":["textfield--labeled__input"]}}}],"style":{"css":["textfield--labeled"]}}},{"concept":{"name":"string"},"type":"field","tags":["label-string"],"content":{"type":"text","resizable":true,"content":[{"type":"static","static":{"type":"text","content":{"type":"property","name":"refname"},"style":{"css":["name-field--textual__label"]}}},{"type":"input","input":{"style":{"css":["name-field--textual__input"]}}}],"style":{"css":["name-field","name-field--textual"]}}}]}')},76:t=>{t.exports=JSON.parse('{"concept":[{"name":"projection","nature":"concrete","attributes":[{"name":"concept","target":{"name":"concept"},"required":true},{"name":"name","target":{"name":"string","length":{"min":{"value":1}}},"required":false},{"name":"content","target":{"name":"component"},"required":true},{"name":"tags","target":{"name":"set","accept":{"name":"tag"},"min":0},"required":true}],"build":{"handler":"projection"}},{"name":"template","nature":"concrete","attributes":[{"name":"name","target":{"name":"string","length":{"min":{"value":1}}},"required":true},{"name":"content","target":{"name":"set","accept":{"name":"element"},"min":1}}],"build":{"handler":"template"}},{"name":"component","nature":"prototype","attributes":[]},{"name":"layout component","nature":"concrete","prototype":"component","attributes":[{"name":"layout","target":{"name":"layout"}}],"build":{"type":"layout"}},{"name":"field component","nature":"concrete","prototype":"component","attributes":[{"name":"field","target":{"name":"field"}}],"build":{"type":"field"}},{"name":"concept","nature":"concrete","attributes":[{"name":"name","target":{"name":"string","length":{"min":{"value":1}}}},{"name":"prototype","target":{"name":"string","length":{"min":{"value":1}}}}]},{"name":"tag","nature":"derivative","base":"string","pattern":"^\\\\w+(-\\\\w+)*$"},{"name":"render","nature":"prototype","attributes":[{"name":"style","target":{"name":"style"},"required":false}]},{"name":"field","nature":"prototype","prototype":"render","attributes":[{"name":"readonly","target":{"name":"boolean","default":false}},{"name":"disabled","target":{"name":"boolean","default":false}}]},{"name":"text field","nature":"concrete","prototype":"field","attributes":[{"name":"content","target":{"name":"set","accept":{"name":"element"},"min":1}},{"name":"multiline","target":{"name":"boolean","default":false}}],"build":{"contentType":"field","elementType":"text"}},{"name":"binary field","nature":"concrete","prototype":"field","attributes":[{"name":"content","target":{"name":"set","accept":{"name":"state element"},"min":1,"max":2}}],"build":{"contentType":"field","elementType":"binary"}},{"name":"state element","nature":"concrete","attributes":[{"name":"state","target":{"name":"boolean"},"required":false},{"name":"content","target":{"name":"element"}}]},{"name":"choice field","nature":"concrete","prototype":"field","attributes":[{"name":"choice template","target":{"name":"template reference"}},{"name":"selection template","target":{"name":"template reference"}}],"build":{"contentType":"field","elementType":"choice"}},{"name":"template reference","nature":"concrete","attributes":[{"name":"tag","target":{"name":"tag"}},{"name":"name","target":{"name":"string"}}]},{"name":"list field","nature":"concrete","prototype":"field","attributes":[{"name":"orientation","target":{"name":"string","values":["horizontal","vertical"]}},{"name":"action","target":{"name":"list field action"}},{"name":"item template","target":{"name":"template reference"}}],"build":{"contentType":"field","elementType":"list"}},{"name":"list field action","nature":"concrete","attributes":[{"name":"add","target":{"name":"action"}},{"name":"remove","target":{"name":"action"}}]},{"name":"action","nature":"concrete","prototype":"render","attributes":[{"name":"content","target":{"name":"set","accept":{"name":"static element"}}}]},{"name":"table field","nature":"concrete","prototype":"field","attributes":[{"name":"orientation","target":{"name":"string","values":["column","row"]}},{"name":"template","target":{"name":"reference","accept":{"name":"template"}}},{"name":"table","target":{"name":"table"}}],"build":{"contentType":"field","elementType":"table"}},{"name":"table","nature":"concrete","prototype":"render","attributes":[{"name":"header","target":{"name":"style"},"required":false},{"name":"body","target":{"name":"style"},"required":true},{"name":"footer","target":{"name":"style"},"required":false}]},{"name":"element","nature":"prototype","prototype":"render","attributes":[{"name":"name","target":{"name":"string"}}]},{"name":"layout","nature":"prototype","prototype":"element","attributes":[{"name":"elements","target":{"name":"set","accept":{"name":"element"},"min":1}}]},{"name":"stack layout","nature":"concrete","prototype":"layout","attributes":[{"name":"orientation","target":{"name":"string","values":["horizontal","vertical"],"default":"vertical"}}],"build":{"contentType":"layout","elementType":"stack"}},{"name":"wrap layout","nature":"concrete","prototype":"layout","build":{"contentType":"layout","elementType":"wrap"}},{"name":"cell layout","nature":"concrete","prototype":"layout","attributes":[{"name":"orientation","target":{"name":"string","values":["row","column"]}},{"name":"rows","target":{"name":"set","accept":{"name":"row"},"min":1}}],"build":{"contentType":"layout","elementType":"table"}},{"name":"relative layout","nature":"concrete","prototype":"$layout","attributes":[{"name":"elements","target":{"name":"set","accept":{"name":"position element"},"min":1}}],"build":{"contentType":"layout","elementType":"relative"}},{"name":"position element","nature":"concrete","attributes":[{"name":"tag","target":{"name":"tag"}},{"name":"element","target":{"name":"element"}}]},{"name":"position","nature":"concrete","attributes":[{"name":"top","target":{"name":"number"}},{"name":"right","target":{"name":"number"}},{"name":"bottom","target":{"name":"number"}},{"name":"left","target":{"name":"number"}}]},{"name":"row","nature":"concrete","prototype":"render","attributes":[{"name":"cells","target":{"name":"set","accept":{"name":"cell"},"min":1}}]},{"name":"cell","nature":"concrete","prototype":"render","attributes":[{"name":"span","target":{"name":"number","value":{"min":0}}},{"name":"content","target":{"name":"element"}}]},{"name":"$template","nature":"prototype","attributes":[{"name":"style","target":{"name":"style"},"required":false}]},{"name":"table template","nature":"concrete","prototype":"$template","attributes":[{"name":"row","target":{"name":"set","accept":{"name":"table cell"},"min":1}}]},{"name":"table cell","nature":"concrete","attributes":[{"name":"header","target":{"name":"static element"}},{"name":"body","target":{"name":"attribute element"}}]},{"name":"table header cell","nature":"concrete","prototype":"render","attributes":[{"name":"content","target":{"name":"static element"}}]},{"name":"table body cell","nature":"concrete","prototype":"render","attributes":[{"name":"content","target":{"name":"attribute element"}}]},{"name":"static element","nature":"prototype","prototype":"element","attributes":[]},{"name":"atomic element","nature":"prototype","prototype":"static element","attributes":[{"name":"content","target":{"name":"string"}}]},{"name":"static text","nature":"concrete","prototype":"atomic element","attributes":[{"name":"content type","alias":"contentType","target":{"name":"string","values":["text","html"]},"value":"text"}],"build":{"contentType":"static","elementType":"text"}},{"name":"static image","nature":"concrete","prototype":"atomic element","attributes":[{"name":"height","target":{"name":"number"}},{"name":"width","target":{"name":"number"}},{"name":"url","alias":"src","target":{"name":"string"}},{"name":"alternative text","alias":"alt","target":{"name":"string"}}],"build":{"contentType":"static","elementType":"image"}},{"name":"static HTML","nature":"concrete","prototype":"atomic element","attributes":[{"name":"selector","target":{"name":"string"}}],"build":{"contentType":"static","elementType":"html"}},{"name":"static link","nature":"concrete","prototype":"static element","attributes":[{"name":"url","alias":"href","target":{"name":"string"}},{"name":"url type","alias":"urlType","target":{"name":"string","values":["link","email","phone"]}},{"name":"content","target":{"name":"set","accept":{"name":"static element"}}},{"name":"download","target":{"name":"boolean"}}],"build":{"contentType":"static","elementType":"link"}},{"name":"dynamic element","nature":"prototype","prototype":"element","attributes":[]},{"name":"input","nature":"concrete","prototype":"dynamic element","attributes":[{"name":"placeholder","target":{"name":"string"}}],"build":{"contentType":"dynamic","elementType":"input"}},{"name":"checkbox","nature":"concrete","prototype":"dynamic element","attributes":[{"name":"label","target":{"name":"string"}}],"build":{"contentType":"dynamic","elementType":"checkbox"}},{"name":"attribute element","nature":"concrete","prototype":"element","attributes":[{"name":"value","target":{"name":"string"}},{"name":"tag","target":{"name":"tag"},"required":true}],"build":{"contentType":"attribute"}},{"name":"template element","nature":"concrete","prototype":"element","attributes":[{"name":"value","target":{"name":"reference","accept":{"name":"template"}}}],"build":{"contentType":"template"}},{"name":"style","nature":"concrete","attributes":[{"name":"css","target":{"name":"set","accept":{"name":"string"},"min":1}}]}]}')},678:t=>{t.exports=JSON.parse('{"editor":{"name":"Gentleman projection","root":["projection","template"],"header":{"tabs":[{}],"css":["editor-header"]},"body":{"concept":{"actions":[{"name":"build"}],"css":["concept-section"]},"css":["editor-body"]},"menu":{"actions":[{"name":"build-projection","content":"Build","downloadable":true},{"name":"preview-projection","content":"Preview"},{"name":"export"}],"css":["editor-menu"]}}}')},445:t=>{t.exports=JSON.parse('{"projection":[{"concept":{"name":"template"},"type":"layout","tags":[],"projection":{"type":"stack","orientation":"vertical","style":{"css":["model-projection"]},"disposition":[{"type":"layout","layout":{"type":"wrap","style":{"css":["model-projection-header"]},"disposition":[{"type":"static","static":{"type":"text","content":"Template Projection","style":{"css":["model-projection-header__title"]}}},{"type":"attribute","name":"name"}]}},{"type":"layout","layout":{"type":"stack","orientation":"vertical","style":{"css":["model-projection-body"]},"disposition":[{"type":"attribute","name":"content","tag":"element-set"}]}}]}},{"concept":{"name":"template"},"type":"layout","tags":["choice","choice-selection"],"projection":{"type":"wrap","disposition":[{"type":"attribute","name":"name"}]}},{"concept":{"name":"projection"},"type":"layout","tags":[],"projection":{"type":"stack","orientation":"vertical","style":{"css":["model-projection"]},"disposition":[{"type":"layout","layout":{"type":"wrap","style":{"css":["model-projection-header"]},"disposition":[{"type":"static","static":{"type":"text","content":"Projection","style":{"css":["model-projection-header__title"]}}}]}},{"type":"layout","layout":{"type":"stack","orientation":"vertical","style":{"css":["model-projection-body"]},"disposition":[{"type":"attribute","name":"concept"},{"type":"attribute","name":"tags","tag":"tag-set"},{"type":"attribute","name":"content"}]}}]}},{"concept":{"name":"component"},"type":"field","tags":[],"projection":{"type":"choice","content":[{"type":"choice","choice":{"style":{"css":"component-choice-list"},"option":{"style":{"css":"component-choice-option"}}}}],"style":{"css":"component-choice"}}},{"concept":{"name":"layout component"},"type":"layout","tags":["choice-selection"],"projection":{"type":"wrap","disposition":[{"type":"attribute","name":"layout"}],"style":{"css":["layout-component"]}}},{"concept":{"name":"layout component"},"type":"layout","tags":["choice"],"projection":{"type":"wrap","focusable":false,"disposition":[{"type":"static","static":{"type":"text","help":"Layout","content":"Layout","focusable":false}}]}},{"concept":{"name":"field component"},"type":"layout","tags":["choice-selection"],"projection":{"type":"wrap","disposition":[{"type":"attribute","name":"field"}],"style":{"css":["field-component"]}}},{"concept":{"name":"field component"},"type":"layout","tags":["choice"],"projection":{"type":"wrap","focusable":false,"disposition":[{"type":"static","static":{"type":"text","help":"Field component","content":"Field","focusable":false}}]}},{"concept":{"name":"concept"},"type":"layout","tags":[],"projection":{"type":"stack","orientation":"vertical","style":{"css":["projection-concept-container"]},"disposition":[{"type":"static","static":{"type":"text","content":"Concept","help":"Projection target concept","style":{"css":["title","projection-concept__title"]}}},{"type":"layout","layout":{"type":"wrap","style":{"css":["projection-concept__content"]},"disposition":[{"type":"attribute","name":"name","tag":"concept-string"},{"type":"attribute","name":"prototype","tag":"concept-string"}]}}]}},{"concept":{"name":"style"},"type":"layout","readonly":true,"tags":[],"projection":{"type":"wrap","style":{"css":["projection-style-container"]},"disposition":[{"type":"attribute","name":"css","tag":"css-set"}]}},{"concept":{"name":"field"},"type":"field","tags":[],"projection":{"type":"choice","style":{"css":"field-choice"},"choice":{"style":{"css":"field-choice-list"},"option":{"style":{"css":"field-choice-option"}}}}},{"concept":{"name":"text field"},"type":"layout","tags":["choice-selection"],"projection":{"type":"stack","orientation":"vertical","style":{"css":"field-config-container"},"disposition":[{"type":"layout","layout":{"type":"wrap","style":{"css":"field-state-properties"},"disposition":[{"type":"attribute","name":"disabled","tag":"field-binary-state"},{"type":"attribute","name":"readonly","tag":"field-binary-state"}]}},{"type":"attribute","name":"input"},{"type":"attribute","name":"style","optional":{"type":"layout","layout":{"type":"wrap","style":{"css":["field-option","field-option--style"]},"disposition":[{"type":"static","static":{"type":"text","content":"Define style properties"}}]}}}]}},{"concept":{"name":"input"},"type":"layout","tags":["input-all"],"projection":{"type":"stack","orientation":"vertical","style":{"css":"input-config-container"},"disposition":[{"type":"static","static":{"type":"text","style":{"css":["title","input-config__title"]},"content":"Input"}},{"type":"projection","tag":"input-simple","content":{"type":"text","content":"Simple design"}},{"type":"attribute","name":"placeholder","tag":"placeholder-string"},{"type":"attribute","name":"after","tag":"field-extra","optional":{"type":"layout","layout":{"type":"wrap","style":{"css":["field-option","field-option--before"]},"disposition":[{"type":"static","static":{"type":"text","content":"Add element after"}}]}}},{"type":"attribute","name":"style","optional":{"type":"layout","layout":{"type":"wrap","style":{"css":["field-option","field-option--style"]},"disposition":[{"type":"static","static":{"type":"text","content":"Define style properties"}}]}}}]}},{"concept":{"name":"input"},"type":"layout","tags":["input-simple"],"projection":{"type":"stack","orientation":"vertical","style":{"css":"input-config-container"},"disposition":[{"type":"static","static":{"type":"text","style":{"css":["title","input-config__title"]},"content":"Input"}},{"type":"attribute","name":"placeholder","tag":"placeholder-string"},{"type":"attribute","name":"style","optional":{"type":"layout","layout":{"type":"wrap","style":{"css":["field-option","field-option--style"]},"disposition":[{"type":"static","static":{"type":"text","content":"Define style properties"}}]}}}]}},{"concept":{"name":"text field"},"type":"layout","tags":["choice"],"projection":{"type":"wrap","focusable":false,"disposition":[{"type":"static","static":{"type":"text","help":"Text Field","content":"Text"}}]}},{"concept":{"name":"binary field"},"type":"layout","tags":["choice-selection"],"projection":{"type":"stack","orientation":"vertical","style":{"css":"field-config-container"},"disposition":[{"type":"layout","layout":{"type":"wrap","style":{"css":"field-state-properties"},"disposition":[{"type":"attribute","name":"disabled","tag":"field-binary-state"},{"type":"attribute","name":"readonly","tag":"field-binary-state"}]}},{"type":"attribute","name":"label","tag":"label-string"},{"type":"attribute","name":"style","optional":{"type":"layout","layout":{"type":"wrap","style":{"css":["field-option","field-option--style"]},"disposition":[{"type":"static","static":{"type":"text","content":"Define style properties"}}]}}}]}},{"concept":{"name":"binary field"},"type":"layout","tags":["choice"],"projection":{"type":"wrap","focusable":false,"disposition":[{"type":"static","static":{"type":"text","help":"Binary Field","content":"Binary"}}]}},{"concept":{"name":"choice field"},"type":"layout","tags":["choice-selection"],"projection":{"type":"stack","orientation":"vertical","style":{"css":"field-config-container"},"disposition":[{"type":"layout","layout":{"type":"wrap","style":{"css":"field-state-properties"},"disposition":[{"type":"attribute","name":"disabled","tag":"field-binary-state"},{"type":"attribute","name":"readonly","tag":"field-binary-state"}]}},{"type":"attribute","name":"style","optional":{"type":"layout","layout":{"type":"wrap","style":{"css":["field-option","field-option--style"]},"disposition":[{"type":"static","static":{"type":"text","content":"Define style properties"}}]}}}]}},{"concept":{"name":"choice field"},"type":"layout","tags":["choice"],"projection":{"type":"wrap","focusable":false,"disposition":[{"type":"static","static":{"type":"text","help":"Choice Field","content":"Choice"}}]}},{"concept":{"name":"list field"},"type":"layout","tags":["choice-selection"],"projection":{"type":"stack","orientation":"vertical","style":{"css":"field-config-container"},"disposition":[{"type":"attribute","name":"orientation","tag":"orientation-string"},{"type":"attribute","name":"style","optional":{"type":"layout","layout":{"type":"wrap","style":{"css":["field-option","field-option--style"]},"disposition":[{"type":"static","static":{"type":"text","content":"Define style properties"}}]}}}]}},{"concept":{"name":"list field"},"type":"layout","tags":["choice"],"projection":{"type":"wrap","focusable":false,"disposition":[{"type":"static","static":{"type":"text","help":"List Field","content":"List"}}]}},{"concept":{"name":"table field"},"type":"layout","tags":["choice-selection"],"projection":{"type":"stack","orientation":"vertical","style":{"css":"field-config-container"},"disposition":[{"type":"layout","layout":{"type":"wrap","style":{"css":"field-state-properties"},"disposition":[{"type":"attribute","name":"disabled","tag":"field-binary-state"},{"type":"attribute","name":"readonly","tag":"field-binary-state"}]}},{"type":"attribute","name":"concept","tag":"concept-string"},{"type":"attribute","name":"template","tag":"template-string"},{"type":"attribute","name":"style","optional":{"type":"layout","layout":{"type":"wrap","style":{"css":["field-option","field-option--style"]},"disposition":[{"type":"static","static":{"type":"text","content":"Define style properties"}}]}}}]}},{"concept":{"name":"table field"},"type":"layout","tags":["choice"],"projection":{"type":"wrap","focusable":false,"disposition":[{"type":"static","static":{"type":"text","help":"Table Field","content":"Table"}}]}},{"concept":{"name":"layout"},"type":"field","tags":[],"projection":{"type":"choice","style":{"css":"layout-choice"},"choice":{"style":{"css":"layout-choice-list"},"option":{"style":{"css":"layout-choice-option"}}}}},{"concept":{"name":"stack layout"},"type":"layout","tags":["choice-selection"],"projection":{"type":"stack","orientation":"vertical","style":{"css":["stack-layout"]},"disposition":[{"type":"layout","layout":{"type":"wrap","style":{"css":["stack-layout-header"]},"disposition":[{"type":"attribute","name":"orientation","tag":"orientation-string"}]}},{"type":"layout","layout":{"type":"wrap","style":{"css":["stack-layout-body"]},"disposition":[{"type":"attribute","name":"elements","tag":"stack-elements"},{"type":"attribute","name":"style","optional":{"type":"layout","layout":{"type":"wrap","style":{"css":["field-option","field-option--style"]},"disposition":[{"type":"static","static":{"type":"text","content":"Define style properties"}}]}}}]}}]}},{"concept":{"name":"stack layout"},"type":"layout","tags":["choice-selection"],"projection":{"type":"stack","orientation":"vertical","style":{"css":["stack-layout"]},"disposition":[{"type":"layout","layout":{"type":"wrap","style":{"css":["stack-layout-header"]},"disposition":[{"type":"attribute","name":"orientation","tag":"orientation-string"}]}}]}},{"concept":{"name":"stack layout"},"type":"layout","tags":["choice"],"context":{"name":"stack"},"projection":{"type":"wrap","focusable":false,"disposition":[{"type":"static","static":{"type":"text","help":"Stack Layout","content":"Stack"}}]}},{"concept":{"name":"wrap layout"},"type":"layout","tags":["choice-selection"],"projection":{"type":"stack","orientation":"vertical","style":{"css":["stack-layout"]},"disposition":[{"type":"layout","layout":{"type":"wrap","style":{"css":["stack-layout-body"]},"disposition":[{"type":"attribute","name":"elements","tag":"element-set"},{"type":"attribute","name":"style","optional":{"type":"layout","layout":{"type":"wrap","style":{"css":["field-option","field-option--style"]},"disposition":[{"type":"static","static":{"type":"text","content":"Define style properties"}}]}}}]}}]}},{"concept":{"name":"wrap layout"},"type":"layout","tags":["choice-selection"],"projection":{"type":"stack","orientation":"vertical","style":{"css":"stack-layout"},"disposition":[{"type":"layout","layout":{"type":"wrap","style":{"css":"stack-layout-body"},"disposition":[{"type":"attribute","name":"elements","tag":"element-set"}]}}]}},{"concept":{"name":"wrap layout"},"type":"layout","tags":["choice"],"projection":{"type":"wrap","focusable":false,"disposition":[{"type":"static","static":{"type":"text","help":"Wrap Layout","content":"Wrap"}}]}},{"concept":{"name":"table layout"},"type":"layout","tags":["choice-selection"],"projection":{"type":"stack","orientation":"vertical","style":{"css":"stack-layout"},"disposition":[{"type":"layout","layout":{"type":"wrap","style":{"css":"stack-layout-body"},"disposition":[{"type":"attribute","name":"elements","tag":"element-set"},{"type":"attribute","name":"style","optional":{"type":"layout","layout":{"type":"wrap","style":{"css":["field-option","field-option--style"]},"disposition":[{"type":"static","static":{"type":"text","content":"Define style properties"}}]}}}]}}]}},{"concept":{"name":"table layout"},"type":"layout","tags":["choice"],"projection":{"type":"wrap","focusable":false,"disposition":[{"type":"static","static":{"type":"text","help":"Table Layout","content":"Table"}}]}},{"concept":{"name":"row"},"type":"layout","tags":["list-item"],"projection":{"type":"stack","orientation":"vertical","style":{"css":"field-config-container"},"disposition":[{"type":"attribute","name":"cells"},{"type":"attribute","name":"style","optional":{"type":"layout","layout":{"type":"wrap","style":{"css":["field-option","field-option--style"]},"disposition":[{"type":"static","static":{"type":"text","content":"Define style properties"}}]}}}]}},{"concept":{"name":"cell"},"type":"layout","tags":["list-item"],"projection":{"type":"stack","orientation":"vertical","style":{"css":"field-config-container"},"disposition":[{"type":"attribute","name":"span"},{"type":"attribute","name":"content"},{"type":"attribute","name":"style","optional":{"type":"layout","layout":{"type":"wrap","style":{"css":["field-option","field-option--style"]},"disposition":[{"type":"static","static":{"type":"text","content":"Define style properties"}}]}}}]}},{"concept":{"name":"relative layout"},"type":"layout","tags":["choice"],"projection":{"type":"wrap","focusable":false,"disposition":[{"type":"static","static":{"type":"text","help":"Wrap Layout","content":"Relative"}}]}},{"concept":{"name":"template"},"type":"field","tags":[],"projection":{"type":"choice","choice":{"style":{"css":"template-choice"},"option":{"style":{"css":"template-choice-option"}}}}},{"concept":{"name":"table template"},"type":"layout","tags":["choice-selection"],"projection":{"type":"stack","orientation":"vertical","style":{"css":"stack-layout"},"disposition":[{"type":"layout","layout":{"type":"wrap","style":{"css":"stack-layout-body"},"disposition":[{"type":"static","static":{"type":"text","style":{"css":"table-section-title"},"content":"Header"}},{"type":"attribute","name":"header","tag":"cell-set"},{"type":"static","static":{"type":"text","style":{"css":"table-section-title"},"content":"Body"}},{"type":"attribute","name":"body","tag":"cell-set"}]}}]}},{"concept":{"name":"table template"},"type":"layout","tags":["choice"],"projection":{"type":"wrap","focusable":false,"disposition":[{"type":"static","static":{"type":"text","content":"Table template"}}]}},{"concept":{"name":"table header cell"},"type":"layout","tags":["list-item"],"projection":{"type":"wrap","disposition":[{"type":"attribute","name":"projection"}]}},{"concept":{"name":"table cell"},"type":"layout","tags":["list-item"],"projection":{"type":"wrap","disposition":[{"type":"attribute","name":"projection"}]}},{"concept":{"name":"element"},"type":"field","tags":["list-item"],"projection":{"type":"choice","style":{"css":["element-choice-container"]},"choice":{"style":{"css":["element-choice"]},"group":[{"name":"layout"},{"name":"static"},{"name":"attribute"}],"option":{"style":{"css":["element-choice-option"]}}},"action":{"filter":{"projection":{"type":"static","static":{"type":"text","content":"Filter"}}},"reset":{"projection":{"type":"static","static":{"type":"text","content":"Reset"}}}}}},{"concept":{"name":"element"},"type":"field","tags":["stack-element-choice"],"projection":{"type":"choice","style":{"css":["element-choice-container"]},"choice":{"style":{"css":["element-choice"]},"option":{"template":"stack-choice","style":{"css":["element-choice-option"]}}}}},{"concept":{"name":"layout element"},"type":"layout","tags":["choice-selection"],"projection":{"type":"wrap","disposition":[{"type":"attribute","name":"value"}]}},{"concept":{"name":"layout element"},"type":"layout","tags":["choice"],"projection":{"type":"wrap","focusable":false,"disposition":[{"type":"static","static":{"type":"text","content":"Layout"}}]}},{"concept":{"name":"static element"},"type":"field","tags":["list-item"],"projection":{"type":"choice","style":{"css":["static-choice-field"]},"choice":{"style":{"css":["static-choice"]},"option":{"style":{"css":["static-choice-option"]}}}}},{"concept":{"name":"static element"},"type":"field","tags":["field-extra"],"projection":{"type":"choice","style":{"css":["static-choice-field"]},"choice":{"style":{"css":["static-choice"]},"option":{"style":{"css":["static-choice-option"]}}}}},{"concept":{"name":"static text"},"type":"layout","tags":["choice-selection"],"projection":{"type":"wrap","style":{"css":"text-element"},"disposition":[{"type":"attribute","name":"content","tag":"value-string"},{"type":"attribute","name":"style","optional":{"type":"layout","layout":{"type":"wrap","style":{"css":["field-option","field-option--style"]},"disposition":[{"type":"static","static":{"type":"text","content":"Define style properties"}}]}}}]}},{"concept":{"name":"static text"},"type":"layout","tags":["choice","stack-choice"],"projection":{"type":"wrap","focusable":false,"disposition":[{"type":"static","static":{"type":"text","content":"Text"}}]}},{"concept":{"name":"static HTML"},"type":"layout","tags":["choice-selection"],"projection":{"type":"wrap","style":{"css":"text-element"},"disposition":[{"type":"attribute","name":"content","tag":"value-string"},{"type":"attribute","name":"style","optional":{"type":"layout","layout":{"type":"wrap","style":{"css":["field-option","field-option--style"]},"disposition":[{"type":"static","static":{"type":"text","content":"Define style properties"}}]}}}]}},{"concept":{"name":"static HTML"},"type":"layout","tags":["choice","stack-choice"],"projection":{"type":"wrap","focusable":false,"disposition":[{"type":"static","static":{"type":"text","content":"HTML"}}]}},{"concept":{"name":"static image"},"type":"layout","tags":["choice-selection"],"projection":{"type":"wrap","style":{"css":"text-element"},"disposition":[{"type":"attribute","name":"content","tag":"value-string"},{"type":"attribute","name":"height"},{"type":"attribute","name":"width"},{"type":"attribute","name":"alt","tag":"value-string"},{"type":"attribute","name":"style","optional":{"type":"layout","layout":{"type":"wrap","style":{"css":["field-option","field-option--style"]},"disposition":[{"type":"static","static":{"type":"text","content":"Define style properties"}}]}}}]}},{"concept":{"name":"static image"},"type":"layout","tags":["choice","stack-choice"],"projection":{"type":"wrap","focusable":false,"disposition":[{"type":"static","static":{"type":"text","content":"Image"}}]}},{"concept":{"name":"static link"},"type":"layout","tags":["choice-selection"],"projection":{"type":"wrap","style":{"css":["text-element"]},"disposition":[{"type":"attribute","name":"link"},{"type":"attribute","name":"content"},{"type":"attribute","name":"download"},{"type":"attribute","name":"target"},{"type":"attribute","name":"style","optional":{"type":"layout","layout":{"type":"wrap","style":{"css":["field-option","field-option--style"]},"disposition":[{"type":"static","static":{"type":"text","content":"Define style properties"}}]}}}]}},{"concept":{"name":"static link"},"type":"layout","tags":["choice","stack-choice"],"projection":{"type":"wrap","focusable":false,"disposition":[{"type":"static","static":{"type":"text","content":"Link"}}]}},{"concept":{"name":"attribute element"},"type":"layout","tags":["choice-selection"],"projection":{"type":"wrap","style":{"css":["attribute-element"]},"disposition":[{"type":"attribute","name":"value","tag":"attribute-string"},{"type":"attribute","name":"tag","tag":"tag-string","optional":{"type":"layout","layout":{"type":"wrap","style":{"css":["attribute-option","attribute-option--tag"]},"disposition":[{"type":"static","static":{"type":"text","content":"Add tag"}}]}}}]}},{"concept":{"name":"attribute element"},"type":"layout","tags":["choice","stack-choice"],"projection":{"type":"wrap","focusable":false,"disposition":[{"type":"static","static":{"type":"text","content":"Attribute"}}]}},{"concept":{"name":"boolean"},"type":"field","tags":[],"projection":{"type":"binary"}},{"concept":{"name":"boolean"},"type":"field","tags":["switch-boolean"],"projection":{"type":"binary","style":{"css":["switch-field"]},"label":{"style":{"css":["switch-field__label"]},"value":""},"input":{"style":{"css":["switch-field__input"]}}}},{"concept":{"name":"boolean"},"type":"field","tags":["field-binary-state"],"projection":{"type":"binary","style":{"css":["binary-field-state"]}}},{"concept":{"name":"number"},"type":"field","tags":[],"projection":{"type":"text"}},{"concept":{"name":"prototype"},"type":"field","tags":[],"projection":{"type":"choice"}},{"concept":{"name":"set"},"type":"field","tags":[],"projection":{"type":"list"}},{"concept":{"name":"set"},"type":"field","tags":["cell-set"],"projection":{"type":"list","orientation":"horizontal","style":{"css":["cell-list-container"]},"list":{"style":{"css":["cell-list"]},"item":{"style":{"css":["cell-list-item"]}}},"action":{"add":{"projection":{"type":"static","static":{"type":"text","help":"Add a cell","content":"Add"}}},"remove":{"style":{"css":"cell-list__btn-remove"},"projection":{"type":"static","static":{"type":"text","help":"Delete cell","content":""}}}}}},{"concept":{"name":"set"},"type":"field","tags":["tag-set"],"projection":{"type":"list","orientation":"horizontal","style":{"css":["tag-list-container"]},"before":{"projection":{"type":"static","static":{"type":"text","style":{"css":["tag-list-title"]},"content":"Tags"}}},"list":{"style":{"css":["tag-list"]},"item":{"template":"tag-item","style":{"css":["tag-list-item"]}}},"action":{"add":{"projection":{"type":"static","static":{"type":"text","content":"Add"}}},"remove":{"projection":{"type":"static","static":{"type":"text","content":"","style":{"css":["tag-list__btn-remove"]}}}}}}},{"concept":{"name":"set"},"type":"field","tags":["tag-reference-set"],"projection":{"type":"list","orientation":"horizontal","style":{"css":["tag-list-container"]},"before":{"projection":{"type":"static","static":{"type":"text","style":{"css":["tag-list-title"]},"content":"Tags"}}},"list":{"style":{"css":["tag-list"]},"item":{"template":"tag-reference","style":{"css":["tag-list-item"]}}},"action":{"add":{"projection":{"type":"static","static":{"type":"text","content":"Add"}}},"remove":{"projection":{"type":"static","static":{"type":"text","content":"","style":{"css":["tag-list__btn-remove"]}}}}}}},{"concept":{"name":"set"},"type":"field","tags":["css-set"],"projection":{"type":"list","orientation":"horizontal","style":{"css":["css-list-container"]},"before":{"projection":{"type":"static","static":{"type":"text","style":{"css":["tag-list-title"]},"content":"CSS class selectors"}}},"list":{"style":{"css":["css-list"]},"item":{"style":{"css":["css-list-item"]}}},"action":{"add":{"projection":{"type":"static","static":{"type":"text","content":"Add class"}}},"remove":{"projection":{"type":"static","static":{"type":"text","content":"","style":{"css":["css-list__btn-remove"]}}}}}}},{"concept":{"name":"set"},"type":"field","tags":["element-set"],"projection":{"type":"list","style":{"css":["element-list-container"]},"list":{"style":{"css":["element-list"]},"item":{"template":{"tag":"list-item"},"style":{"css":["element-list-item"]}}},"action":{"add":{"projection":{"type":"static","static":{"type":"text","style":{"css":["element-list__btn-add"]},"content":"+"}}},"remove":{"projection":{"type":"static","static":{"type":"text","style":{"css":["element-list__btn-remove"]},"content":""}}}}}},{"concept":{"name":"set"},"type":"field","tags":["stack-elements"],"projection":{"type":"list","style":{"css":["element-list-container"]},"list":{"style":{"css":["element-list"]},"item":{"template":"stack-element-choice","style":{"css":["element-list-item"]}}},"action":{"add":{"projection":{"type":"static","static":{"type":"text","style":{"css":["element-list__btn-add"]},"content":"+"}}},"remove":{"projection":{"type":"static","static":{"type":"text","style":{"css":["element-list__btn-remove"]},"content":""}}}}}},{"concept":{"name":"string"},"type":"field","tags":["attribute-string"],"projection":{"type":"text","input":{"placeholder":"name","style":{"css":["textfield--attribute__input"]}},"style":{"css":["textfield--attribute"]}}},{"concept":{"name":"string"},"type":"field","tags":["value-string"],"projection":{"type":"text","input":{"style":{"css":["textfield--value__input"]}},"style":{"css":["textfield--value"]}}},{"concept":{"name":"string"},"type":"field","tags":["tag-string"],"projection":{"type":"text","input":{"placeholder":"Tag","style":{"css":["textfield--tag__input"]}},"style":{"css":["textfield--tag"]}}},{"concept":{"name":"string"},"type":"field","tags":["concept-string"],"projection":{"type":"text","placeholder":"name","before":{"projection":{"type":"property","style":{"css":["textfield--concept__label"]},"name":"name"}},"input":{"style":{"css":["textfield--concept__input"]}},"style":{"css":["textfield--concept"]}}},{"concept":{"name":"string"},"type":"field","tags":["placeholder-string"],"projection":{"type":"text","before":{"projection":{"type":"static","static":{"type":"text","style":{"css":["textfield--placeholder__label"]},"content":"Placeholder"}}},"input":{"style":{"css":["textfield--placeholder__input"]}},"style":{"css":["textfield--placeholder"]}}},{"concept":{"name":"string"},"type":"field","tags":["label-string"],"projection":{"type":"text","before":{"projection":{"type":"static","static":{"type":"text","content":"Label","style":{"css":["textfield--label__label"]}}}},"input":{"style":{"css":["textfield--label__input"]}},"style":{"css":["textfield--label"]}}},{"concept":{"name":"string"},"type":"field","tags":["template-string"],"projection":{"type":"text","before":{"projection":{"type":"static","static":{"type":"text","content":"Table template","style":{"css":["textfield--template__label"]}}}},"input":{"style":{"css":["textfield--template__input"]}},"style":{"css":["textfield--template"]}}},{"concept":{"name":"string"},"type":"field","tags":["table-concept-string"],"projection":{"type":"text","before":{"projection":{"type":"static","static":{"type":"text","content":"Table concept","style":{"css":["textfield--template__label"]}}}},"input":{"style":{"css":["textfield--template__input"]}},"style":{"css":["textfield--template"]}}},{"concept":{"name":"string"},"type":"field","tags":["orientation-string"],"projection":{"type":"choice","style":{"css":["orientation-choice"]},"choice":{"option":{"style":{"css":["orientation-choice-option"]}},"style":{"css":["orientation-choice-list"]}}}},{"concept":{"name":"tag"},"type":"field","tags":["tag-item"],"projection":{"type":"text","input":{"placeholder":"Tag","style":{"css":["textfield--tag__input"]}},"style":{"css":["textfield--tag"]}}},{"concept":{"name":"tag"},"type":"field","tags":["reference-choice","reference-value"],"projection":{"type":"text","readonly":true,"input":{"placeholder":"undefined","style":{"css":["textfield--tag__input"]}},"style":{"css":["textfield--tag"]}}}]}')},230:t=>{t.exports=JSON.parse('{"projection":[{"concept":{"name":"template"},"type":"layout","tags":[],"projection":{"type":"stack","orientation":"vertical","style":{"css":["model-projection"]},"disposition":[{"type":"layout","layout":{"type":"wrap","style":{"css":["line","model-projection__line"]},"disposition":[{"type":"static","static":{"type":"text","content":"Define template","style":{"css":["keyword"]}}},{"type":"attribute","name":"name","tag":"simple-string"}]}},{"type":"layout","layout":{"type":"wrap","style":{"css":["line","model-projection__line"]},"disposition":[{"type":"static","static":{"type":"text","content":"TEMPLATE CONTENT","style":{"css":["title"]}}}]}},{"type":"attribute","name":"content","tag":"element-set"}]}},{"concept":{"name":"template"},"type":"layout","tags":["choice","choice-selection"],"projection":{"type":"wrap","disposition":[{"type":"attribute","name":"name"}]}},{"concept":{"name":"projection"},"type":"layout","tags":[],"projection":{"type":"stack","orientation":"vertical","style":{"css":["model-projection"]},"disposition":[{"type":"layout","layout":{"type":"wrap","style":{"css":["line","model-projection__line"]},"disposition":[{"type":"static","static":{"type":"text","content":"Define projection as","style":{"css":["keyword"]}}},{"type":"attribute","name":"name","tag":"simple-string"}]}},{"type":"attribute","name":"concept"},{"type":"attribute","name":"tags","tag":"tag-set"},{"type":"layout","layout":{"type":"wrap","style":{"css":["line","model-projection__line"]},"disposition":[{"type":"static","static":{"type":"text","content":"PROJECTION COMPONENT","style":{"css":["title"]}}}]}},{"type":"attribute","name":"content"}]}},{"type":"template","name":"style section","content":[{"type":"static","static":{"type":"text","content":"Define style","style":{"css":["keyword"]}}},{"type":"attribute","name":"style"}]},{"concept":{"name":"component"},"type":"field","tags":[],"projection":{"type":"choice","content":[{"type":"static","static":{"type":"text","content":"Define main as","style":{"css":["keyword"]}}},{"type":"input","input":{"placeholder":"layout or field","style":{"css":["bracket-choice__input"]}}},{"type":"choice","choice":{"style":{"css":["bracket-choice__list"]},"option":{"style":{"css":["bracket-choice__list-option"]}}}}],"selection":{"style":{"css":["bracket-choice__selection"]}},"style":{"css":["bracket-choice"]}}},{"concept":{"name":"layout component"},"type":"layout","tags":["choice-selection"],"projection":{"type":"wrap","disposition":[{"type":"attribute","name":"layout"}],"style":{"css":["layout-component"]}}},{"concept":{"name":"layout component"},"type":"layout","tags":["choice"],"projection":{"type":"wrap","focusable":false,"disposition":[{"type":"static","static":{"type":"text","help":"Layout","content":"Layout","focusable":false}}]}},{"concept":{"name":"field component"},"type":"layout","tags":["choice-selection"],"projection":{"type":"wrap","disposition":[{"type":"attribute","name":"field"}],"style":{"css":["field-component"]}}},{"concept":{"name":"field component"},"type":"layout","tags":["choice"],"projection":{"type":"wrap","focusable":false,"disposition":[{"type":"static","static":{"type":"text","help":"Field component","content":"Field","focusable":false}}]}},{"concept":{"name":"concept"},"type":"layout","tags":[],"projection":{"type":"stack","orientation":"vertical","style":{"css":["block"]},"disposition":[{"type":"static","static":{"type":"text","content":"For concept with ","help":"Projection target concept","style":{"css":["keyword","block__line"]}}},{"type":"layout","layout":{"type":"wrap","style":{"css":["block__content"]},"disposition":[{"type":"attribute","name":"name","tag":"label-string"},{"type":"attribute","name":"prototype","tag":"label-string"}]}}]}},{"concept":{"name":"style"},"type":"layout","tags":[],"projection":{"type":"wrap","style":{"css":["projection-style-container"]},"disposition":[{"type":"attribute","name":"css","tag":"css-set"}]}},{"concept":{"name":"field"},"type":"field","tags":[],"projection":{"type":"choice","content":[{"type":"static","static":{"type":"text","help":"Layout component","content":"Define field as","style":{"css":["keyword"]}}},{"type":"input","input":{"placeholder":"type","style":{"css":["bracket-choice__input"]}}},{"type":"choice","choice":{"style":{"css":["bracket-choice__list"]},"option":{"style":{"css":["bracket-choice__list-option"]}}}}],"selection":{"style":{"css":["bracket-choice__selection"]}},"style":{"css":["bracket-choice"]}}},{"concept":{"name":"text field"},"type":"layout","tags":["choice-selection"],"projection":{"type":"stack","orientation":"vertical","style":{"css":["field-config","field-config--text"]},"disposition":[{"type":"attribute","name":"disabled","tag":"field-binary-state"},{"type":"attribute","name":"readonly","tag":"field-binary-state"},{"type":"attribute","name":"multiline","tag":"field-binary-state"},{"type":"attribute","name":"content","tag":"element-set"},{"type":"attribute","name":"style","state":[{"rule":{"type":"and","and":[{"type":"eq","eq":[{"prop":"required"},false]},{"type":"eq","eq":[{"prop":"created"},false]}]},"result":{"content":{"type":"layout","layout":{"type":"wrap","style":{"css":["model-concept-option","model-concept-option--prototype"]},"disposition":[{"type":"static","static":{"type":"text","content":"Use a prototype"}}]}}}}]}]}},{"concept":{"name":"text field"},"type":"layout","tags":["choice"],"projection":{"type":"wrap","focusable":false,"disposition":[{"type":"static","static":{"type":"text","help":"Text Field","content":"Text","focusable":false}}]}},{"concept":{"name":"binary field"},"type":"layout","tags":["choice-selection"],"projection":{"type":"stack","orientation":"vertical","style":{"css":["field-config","field-config--binary"]},"disposition":[{"type":"attribute","name":"disabled","tag":"field-binary-state"},{"type":"attribute","name":"readonly","tag":"field-binary-state"},{"type":"attribute","name":"content","tag":"state-element-set"}]}},{"concept":{"name":"binary field"},"type":"layout","tags":["choice"],"projection":{"type":"wrap","focusable":false,"disposition":[{"type":"static","static":{"type":"text","help":"Binary Field","content":"Binary","focusable":false}}]}},{"concept":{"name":"choice field"},"type":"layout","tags":["choice-selection"],"projection":{"type":"stack","orientation":"vertical","style":{"css":["field-config"]},"disposition":[{"type":"layout","layout":{"type":"wrap","style":{"css":["field-state-properties"]},"disposition":[{"type":"attribute","name":"disabled","tag":"field-binary-state"},{"type":"attribute","name":"readonly","tag":"field-binary-state"},{"type":"static","static":{"type":"text","content":"Use choice option template with ","style":{"css":["keyword","block__line"]}}},{"type":"attribute","name":"choice template"},{"type":"static","static":{"type":"text","content":"Use choice selection template with ","style":{"css":["keyword","block__line"]}}},{"type":"attribute","name":"selection template"}]}}]}},{"concept":{"name":"choice field"},"type":"layout","tags":["choice"],"projection":{"type":"wrap","focusable":false,"disposition":[{"type":"static","static":{"type":"text","help":"Choice Field","content":"Choice","focusable":false}}]}},{"concept":{"name":"list field"},"type":"layout","tags":["choice-selection"],"projection":{"type":"stack","orientation":"vertical","style":{"css":["listfield-config"]},"disposition":[{"type":"static","static":{"type":"text","content":"Use item template with ","style":{"css":["keyword","block__line"]}}},{"type":"attribute","name":"item template"}]}},{"concept":{"name":"list field"},"type":"layout","tags":["choice"],"projection":{"type":"wrap","focusable":false,"disposition":[{"type":"static","static":{"type":"text","help":"List Field","content":"List"}}]}},{"concept":{"name":"list field action"},"type":"layout","tags":["choice-selection"],"projection":{"type":"stack","orientation":"vertical","style":{"css":["field-action-config"]},"disposition":[{"type":"static","static":{"type":"text","content":"List actions","style":{"css":["title"]}}},{"type":"static","static":{"type":"text","content":"Define \'add\' action:","style":{"css":["keyword"]}}},{"type":"attribute","name":"add"},{"type":"static","static":{"type":"text","content":"Define \'remove\' action:","style":{"css":["keyword"]}}},{"type":"attribute","name":"remove"}]}},{"concept":{"name":"action"},"type":"layout","tags":["choice-selection"],"projection":{"type":"stack","orientation":"vertical","style":{"css":["action-config"]},"disposition":[{"type":"attribute","name":"content","tag":"element-set"}]}},{"concept":{"name":"table field"},"type":"layout","tags":["choice-selection"],"projection":{"type":"stack","orientation":"vertical","style":{"css":["field-config"]},"disposition":[{"type":"layout","layout":{"type":"wrap","style":{"css":["field-state-properties"]},"disposition":[{"type":"attribute","name":"disabled","tag":"field-binary-state"},{"type":"attribute","name":"readonly","tag":"field-binary-state"}]}},{"type":"attribute","name":"concept","tag":"concept-string"},{"type":"attribute","name":"template","tag":"template-string"}]}},{"concept":{"name":"table field"},"type":"layout","tags":["choice"],"projection":{"type":"wrap","focusable":false,"disposition":[{"type":"static","static":{"type":"text","help":"Table Field","content":"Table"}}]}},{"concept":{"name":"input"},"type":"layout","tags":["choice-selection"],"projection":{"type":"stack","orientation":"vertical","style":{"css":["input-config"]},"disposition":[{"type":"attribute","name":"placeholder","tag":"label-string"}]}},{"concept":{"name":"input"},"type":"layout","tags":["choice"],"projection":{"type":"wrap","focusable":false,"disposition":[{"type":"static","static":{"type":"text","help":"HTML input","content":"Input"}}]}},{"concept":{"name":"checkbox"},"type":"layout","tags":["choice-selection"],"projection":{"type":"stack","orientation":"vertical","style":{"css":["checkbox-config"]},"disposition":[{"type":"attribute","name":"label","tag":"concept-string"}]}},{"concept":{"name":"checkbox"},"type":"layout","tags":["choice"],"projection":{"type":"wrap","focusable":false,"disposition":[{"type":"static","static":{"type":"text","help":"HTML checkbox","content":"Checkbox"}}]}},{"concept":{"name":"layout"},"type":"field","tags":[],"projection":{"type":"choice","content":[{"type":"static","static":{"type":"text","help":"Layout component","content":"Begin layout with","style":{"css":["keyword"]}}},{"type":"input","input":{"placeholder":"type","style":{"css":["bracket-choice__input"]}}},{"type":"choice","choice":{"style":{"css":["bracket-choice__list"]},"option":{"style":{"css":["bracket-choice__list-option"]}}}}],"selection":{"style":{"css":["bracket-choice__selection"]}},"style":{"css":["bracket-choice"]}}},{"concept":{"name":"stack layout"},"type":"layout","tags":["choice-selection","choice-selection--content"],"projection":{"type":"stack","orientation":"vertical","style":{"css":["stack-layout"]},"disposition":[{"type":"attribute","name":"orientation","tag":"label-string"},{"type":"attribute","name":"elements","tag":"element-set"},{"type":"template","name":"style section"}]}},{"concept":{"name":"stack layout"},"type":"layout","tags":["choice-selection","choice-selection--style"],"projection":{"type":"stack","orientation":"vertical","style":{"css":["stack-layout"]},"disposition":[{"type":"projection","tag":"choice-selection--content","content":{"type":"static","static":{"type":"text","content":"Return to content"}},"style":{"css":["projection-style","projection-style--hide"]}},{"type":"attribute","name":"style"}]}},{"concept":{"name":"stack layout"},"type":"layout","tags":["choice"],"projection":{"type":"wrap","focusable":false,"disposition":[{"type":"static","static":{"type":"text","help":"Stack Layout","content":"Stack"}}]}},{"concept":{"name":"wrap layout"},"type":"layout","tags":["choice-selection"],"projection":{"type":"stack","orientation":"vertical","style":{"css":["stack-layout"]},"disposition":[{"type":"layout","layout":{"type":"wrap","style":{"css":["stack-layout-body"]},"disposition":[{"type":"attribute","name":"elements","tag":"element-set"}]}}]}},{"concept":{"name":"wrap layout"},"type":"layout","tags":["choice-selection"],"projection":{"type":"stack","orientation":"vertical","style":{"css":["stack-layout"]},"disposition":[{"type":"layout","layout":{"type":"wrap","style":{"css":["stack-layout-body"]},"disposition":[{"type":"attribute","name":"elements","tag":"element-set"}]}}]}},{"concept":{"name":"wrap layout"},"type":"layout","tags":["choice"],"projection":{"type":"wrap","focusable":false,"disposition":[{"type":"static","static":{"type":"text","help":"Wrap Layout","content":"Wrap"}}]}},{"concept":{"name":"cell layout"},"type":"layout","tags":["choice-selection"],"projection":{"type":"stack","orientation":"vertical","style":{"css":["cell-layout"]},"disposition":[{"type":"attribute","name":"orientation","tag":"concept-string"},{"type":"attribute","name":"rows","tag":"row-set"}]}},{"concept":{"name":"cell layout"},"type":"layout","tags":["choice"],"projection":{"type":"wrap","focusable":false,"disposition":[{"type":"static","static":{"type":"text","help":"Cell Layout","content":"Cell"}}]}},{"concept":{"name":"row"},"type":"layout","tags":["list-item"],"projection":{"type":"wrap","style":{"css":["field-config"]},"disposition":[{"type":"attribute","name":"cells","tag":"cell-set"}]}},{"concept":{"name":"cell"},"type":"layout","tags":["list-item"],"projection":{"type":"stack","orientation":"vertical","style":{"css":["field-config"]},"disposition":[{"type":"attribute","name":"span"},{"type":"attribute","name":"content"}]}},{"concept":{"name":"template"},"type":"field","tags":[],"projection":{"type":"choice","content":[{"type":"choice","choice":{"style":{"css":["template-choice"]},"option":{"style":{"css":["template-choice-option"]}}}}]}},{"concept":{"name":"table template"},"type":"layout","tags":["choice-selection"],"projection":{"type":"stack","orientation":"vertical","style":{"css":["stack-layout"]},"disposition":[{"type":"layout","layout":{"type":"wrap","style":{"css":["stack-layout-body"]},"disposition":[{"type":"text","style":{"css":["table-section-title"]},"content":"Header"},{"type":"attribute","name":"header","tag":"cell-set"},{"type":"text","style":{"css":["table-section-title"]},"content":"Body"},{"type":"attribute","name":"body","tag":"cell-set"}]}}]}},{"concept":{"name":"table template"},"type":"layout","tags":["choice"],"projection":{"type":"wrap","focusable":false,"disposition":[{"type":"text","content":"Table template"}]}},{"concept":{"name":"table header cell"},"type":"layout","tags":["list-item"],"projection":{"type":"wrap","disposition":[{"type":"attribute","name":"projection"}]}},{"concept":{"name":"table cell"},"type":"layout","tags":["list-item"],"projection":{"type":"wrap","disposition":[{"type":"attribute","name":"projection"}]}},{"concept":{"name":"template reference"},"type":"layout","tags":[],"projection":{"type":"wrap","disposition":[{"type":"attribute","name":"tag","tag":"label-string"},{"type":"attribute","name":"name","tag":"label-string"}],"style":{"css":["block__content"]}}},{"concept":{"name":"state element"},"type":"layout","tags":["list-item"],"projection":{"type":"stack","orientation":"vertical","disposition":[{"type":"attribute","name":"state"},{"type":"attribute","name":"content"}]}},{"concept":{"name":"element"},"type":"field","tags":["list-item"],"projection":{"type":"choice","content":[{"type":"input","input":{"placeholder":"select","style":{"css":["bracket-choice__input"]}}},{"type":"choice","choice":{"style":{"css":["bracket-choice__list"]},"option":{"style":{"css":["bracket-choice__list-option"]}}}}],"action":{"filter":{"projection":{"type":"text","content":"Filter"}},"reset":{"projection":{"type":"text","content":"Reset"}}},"selection":{"style":{"css":["bracket-choice__selection"]}},"style":{"css":["bracket-choice"]}}},{"concept":{"name":"static element"},"type":"field","tags":["list-item"],"projection":{"type":"choice","content":[{"type":"choice","choice":{"style":{"css":["static-choice"]},"option":{"style":{"css":["static-choice-option"]}}}}],"style":{"css":["static-choice-field"]}}},{"concept":{"name":"static element"},"type":"field","tags":["field-extra"],"projection":{"type":"choice","content":[{"type":"choice","choice":{"style":{"css":["static-choice"]},"option":{"style":{"css":["static-choice-option"]}}}}],"style":{"css":["static-choice-field"]}}},{"concept":{"name":"static text"},"type":"layout","tags":["choice-selection","choice-selection--content"],"projection":{"type":"stack","orientation":"vertical","disposition":[{"type":"attribute","name":"content","tag":"text-string"},{"type":"attribute","name":"content type","tag":"label-string"}],"style":{"css":["static-text"]}}},{"concept":{"name":"static text"},"type":"layout","tags":["choice-selection","choice-selection--style"],"projection":{"type":"stack","orientation":"vertical","disposition":[{"type":"projection","tag":"choice-selection--content","content":{"type":"static","static":{"type":"text","content":"Back"}},"style":{"css":["projection-style","projection-style--hide"]}},{"type":"attribute","name":"style"}]}},{"concept":{"name":"static text"},"type":"layout","tags":["choice","stack-choice"],"projection":{"type":"wrap","focusable":false,"disposition":[{"type":"static","static":{"type":"text","content":"Text"}}]}},{"concept":{"name":"static HTML"},"type":"layout","tags":["choice-selection"],"projection":{"type":"wrap","style":{"css":["text-element"]},"disposition":[{"type":"attribute","name":"selector","tag":"label-string"}]}},{"concept":{"name":"static HTML"},"type":"layout","tags":["choice","stack-choice"],"projection":{"type":"wrap","focusable":false,"disposition":[{"type":"static","static":{"type":"text","content":"HTML"}}]}},{"concept":{"name":"static image"},"type":"layout","tags":["choice-selection"],"projection":{"type":"stack","orientation":"vertical","style":{"css":["static-image"]},"disposition":[{"type":"attribute","name":"url","tag":"label-string"},{"type":"attribute","name":"alternative text","tag":"label-string"}]}},{"concept":{"name":"static image"},"type":"layout","tags":["choice","stack-choice"],"projection":{"type":"wrap","focusable":false,"disposition":[{"type":"static","static":{"type":"text","content":"Image"}}]}},{"concept":{"name":"static link"},"type":"layout","tags":["choice-selection"],"projection":{"type":"stack","orientation":"vertical","style":{"css":["text-element"]},"disposition":[{"type":"attribute","name":"url","tag":"label-string"},{"type":"attribute","name":"url type","tag":"label-string"},{"type":"attribute","name":"content","tag":"element-set"}]}},{"concept":{"name":"static link"},"type":"layout","tags":["choice","stack-choice"],"projection":{"type":"wrap","focusable":false,"disposition":[{"type":"static","static":{"type":"text","content":"Link"}}]}},{"concept":{"name":"attribute element"},"type":"layout","tags":["choice-selection"],"projection":{"type":"stack","orientation":"vertical","style":{"css":["attribute-element"]},"disposition":[{"type":"attribute","name":"value","tag":"label-string"},{"type":"attribute","name":"tag","tag":"label-string"}]}},{"concept":{"name":"attribute element"},"type":"layout","tags":["choice","stack-choice"],"projection":{"type":"wrap","focusable":false,"disposition":[{"type":"static","static":{"type":"text","content":"Attribute"}}]}},{"concept":{"name":"template element"},"type":"layout","tags":["choice-selection"],"projection":{"type":"stack","orientation":"vertical","style":{"css":["attribute-element"]},"disposition":[{"type":"attribute","name":"value","tag":"template-reference"}]}},{"concept":{"name":"template element"},"type":"layout","tags":["choice","stack-choice"],"projection":{"type":"wrap","focusable":false,"disposition":[{"type":"static","static":{"type":"text","content":"Template"}}]}},{"concept":{"name":"boolean"},"type":"field","tags":["field-binary-state"],"projection":{"type":"binary","style":{"css":["yesno-field"]},"state":[{"rule":{"type":"eq","eq":[{"prop":"value"},true]},"result":{"label":{"projection":[{"type":"static","static":{"type":"text","content":{"type":"property","name":"refname"},"style":{"css":["label","yesno-field__label"]}}},{"type":"static","static":{"type":"text","content":"yes","focusable":false,"style":{"css":["yesno-field__value"]}}}]}}},{"rule":{"type":"eq","eq":[{"prop":"value"},false]},"result":{"label":{"projection":[{"type":"static","static":{"type":"text","content":{"type":"property","name":"refname"},"style":{"css":["label","yesno-field__label"]}}},{"type":"static","static":{"type":"text","content":"no","focusable":false,"style":{"css":["yesno-field__value"]}}}]}}}],"input":{"style":{"css":["yesno-field__input"]}}}},{"concept":{"name":"number"},"type":"field","tags":[],"projection":{"type":"text","content":[{"type":"input","input":{"type":"number"}}]}},{"concept":{"name":"reference"},"type":"field","tags":["template-reference"],"projection":{"type":"choice","content":[{"type":"input","input":{"placeholder":"null","style":{"css":["reference-choice--textual__input"]}}},{"type":"choice","choice":{"style":{"css":["reference-choice--textual__list"]},"option":{"style":{"css":["reference-choice--textual__list-option"]}}}}],"style":{"css":["reference-choice--textual"]}}},{"concept":{"name":"set"},"tags":["tag-set"],"type":"field","projection":{"type":"list","content":[{"type":"static","static":{"type":"text","content":"Tags","style":{"css":["tag-list-title"]}}},{"type":"list","list":{"item":{"template":{"tag":"tag-item"},"style":{"css":["tag-list-item"]}},"style":{"css":["tag-list"]}}},{"type":"action","name":"add","content":{"type":"static","static":{"type":"text","content":"Add"}}}],"action":{"remove":{"content":{"type":"static","static":{"type":"text","style":{"css":["tag-list__btn-remove"]},"content":""}}}},"style":{"css":["tag-list-container"]}}},{"concept":{"name":"set"},"tags":["css-set"],"type":"field","projection":{"type":"list","content":[{"type":"static","static":{"type":"text","style":{"css":["title","css-list-title"]},"content":"CSS class"}},{"type":"list","list":{"item":{"template":{"tag":"css-string"},"style":{"css":["css-list-item"]}},"style":{"css":["css-list"]}}},{"type":"action","name":"add","content":{"type":"static","static":{"type":"text","content":"Add class","focusable":false}}}],"action":{"remove":{"content":{"type":"static","static":{"type":"text","content":"✖","style":{"css":["css-list__btn-remove"]},"focusable":false}}}},"style":{"css":["css-list-container"]}}},{"concept":{"name":"set"},"type":"field","tags":["element-set"],"projection":{"type":"list","content":[{"type":"list","list":{"item":{"template":{"tag":"list-item"},"style":{"css":["element-list-item"]}},"style":{"css":["element-list"]}}},{"type":"action","name":"add","content":{"type":"static","static":{"type":"text","content":"+","focusable":false,"style":{"css":["element-list__btn-add"]}}}}],"style":{"css":["element-list-container"]},"action":{"remove":{"content":{"type":"static","static":{"type":"text","style":{"css":["element-list__btn-remove"]},"content":""}}}}}},{"concept":{"name":"set"},"type":"field","tags":["row-set"],"projection":{"type":"list","content":[{"type":"static","static":{"type":"text","content":"Rows","style":{"css":["title","row-list__title"]}}},{"type":"list","list":{"item":{"template":{"tag":"list-item"},"style":{"css":["row-list-item"]}},"style":{"css":["row-list"]}}},{"type":"action","name":"add","content":{"type":"static","static":{"type":"text","content":"+","focusable":false,"style":{"css":["row-list__btn-add"]}}}}],"style":{"css":["row-list-container"]},"action":{"remove":{"content":{"type":"static","static":{"type":"text","style":{"css":["row-list__btn-remove"]},"content":""}}}}}},{"concept":{"name":"set"},"type":"field","tags":["cell-set"],"projection":{"type":"list","content":[{"type":"list","list":{"item":{"template":{"tag":"list-item"},"style":{"css":["cell-list-item"]}},"style":{"css":["cell-list"]}}},{"type":"action","name":"add","content":{"type":"static","static":{"type":"text","content":"+","focusable":false,"style":{"css":["cell-list__btn-add"]}}}}],"style":{"css":["cell-list-container"]},"action":{"remove":{"content":{"type":"static","static":{"type":"text","style":{"css":["cell-list__btn-remove"]},"content":""}}}}}},{"concept":{"name":"set"},"type":"field","tags":["state-element-set"],"projection":{"type":"list","content":[{"type":"list","list":{"item":{"template":{"tag":"list-item"},"style":{"css":["element-list-item"]}},"style":{"css":["element-list"]}}},{"type":"action","name":"add","content":{"type":"static","static":{"type":"text","content":"+","focusable":false,"style":{"css":["element-list__btn-add"]}}}}],"action":{"remove":{"content":{"type":"static","static":{"type":"text","style":{"css":["element-list__btn-remove"]},"content":""}}}},"style":{"css":["element-list-container"]}}},{"concept":{"name":"string"},"type":"field","tags":["simple-string"],"projection":{"type":"text","resizable":true,"content":[{"type":"input","input":{"style":{"css":["textfield--labeled__input"]}}}],"style":{"css":["textfield--labeled"]}}},{"concept":{"name":"string"},"type":"field","tags":["tag-string"],"projection":{"type":"text","content":[{"type":"input","input":{"placeholder":"Tag","style":{"css":["textfield--tag__input"]}}}],"style":{"css":["textfield--tag"]}}},{"concept":{"name":"string"},"type":"field","tags":["css-string"],"projection":{"type":"text","resizable":true,"content":[{"type":"input","input":{"placeholder":"class","style":{"css":["textfield--labeled__input"]}}}],"style":{"css":["textfield--labeled"]}}},{"concept":{"name":"string"},"type":"field","tags":["concept-string"],"projection":{"type":"text","placeholder":"name","content":[{"type":"static","static":{"type":"text","content":{"type":"property","name":"refname"},"style":{"css":["label","textfield--concept__label"]}}},{"type":"input","input":{"style":{"css":["textfield--concept__input"]},"placeholder":"null"}}],"style":{"css":["textfield--concept"]}}},{"concept":{"name":"string"},"type":"field","tags":["label-string"],"projection":{"type":"text","resizable":true,"content":[{"type":"static","static":{"type":"text","content":{"type":"property","name":"refname"},"style":{"css":["name-field--textual__label"]}}},{"type":"input","input":{"style":{"css":["name-field--textual__input"]}}}],"style":{"css":["name-field","name-field--textual"]}}},{"concept":{"name":"string"},"type":"field","tags":["text-string"],"projection":{"type":"text","resizable":true,"content":[{"type":"input","input":{"placeholder":"text...","style":{"css":["name-field--textual__input"]}}}],"style":{"css":["name-field","name-field--textual"]}}},{"concept":{"name":"string"},"type":"field","tags":["table-concept-string"],"projection":{"type":"text","content":[{"type":"static","static":{"type":"text","content":"Table concept","style":{"css":["textfield--template__label"]}}},{"type":"input","input":{"style":{"css":["textfield--template__input"]}}}],"style":{"css":["textfield--template"]}}},{"concept":{"name":"tag"},"type":"field","tags":["tag-item"],"projection":{"type":"text","content":[{"type":"input","input":{"placeholder":"Tag","style":{"css":["textfield--tag__input"]}}}],"style":{"css":["textfield--tag"]}}},{"concept":{"name":"tag"},"type":"field","tags":["tag-string"],"projection":{"type":"text","content":[{"type":"static","static":{"type":"text","content":{"type":"property","name":"refname"},"style":{"css":["label","textfield--concept__label"]}}},{"type":"input","input":{"placeholder":"Tag","style":{"css":["textfield--concept__input"]}}}],"style":{"css":["textfield--concept"]}}}]}')}},e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={exports:{}};return t[n](s,s.exports,i),s.exports}(()=>{function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||n(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){if(t){if("string"==typeof t)return s(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?s(t,e):void 0}}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function a(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return i?m(t)?e:t:y(t)?e:t}function o(t){return p(t)&&0===t.length}function r(t){return"string"==typeof t||t instanceof String}function c(t){return"function"==typeof t}function l(e){return!y(e)&&"object"===t(e)}function p(t){return!y(t)&&"function"==typeof t[Symbol.iterator]}function u(t){return p(t)&&!r(t)}function h(t){return null===t}function d(t){return!t||r(t)&&(0===t.length||/^\s*$/.test(t))}function m(t){return void 0===t}function y(t){return h(t)||m(t)}var f=Object.prototype.hasOwnProperty,b=(Object.prototype.isPrototypeOf,function(t,e){return f.call(t,e)});function g(t){if(y(t)||!l(t))return t;var e=t.constructor();for(var i in t)b(t,i)&&(t.isActiveClone=null,e[i]=g(t[i]),delete t.isActiveClone);return e}function v(t){return d(t)?t:t.toLowerCase().replace(/\b\w/g,(function(t){return t.toUpperCase()}))}function x(t){return d(t)?t:v(t.replace(/[_-]+/g," ").replace(/\s+/g," ").trim()).replace(/\s+/g,"")}function w(t){var e=a(t,!1);return r(e)&&"true"===e.toLowerCase()||Number.isInteger(e)&&1===e||!0===e}var j=function(t,i){if(!Array.isArray(t)||!c(i))throw new TypeError("Bad argument");for(var n=0;n<t.length;n++){var s=t[n];if(!i.apply(void 0,e(Array.isArray(s)?s:[s])))return!1}return!0},E=function(t){return!y(t)&&t.nodeType===Node.ELEMENT_NODE},_=function(t){return t instanceof Node},C=function(t){return E(t)&&t instanceof Element},k=function(t,e){return!!(E(t)&&t instanceof HTMLElement)&&(!p(e)||(i=t,s=Array.isArray(e)?e:[e],a=function(t){return i instanceof t},r=function(t){return i.tagName===t.toUpperCase()},c=function(t){return Array.isArray(t)?t.includes(i.type):i.type===t},s.some((function(t){if(!p(t))return!1;var e,i,s=t,l=null;if(Array.isArray(t)){var h=(i=2,function(t){if(Array.isArray(t))return t}(e=t)||function(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var i=[],n=!0,s=!1,a=void 0;try{for(var o,r=t[Symbol.iterator]();!(n=(o=r.next()).done)&&(i.push(o.value),!e||i.length!==e);n=!0);}catch(t){s=!0,a=t}finally{try{n||null==r.return||r.return()}finally{if(s)throw a}}return i}}(e,i)||n(e,i)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());s=h[0],l=h[1]}s=s.toLowerCase();var d="HTML".concat(b(L,s)?L[s]:x(s),"Element");return!(!a(window[d])&&!r(s))&&(!(u(l)&&!o(l))||c(l))}))));var i,s,a,r,c},L={a:"Anchor",br:"BR",dl:"DList",datalist:"DataList",fieldset:"FieldSet",frameset:"FrameSet",hr:"HR",h1:"Heading",h2:"Heading",h3:"Heading",h4:"Heading",h5:"Heading",h6:"Heading",li:"LI",ol:"OList",optgroup:"OptGroup",p:"Paragraph",q:"Quote",blockquote:"Quote",caption:"TableCaption",td:"TableCell",th:"TableCell",col:"TableCol",tr:"TableRow",tbody:"TableSection",thead:"TableSection",tfoot:"TableSection",textarea:"TextArea",ul:"UList"},T=function(t){return function(t){return!y(t)&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE}(t)&&t instanceof DocumentFragment};function A(t,e){if(!r(e))return null;var i=document.createElement("template");return i.innerHTML=e.trim(),i.content[t]}var S=A.bind(null,"firstChild");function V(t,e,i){t[e]=i}function O(t,e,i){t.setAttribute(e,i)}A.bind(null,"childNodes");var M="accesskey,autocapitalize,class,dataset,editable,draggable,hidden,id,inputmode,lang,html,style,tabindex,text,title",R={accesskey:[V,"accessKey"],autocapitalize:[V,"autocapitalize"],class:[function(t,i){var n;if(!k(t))throw new Error("Bad argument: The passed `element` argument is not a valid HTML Element");return(n=t.classList).add.apply(n,e(Array.isArray(i)?i:[i])),t}],dataset:[function(t,e,i){Object.assign(t[e],i)},"dataset"],draggable:[V,"draggable"],editable:[V,"contentEditable"],hidden:[V,"hidden"],id:[V,"id"],inputmode:[V,"inputMode"],lang:[V,"lang"],html:[V,"innerHTML"],style:[V,"style"],tabindex:[V,"tabIndex"],text:[V,"textContent"],title:[V,"title"],data:[V,"data"],cite:[V,"cite"],download:[V,"download"],ping:[V,"ping"],target:[V,"target"],coords:[V,"coords"],shape:[V,"shape"],autoplay:[V,"autoplay"],buffered:[V,"buffered"],controls:[V,"controls"],loop:[V,"loop"],muted:[V,"muted"],playsinline:[O,"playsinline"],poster:[V,"poster"],preload:[V,"preload"],crossorigin:[V,"crossOrigin"],decoding:[V,"decoding"],height:[V,"height"],ismap:[V,"isMap"],loading:[V,"loading"],srcset:[V,"srcset"],width:[V,"width"],alt:[V,"alt"],as:[V,"as"],media:[V,"media"],rel:[V,"rel"],src:[V,"src"],sizes:[V,"sizes"],reversed:[V,"reversed"],start:[V,"start"],accept:[V,"accept"],"accept-charset":[V,"acceptCharset"],action:[V,"action"],autocomplete:[V,"autocomplete"],autofocus:[V,"autofocus"],capture:[V,"capture"],checked:[V,"checked"],cols:[V,"cols"],disabled:[V,"disabled"],dirname:[V,"dirName"],enctype:[V,"enctype"],for:[V,"for"],form:[V,"form"],formaction:[V,"formAction"],formenctype:[V,"formEnctype"],formmethod:[V,"formMethod"],formnovalidate:[V,"formNoValidate"],formtarget:[V,"formTarget"],high:[V,"high"],label:[V,"label"],list:[V,"list"],low:[V,"low"],max:[V,"max"],maxlength:[V,"maxLength"],method:[V,"method"],min:[V,"min"],minlength:[V,"minLength"],multiple:[V,"multiple"],name:[V,"name"],novalidate:[V,"noValidate"],optimum:[V,"optimum"],pattern:[V,"pattern"],placeholder:[V,"placeholder"],readonly:[V,"readOnly"],required:[V,"required"],rows:[V,"rows"],selected:[V,"selected"],size:[V,"size"],spellcheck:[O,"spellcheck"],step:[V,"step"],wrap:[V,"wrap"],default:[V,"default"],kind:[V,"kind"],srclang:[V,"srclang"],abbr:[V,"abbr"],colspan:[V,"colSpan"],span:[V,"span"],rowspan:[V,"rowSpan"],scope:[V,"scope"],href:[V,"href"],hreflang:[V,"hreflang"],datetime:[V,"dateTime"],type:[V,"type"],value:[V,"value"],usemap:[V,"useMap"]};function N(t,i,n){var s=document.createElement(t);return k(s)?(l(n)&&function(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(!k(t))throw new Error("Bad argument: The given element argument is not a valid HTML Element");if(!l(i))return t;for(var s=function(t){return M.includes(t)||n.includes(t)},a=0,o=Object.keys(i);a<o.length;a++){var r=o[a];if(s(r)){var c=i[r],p=R[r].slice(0);p.shift().apply(void 0,[t].concat(e(p),[c]))}}}(s,n,a(i,"")),s):null}function P(t,e,i,n){var s=N(t,e,i);return k(s)?(y(n)||ft(s,n),s):null}function q(t,e,i,n,s){var a=N(t,e,n);return k(a)?(y(s)||ft(a,s,i),a):null}function I(t){var e=document.createDocumentFragment();return y(t)||ft(e,t),e}N.bind(null,"link","as,crossorigin,disabled,href,hreflang,media,rel,sizes,type"),P.bind(null,"template","");var H=P.bind(null,"header",""),$=(P.bind(null,"footer",""),P.bind(null,"main",""),P.bind(null,"article",""),P.bind(null,"section","")),F=(P.bind(null,"nav",""),P.bind(null,"aside",""),P.bind(null,"h1",""),P.bind(null,"h2",""),P.bind(null,"h3","")),B=P.bind(null,"h4",""),D=(P.bind(null,"h5",""),P.bind(null,"h6",""),P.bind(null,"div","")),z=(P.bind(null,"object","data,height,name,type,usemap,width"),N.bind(null,"embed","height,src,type,width"),N.bind(null,"br",""),N.bind(null,"hr",""),P.bind(null,"p","")),W=(P.bind(null,"blockquote","cite"),function(t){return k(t,"li")?t:J(null,t)}),U=q.bind(null,"ul","",W),J=(q.bind(null,"ol","reversed,start,type",W),P.bind(null,"li","value")),G=(P.bind(null,"dl",""),P.bind(null,"dt",""),P.bind(null,"dd",""),P.bind(null,"a","download,href,hreflang,ping,rel,target,type")),X=(N.bind(null,"area","alt,coords,download,href,hreflang,media,ping,rel,shape,target"),N.bind(null,"base","href,target"),N.bind(null,"img","alt,crossorigin,decoding,height,ismap,loading,sizes,src,srcset,usemap,width")),Y=P.bind(null,"audio","autoplay,controls,crossorigin,loop,muted,preload,src"),K=(P.bind(null,"video","autoplay,controls,crossorigin,height,loop,muted,playsinline,poster,preload,src,width"),N.bind(null,"source","media,sizes,src,srcset,type"),N.bind(null,"track","default,kind,label,src,srclang"),P.bind(null,"picture",""),P.bind(null,"figure",""),P.bind(null,"figcaption",""),P.bind(null,"span","")),Q=P.bind(null,"strong",""),Z=P.bind(null,"em",""),tt=(P.bind(null,"mark",""),P.bind(null,"samp",""),P.bind(null,"sub",""),P.bind(null,"sup",""),P.bind(null,"del","cite,datetime"),P.bind(null,"ins","cite,datetime"),P.bind(null,"q","cite"),P.bind(null,"abbr",""),P.bind(null,"b",""),P.bind(null,"i","")),et=(P.bind(null,"s",""),P.bind(null,"u",""),P.bind(null,"cite",""),P.bind(null,"time","datetime"),P.bind(null,"code",""),P.bind(null,"form","accept-charset,action,autocomplete,enctype,method,name,novalidate,rel,target"),N.bind(null,"input","accept,alt,autocomplete,autofocus,capture,checked,dirname,disabled,height,max,maxlength,minlength,min,multiple,name,pattern,placeholder,readonly,required,size,src,step,type,value,width")),it=P.bind(null,"textarea","autocomplete,autofocus,cols,disabled,maxlength,minlength,name,placeholder,readonly,required,rows,spellcheck,value,wrap"),nt=P.bind(null,"label","for"),st=(q.bind(null,"select","autocomplete,autofocus,disabled,multiple,name,required,size",(function(t){return k(t,["option","optgroup"])?t:Array.isArray(t)?ot(null,t):st(null,t)})),P.bind(null,"option","disabled,label,selected,value")),at=function(t){return k(t,"option")?t:st(null,t)},ot=q.bind(null,"optgroup","disabled,label",at),rt=(P.bind(null,"fieldset","disabled,name"),P.bind(null,"legend",""),q.bind(null,"datalist","",at),P.bind(null,"meter","high,low,max,min,optimum,value"),P.bind(null,"progress","max,value"),P.bind(null,"output","name,value"),P.bind(null,"button","autofocus,disabled,formaction,formenctype,formmethod,formnovalidate,formtarget,name,type,value")),ct=P.bind(null,"table",""),lt=(P.bind(null,"caption",""),function(t){return k(t,"tr")?t:dt(null,t)}),pt=q.bind(null,"thead","",lt),ut=q.bind(null,"tbody","",lt),ht=q.bind(null,"tfoot","",lt),dt=(N.bind(null,"col","span"),q.bind(null,"colgroup","span",(function(t){return k(t,"col")?t:null})),q.bind(null,"tr","",(function(t){return k(t,["th","td"])?t:yt(null,t)}))),mt=P.bind(null,"th","abbr,colspan,rowspan,scope"),yt=P.bind(null,"td","colspan,rowspan");function ft(t,e,i){var n=Array.isArray(e)?e:[e];return c(i)&&(n=n.map((function(t){return i(t)}))),function(t,e){if(!_(t))throw new TypeError("Bad argument: The given `parent` is not a valid Node");if(!(e instanceof HTMLCollection||u(e)))throw new TypeError("Bad argument: The given `children` is not a valid HTMLCollection/HTMLElement array");var i=T(t)?t:document.createDocumentFragment();Array.from(e).forEach((function(t){var e;y(t)||i.appendChild(_(t)?t:(e=t.toString(),document.createTextNode(e.toString())))})),t!==i&&t.appendChild(i)}(t,n),t}var bt=function(t){return/^\.[a-zA-Z0-9_-]+$/.test(t)};function gt(t,e){var i=a(e,document);return d(t)?null:T(i)?i.querySelector(t):function(t){return/^#[a-zA-Z0-9_-]+$/.test(t)}(t)?document.getElementById(t.substring(1)):bt(t)?i.getElementsByClassName(t.substring(1))[0]:i.querySelector(t)}function vt(t,e,i){if(!k(e))return null;var n=e[t];if(c(i))for(;C(n)&&!i(n);)n=n[t];return n}var xt=vt.bind(null,"previousElementSibling"),wt=vt.bind(null,"nextElementSibling");function jt(t,e,i){if(!C(t))throw new TypeError("Bad argument: The given target parameter is not a valid HTML Element");if(!c(e))throw new TypeError("Bad argument: The given pred parameter is not a valid Function");var n=t.parentElement;return i>0?_t(n,e,i-1):Et(n,e)}function Et(t,e){return y(t)?null:e(t)?t:Et(t.parentElement,e)}function _t(t,e,i){return y(t)||0===i?null:e(t)?t:_t(t.parentElement,e,i-1)}function Ct(t,e){if(!_(t))throw new TypeError("Bad argument: The given `node` is not a valid Node");return c(e)?(Array.from(t.childNodes).forEach((function(i){e(i)&&t.removeChild(i)})),t):function(t){for(;t.hasChildNodes();)t.removeChild(t.lastChild);return t}(t)}var kt=function(t){return t.dataset.state},Lt=function(t,e){return t.dataset.state=e},Tt=function(t,e){return Lt(t,a(e,"checked"))},At=function(t,e){return Lt(t,a(e,"unchecked"))},St={name:"form-selector",container:null,items:null,selectedIndex:null,selectedItem:null,beforeChange:null,afterChange:null,get value(){return this.selectedItem.value},setSelectedItem:function(t){return this.items.includes(t)?(this.selectedItem&&this.selectedItem.setChecked(!1),this.selectedItem=t,this.selectedItem.setChecked(!0),!0):null},init:function(){for(var t=this.container.dataset.value,e=null,i=0;i<this.items.length;i++){var n=this.items[i];n.isChecked()&&this.setSelectedItem(n),n.value===t&&(e=n)}return h(this.selectedItem)&&!h(e)&&this.setSelectedItem(e),this.bindEvents(),this},bindEvents:function(){var t=this;this.container.addEventListener("change",(function(e){var i=e.target,n=!1;if(c(t.beforeChange)&&(n=!1===t.beforeChange(t,e)),n)return i.checked=!1,void t.items[t.selectedIndex].setChecked(!0);var s=t.items.find((function(t){return t.index===+a(i.dataset.selectorIndex,-1)}));y(s)||(t.setSelectedItem(s),c(t.afterChange)&&t.afterChange(t,e))}))}},Vt=function(t){return'[data-type="'.concat(t.name,'"]')},Ot={BaseSelector:Vt({name:"selector",container:null,items:null,selectedIndex:null,selectedItem:null,beforeChange:null,afterChange:null,get value(){return this.selectedItem.value},setSelectedItem:function(t){return this.items.includes(t)?(this.selectedItem&&this.selectedItem.setChecked(!1),this.selectedItem=t,this.selectedItem.setChecked(!0),!0):null},init:function(){for(var t=this.container.dataset.value,e=null,i=0;i<this.items.length;i++){var n=this.items[i];n.isChecked()&&this.setSelectedItem(n),n.value===t&&(e=n)}return h(this.selectedItem)&&!h(e)&&this.setSelectedItem(e),this.bindEvents(),this},bindEvents:function(){var t=this;this.container.addEventListener("click",(function(e){var i=e.target;if(b(i.dataset,"selector")){var n=!1;if(c(t.beforeChange)&&(n=!1===t.beforeChange(t,e)),!n){var s=t.items.find((function(t){return t.index===+a(i.dataset.selectorIndex,-1)}));y(s)||(t.setSelectedItem(s),c(t.afterChange)&&t.afterChange(t,e))}}}))}}),FormSelector:Vt(St)};new Error("Missing container: A selector requires a container"),new Error("Missing input: FormSelector requires an input in the container"),[Ot.BaseSelector,Ot.FormSelector].join(","),new Error("Missing container: A switch requires a container"),new Error("Missing input: FormSwitch requires an input in the container");var Mt="on",Rt=function(t){return'[data-type="'.concat(t.name,'"]')},Nt={name:"form-switch",container:null,input:null,beforeChange:null,afterChange:null,get value(){return this.input.value},isChecked:function(){return kt(this.container)===Mt},setChecked:function(t){return!y(t)&&(this.input.checked=t,t?Tt(this.container,Mt):At(this.container,"off"),!0)},toggle:function(){this.isChecked()?this.setChecked(!1):this.setChecked(!0)},init:function(t){return Object.assign(this,t),this.input.checked&&this.setChecked(!0),this.bindEvents(),this},bindEvents:function(){var t=this;this.input.addEventListener("change",(function(e){var i=!1;c(t.beforeChange)&&(i=!1===t.beforeChange(t,e)),i?t.input.checked=!t.input.checked:(t.toggle(),c(t.afterChange)&&t.afterChange(t,e))}))}};function Pt(t){let e=0;if(0!==window.getSelection().rangeCount){const i=window.getSelection().getRangeAt(0),n=i.cloneRange();n.selectNodeContents(t),n.setEnd(i.endContainer,i.endOffset),e=n.toString().length}return e}[Rt({name:"switch",container:null,beforeChange:null,afterChange:null,get value(){return this.container.dataset.value},isChecked:function(){return kt(this.container)===Mt},setChecked:function(t){return!y(t)&&(t?Tt(this.container,Mt):At(this.container,"off"),!0)},toggle:function(){this.isChecked()?this.setChecked(!1):this.setChecked(!0)},init:function(t){return Object.assign(this,t),this.isChecked()&&Tt(this.container,Mt),this.bindEvents(),this},bindEvents:function(){var t=this;this.container.addEventListener("click",(function(e){var i=!1;c(t.beforeChange)&&(i=!1===t.beforeChange(t,e)),i||(t.toggle(),c(t.afterChange)&&t.afterChange(t,e))}))}}),Rt(Nt)].join(","),new Error("Missing container: A collapsible requires a container"),new Error("Missing container: An accordion requires a container"),encodeURIComponent;const qt="hidden",It="shake";function Ht(t){return k(t)&&t.classList.remove(qt),t}function $t(t){return k(t)&&t.classList.add(qt),t}function Ft(t){return k(t)&&t.classList.toggle(qt),t}const Bt=t=>{t.classList.contains(It)||(t.classList.add(It),setTimeout((()=>{t.classList.remove(It)}),1e3))},Dt="Backspace",zt="Enter",Wt="Control",Ut="Escape",Jt="ArrowUp",Gt="ArrowRight",Xt="ArrowDown",Yt="Delete",Kt={NORMAL:"normal",WARNING:"warning",SUCCESS:"success",ERROR:"error"};function Qt(t){const e=t=>!b(t.dataset,"ignore");return e(t)?t:jt(t,e,10)}function Zt(t){if(!k)throw new TypeError("Bad parameter");return t.hidden||"none"===window.getComputedStyle(t).display}const te=t=>+t.substring(0,t.indexOf("px")),ee={top:t=>t.marginTop,right:t=>t.marginRight,bottom:t=>t.marginBottom,left:t=>t.marginLeft},ie={top:t=>t.paddingTop,right:t=>t.paddingRight,bottom:t=>t.paddingBottom,left:t=>t.paddingLeft},ne={top:t=>t.borderTopWidth,right:t=>t.borderRightWidth,bottom:t=>t.borderBottomWidth,left:t=>t.borderLeftWidth};function se(t,e,i){const n=window.getComputedStyle(t),s=window.getComputedStyle(e),a=ee[i](n),o=ie[i](s),r=ne[i](s);return c=t.getBoundingClientRect()[i]+te(a),l=e.getBoundingClientRect()[i]-te(o)-te(r),Math.abs(c-l)<2;var c,l}function ae(t,e){const i=e.children,{top:n,left:s}=t.getBoundingClientRect();if(se(t,e,"top"))return null;let a=null,o=99999,r=99999;for(let e=0;e<i.length;e++){const c=i[e];if(Zt(c)||c===t)continue;const{bottom:l,left:p}=c.getBoundingClientRect();let u=Math.abs(n-l),h=Math.abs(s-p);n>=l-1&&(u<o||u===o&&h<r)&&(a=c,o=u,r=h)}return a}function oe(t,e){const i=e.children,{top:n,left:s}=t.getBoundingClientRect();if(se(t,e,"left"))return null;let a=null,o=99999,r=99999;for(let e=0;e<i.length;e++){const c=i[e];if(Zt(c)||c===t)continue;const{top:l,right:p}=c.getBoundingClientRect();let u=Math.abs(n-l),h=Math.abs(s-p);s>=p-1&&(h<r||h===r&&u<o)&&(a=c,o=u,r=h)}return a}function re(t,e){const i=e.children,{top:n,right:s}=t.getBoundingClientRect();if(se(t,e,"right"))return null;let a=null,o=99999,r=99999;for(let e=0;e<i.length;e++){const c=i[e];if(Zt(c)||c===t)continue;const{top:l,left:p}=c.getBoundingClientRect();let u=Math.abs(n-l),h=Math.abs(s-p);s<=p+1&&(h<r||h===r&&u<o)&&(a=c,o=u,r=h)}return a}function ce(t,e){const i=e.children,{bottom:n,left:s}=t.getBoundingClientRect();if(se(t,e,"bottom"))return null;let a=null,o=99999,r=99999;for(let e=0;e<i.length;e++){const c=i[e];if(Zt(c)||c===t)continue;const{top:l,left:p}=c.getBoundingClientRect();let u=Math.abs(n-l),h=Math.abs(s-p);n<=l+1&&(u<o||u===o&&h<r)&&(a=c,o=u,r=h)}return a}var le={};const pe=function(t,e){if(!c(e))return!1;le[t]=le[t]||[],le[t].push(e)},ue=function(t,e){b(le,t)&&le[t].forEach((function(t){t(e)}))},he=function(){var t={},e=[];for(let t=0;t<256;t++)e[t]=t<16?"0"+t.toString(16):t.toString(16);return t.generate=function(){var t=4294967296*Math.random()>>>0,i=4294967296*Math.random()>>>0,n=4294967296*Math.random()>>>0,s=4294967296*Math.random()>>>0;return e[255&t]+e[t>>8&255]+e[t>>16&255]+e[t>>24&255]+"-"+e[255&i]+e[i>>8&255]+"-"+e[i>>16&15|64]+e[i>>24&255]+"-"+e[63&n|128]+e[n>>8&255]+"-"+e[n>>16&255]+e[n>>24&255]+e[255&s]+e[s>>8&255]+e[s>>16&255]+e[s>>24&255]},t}(),de=[{concept:{name:"set"},type:"field",tags:[],content:{type:"list"}},{concept:{name:"string"},type:"field",tags:[],content:{type:"text",content:[{type:"input"}]}},{concept:{name:"boolean"},type:"field",tags:[],content:{type:"binary"}},{concept:{name:"number"},type:"field",tags:[],content:{type:"text"}},{concept:{name:"reference"},type:"field",tags:[],content:{type:"link"}},{concept:{name:"prototype"},type:"field",tags:[],content:{type:"choice"}}],me="content",ye="name",fe="prototype",be="tags",ge=(t,e)=>t.getAttributeByName(e).target,ve=(t,e,i=!1)=>ge(t,e).getValue(i),xe=(t,e)=>ge(t,e).hasValue(),we=(t,e)=>t.isAttributeCreated(e),je=t=>ve(t,ye).toLowerCase(),Ee={projection:t=>function(t){const e=[],i=we(t,be)?ge(t,be).build():[];if(xe(t,me)||e.push("The projection is missing a content."),!o(e))return{success:!1,message:"Validation failed: The projection could not be built.",errors:e};const n=ve(t,me),s=n.getBuildProperty("type");let a={id:t.id,concept:ke(ge(t,"concept")),type:s,tags:i,content:_e[s](n),metadata:JSON.stringify(t.export())};return we(t,ye)&&xe(t,ye)&&(a.name=je(t)),{success:!0,message:a}}(t),template:t=>function(t){const e=[],i=je(t);if(d(i)&&e.push("The template is missing a name."),xe(t,me)||e.push("The template is missing a content."),!o(e))return{success:!1,message:"Validation failed: The template could not be built.",errors:e};const n=[];return ve(t,me).filter((t=>t.hasValue())).forEach((t=>{const e=t.getValue();n.push(Te(e))})),{success:!0,message:{id:t.id,type:"template",name:i,content:n}}}(t)},_e={layout:t=>Le(ve(t,"layout")),field:t=>function(t){var e={readonly:ve(t,"readonly"),disabled:ve(t,"disabled")};if(t.isAttributeCreated("style")&&(e.style=Se(ge(t,"style"))),"text field"===t.name)e.type="text",e.multiline=ve(t,"multiline"),e.content=[],ve(t,"content").filter((t=>t.hasValue())).forEach((t=>{const i=t.getValue();e.content.push(Te(i))}));else if("binary field"===t.name)e.type="binary",e.state=[],ve(t,"content").forEach((t=>{we(t,"state")?e.state.push({rule:{type:"eq",eq:[{prop:"value"},ve(t,"state")]},result:{label:{projection:Te(ve(t,"content"))}}}):e.label={projection:Te(ve(t,"content"))}}));else if("choice field"===t.name){e.type="choice";let i=ge(t,"choice template"),n=ge(t,"selection template");e.choice={option:{template:{tag:ve(i,"tag"),name:ve(i,"name")}},selection:{template:{tag:ve(n,"tag"),name:ve(n,"name")}}}}else if("link field"===t.name){e.type="link";let i=ge(t,"choice template"),n=ge(t,"value template");e.choice={option:{template:{tag:ve(i,"tag"),name:ve(i,"name")}},selection:{template:{tag:ve(n,"tag"),name:ve(n,"name")}}}}else if("list field"===t.name){e.type="list",we("orientation")&&(e.orientation=ve(t,"orientation"));let i=ge(t,"item template");e.list={item:{template:{tag:ve(i,"tag"),name:ve(i,"name")}}}}else if("table field"===t.name){let i={};t.isAttributeCreated("template")&&(i.name=ge(t,"template").getValue()),t.isAttributeCreated("concept")&&(i.concept=ge(t,"concept").getValue()),e.template=i,e.type="table"}return e}(ve(t,"field")),element:t=>Te(ve(t,"element"))};function Ce(t){const e=[...de],i=[],n=t.getConcepts(["projection","template"]);return o(n)?(this.notify("<strong>Empty model</strong>: There was no projection found to be built.",Kt.WARNING),!1):(n.forEach((t=>{const n=Ee[a(t.getBuildProperty("handler"),"")];if(!c(n))throw new Error("The projection's is missing a build handler.");const{success:s,errors:o,message:r}=n(t);s?e.find((t=>t.name&&t.name===r.name))?i.push(`The model has two projections with the same name: ${r.name}`):e.push(r):i.push(...o)})),o(i)?(this.notify("<strong>Build succeeded</strong>: The projection model was successfully built",Kt.SUCCESS),console.log(e),e):(this.notify("<strong>Validation failed</strong>: The model could not be built.<br> <em>See Log for more details</em>.",Kt.ERROR),console.error(i),!1))}function ke(t){const e={};return we(t,ye)&&(e.name=xe(t,ye)?ve(t,ye).toLowerCase():null),we(t,fe)&&(e.prototype=xe(t,fe)?ve(t,fe).toLowerCase():null),e}function Le(t){var e={},i=[];return"stack layout"===t.name?(e.type="stack",e.orientation=ve(t,"orientation"),ve(t,"elements").filter((t=>t.hasValue())).forEach((t=>{const e=t.getValue();i.push(Te(e))}))):"wrap layout"===t.name?(e.type="wrap",ve(t,"elements").filter((t=>t.hasValue())).forEach((t=>{const e=t.getValue();i.push(Te(e))}))):"cell layout"===t.name?(e.type="table",e.orientation=ve(t,"orientation"),ve(t,"rows").forEach((t=>{const e=[];ve(t,"cells").forEach((t=>{let i=ve(t,"span"),n=ve(t,"content");e.push({type:"cell",span:i,content:Te(n)})})),i.push(e)}))):"relative layout"===t.name&&(e.type="relative"),t.isAttributeCreated("style")&&(e.style=Se(ge(t,"style"))),e.disposition=i,e}function Te(t){const e=t.getBuildProperty("contentType"),i=t.getBuildProperty("elementType");if("static"===e)return{type:e,static:Ae(t,i)};if("dynamic"===e)return function(t,e){let i={type:e};return"input"===e?i.placeholder=ve(t,"placeholder"):"checkbox"===e?i.label=ve(t,"label"):"list"===e&&(i.selector=ve(t,"item")),we(t,"style")&&(i.style=Se(ge(t,"style"))),i}(t,i);if("attribute"===e){let i={type:e,name:ve(t,"value")};return t.isAttributeCreated("tag")&&(i.tag=ve(t,"tag")),i}return"layout"===e?{type:e,layout:Le(t)}:"template"===e?{type:e,name:je((n=t,"value",ge(n,"value").getReference()))}:null;var n}function Ae(t,e){let i={type:e};return"text"===e?(i.content=ve(t,"content"),i.contentType=ve(t,"content type")):"image"===e?(i.url=ve(t,"url"),i.alt=ve(t,"alternative text"),i.width=ve(t,"width"),i.height=ve(t,"height")):"html"===e?i.selector=ve(t,"selector"):"link"===e&&(i.url=ve(t,"url"),i.urlType=ve(t,"url type"),i.content=[],ve(t,"content").filter((t=>t.hasValue())).forEach((t=>{const e=t.getValue();i.content.push(Te(e))}))),we(t,"style")&&(i.style=Se(ge(t,"style"))),i}function Se(t){return t.isAttributeCreated("css")?{css:ge(t,"css").build()}:null}const Ve="attributes",Oe="base",Me="required",Re="properties",Ne="prototype",Pe=(t,e)=>t.getAttributeByName(e).target,qe=(t,e)=>Pe(t,e).getReference(),Ie=(t,e,i=!1)=>Pe(t,e).getValue(i),He=(t,e)=>Pe(t,e).hasValue(),$e=(t,e)=>t.isAttributeCreated(e),Fe=t=>Ie(t,"name").toLowerCase(),Be=t=>Ie(t,"description");function De(t){const e=[],i=[],n=t.getConcepts(["prototype concept","concrete concept","derivative concept"]);return o(n)?(this.notify("<strong>Empty model</strong>: There was no concept found to be built.",Kt.WARNING),!1):(n.forEach((t=>{const{success:n,errors:s,message:a}=function(t){const e=[],i=Fe(t),n=Be(t),s=t.getBuildProperty("nature"),a=[],r=[];if(d(i)&&e.push(`The ${s} concept's 'name' is missing a value.`),t.isAttributeCreated(Ve)&&Ie(t,Ve).forEach((t=>{const{success:i,errors:n,message:s}=function(t){const e=Fe(t),i=Be(t),n=!$e(t,Me)||!He(t,Me)||Ie(t,Me),s=[];return d(e)&&s.push("The attribute's 'name' is missing a value."),$e(t,"target")&&He(t,"target")||s.push(`The attribute '${e}' 'target' is missing a value.`),o(s)?{success:!0,message:{name:e,target:ze(Ie(t,"target")),required:n,description:i}}:{success:!1,message:"Validation failed: The attribute could not be built.",errors:s}}(t);i?a.find((t=>t.name===s.name))?e.push(`The concept has two attributes with the same name: ${s.name}`):a.push(s):e.push(...n)})),t.isAttributeCreated(Re)&&Ie(t,Re).forEach((t=>{const{success:i,errors:n,message:s}=function(t){const e=[],i=Fe(t),n=Be(t);d(i)&&e.push("The property's 'name' is missing a value."),$e(t,"target")&&He(t,"target")||e.push(`The property '${i}' 'target' is missing a value.`);const s=Ie(t,"target"),a=s.getProperty("type");return y(a)&&e.push(`The property '${i}' target's type is missing a value.`),o(e)?{success:!0,message:{name:Fe(t),type:a,value:Ie(s,"value"),description:n}}:{success:!1,message:"Validation failed: The property could not be built.",errors:e}}(t);i?r.find((t=>t.name===s.name))?e.push(`The concept has two properties with the same name: ${s.name}`):r.push(s):e.push(...n)})),!o(e))return{success:!1,message:"Validation failed: The concept could not be built.",errors:e};let c={id:t.id,name:i,description:n,nature:s,attributes:a,properties:r,metadata:JSON.stringify(t.export())};return t.isAttributeCreated(Ne)&&He(t,Ne)&&(c.prototype=Fe(qe(t,Ne))),t.isAttributeCreated(Oe)&&He(t,Oe)&&(c.base=ze(Ie(t,Oe))),{success:!0,message:c}}(t);n?e.find((t=>t.name===a.name))?i.push(`The model has two concepts with the same name: ${a.name}`):e.push(a):i.push(...s)})),o(i)?(this.notify("<strong>Build succeeded</strong>: The concept model was successfully built",Kt.SUCCESS),console.log(e),e):(this.notify("<strong>Validation failed</strong>: The model could not be built.<br> <em>See Log for more details</em>.",Kt.ERROR),console.error(i),!1))}function ze(t){let e=t.getBuildProperty("name");"concept"===e&&(e=Fe(qe(t,"concept")));const i={name:e};if(t.isAttributeCreated("accept")){let e=Ie(t,"accept");i.accept=ze(e)}return["default","ordered","pattern"].filter((e=>$e(t,e)&&He(t,e))).forEach((e=>{i[e]=Ie(t,e)})),["length","value","cardinality"].filter((e=>$e(t,e)&&He(t,e))).forEach((e=>{let n=Ie(t,e),s={};if("number constraint value"===n.name)He(n,"value")&&(s.value=Ie(n,"value"));else if("number constraint range"===n.name){let t=Pe(n,"min");He(t,"value")&&(s.min={value:Ie(t,"value"),included:Ie(t,"included")});let e=Pe(n,"max");He(e,"value")&&(s.max={value:Ie(e,"value"),included:Ie(e,"included")})}i[e]=s})),$e(t,"values")&&He(t,"values")&&(i.values=Ie(t,"values",!0)),i}const We={create(t,e){const i=Object.create(this);return i.concept=t,i.schema=e,i},model:null,schema:null,source:null,id:null,value:null,object:"structure",init(t){throw new Error("This function has not been implemented")}};Object.defineProperty(We,"model",{get(){return this.concept.model}}),Object.defineProperty(We,"alias",{get(){return this.schema.alias}}),Object.defineProperty(We,"name",{get(){return this.schema.name}}),Object.defineProperty(We,"description",{get(){return this.schema.description}}),Object.defineProperty(We,"required",{get(){return a(this.schema.required,!0)}});const Ue={object:"attribute",target:null,init(t){return this.target=this.model.createConcept(this.schema.target,{value:a(t,this.schema.value),parent:this.concept,ref:this}),this},getValue(){return this.target.value},copy(){if(!this.target.hasValue())return null;const{nature:t}=this.target;let e={name:this.target.name},i=this.target.exportValue();return"primitive"===t?e.value=i:"prototype"===t?e.value={name:this.target.value.name,attributes:i}:e.attributes=i,e},export(){const{nature:t}=this.target;let e={name:this.target.name},i=this.target.exportValue();return"primitive"===t?e.value=i:"prototype"===t?e.value={name:this.target.value.name,attributes:i}:e.attributes=i,e},toString(){return{[`attribute.${this.name}`]:this.target.toString()}}},Je=Object.assign(Object.create(We),Ue),Ge={attributes:null,initAttribute(){return this.attributes=[],this.attributes._created=new Set,this.attributes._updated=new Set,this.attributes._deleted=new Set,this},getAttributes(){return this.attributes},getAttribute(t){if(y(t))throw new TypeError("Bad argument");return"id"===t.type?this.getAttributeById(t.value):this.getAttributeByName(t)},getAttributeSchema(t){if(d(t))throw new TypeError("Bad argument");if(!this.hasAttribute(t))throw new Error(`Attribute '${t}' does not exist`);return g(this.attributeSchema.find((e=>e.name===t)))},getAttributeByName(t){if(d(t))throw new TypeError("Bad argument");var e=this.attributes.find((e=>e.name===t));return y(e)&&(e=this.createAttribute(t)),e},getAttributeById(t){if(d(t))throw new TypeError("Bad argument");return this.attributes.find((e=>e.id===t))},createAttribute(t,e){if(!this.hasAttribute(t))throw new Error(`Attribute not found: The concept '${this.name}' does not contain an attribute named ${t}`);const i=this.attributeSchema.find((e=>e.name===t));let n=this.model.getValue(e);var s=Je.create(this,i).init(n);return this.addAttribute(s),s},addAttribute(t){if(y(t)||"attribute"!==t.object)throw new Error("Bad argument: 'attribute' must be an attribute object");return this.attributes.push(t),this.attributes._created.add(t.name),this.notify("attribute.added",t),this},hasAttributes(){return!o(this.attributeSchema)||!o(this.attributes)},hasAttribute(t){return-1!==this.attributeSchema.findIndex((e=>e.name===t))},isAttributeRequired(t){return a(this.attributeSchema.find((e=>e.name===t)).required,!0)},isAttributeCreated(t){return this.attributes._created.has(t)},listAttributes(){const t=[];return this.attributeSchema.forEach((e=>{t.push({type:"attribute",name:e.name,alias:e.alias,description:e.description,target:e.target,accept:e.accept,required:this.isAttributeRequired(name),created:this.isAttributeCreated(name)})})),t},removeAttribute(t){if(this.isAttributeRequired(t))return{message:`The attribute '${t}' is required.`,success:!1};var e=this.attributes.findIndex((e=>e.name===t));if(-1===e)return{message:`The attribute '${t}' was not found.`,success:!1};var i=this.attributes.splice(e,1)[0];return this.attributes._created.delete(t),this.notify("attribute.removed",i),{message:`The attribute '${t}' was successfully removed.`,success:!0}}},Xe={listeners:null,initObserver(){return this.listeners=[],this},register(t){return this.listeners.includes(t)||this.listeners.push(t),!0},unregister(t){var e=this.listeners.indexOf(t);return-1!==e&&(this.listeners.splice(e,1),!0)},unregisterAll(){this.listeners=[]},notify(t,e){this.listeners.forEach((i=>{i.update(t,e)}))}},Ye={model:null,schema:null,source:null,id:null,name:null,description:null,alias:null,ref:null,actions:null,operations:null,accept:null,parent:null,references:null,value:null,values:null,action:null,shadows:null,history:null,kind:"concept",init(t={}){return this.accept=t.accept,this.parent=t.parent,this.ref=t.ref,this.values=a(t.values,a(this.schema.values,[])),this.alias=a(t.alias,this.schema.alias),this.description=a(t.description,this.schema.description),this.min=a(t.min,a(this.schema.min,1)),this.max=a(t.max,this.schema.max),this.initObserver(),"fake"!==this.nature&&(this.initAttribute(),this.initValue(t.value)),this},initValue(){throw new Error("This function has not been implemented")},getName(){return a(this.ref.name,this.name)},getAlias(){return a(this.alias,this.getName())},getAcceptedValues(){return!p(this.accept)&&y(this.accept.name)?"":r(this.accept)?this.accept:b(this.accept,"name")?this.accept.name:Array.isArray(this.accept)?this.accept.map((t=>this.getAcceptedValues.call({accept:t}))).join(" or "):void 0},getCandidates(){return this.values.forEach((t=>{l(t)&&(t.type="value")})),this.values},getStructure(){return[...this.listAttributes()]},exportValue(){return this.getValue()},getBuildProperty(t){const{build:e}=this.schema;return y(e)||!b(e,t)?null:e[t]},getProperty(t){if("refname"===t)return this.ref.name;let e=a(this.schema.properties,[]).find((e=>e.name===t));if(y(e))return;const{type:i,value:n}=e;return"string"===i?n.toString():"number"===i?+n:"boolean"===i?w(n):n},hasParent(){return!this.isRoot()},getParent(t){if(this.isRoot())return null;if(d(t))return this.parent;const e=this.parent;return e.name===t?e:e.getParent(t)},getParentWith(t){if(this.isRoot())return null;if(d(t))return this.parent;const e=this.parent;return e.hasPrototype(t)?e:e.getParentWith(t)},hasPrototype(t){if(y(this.schema.prototype))return!1;let e=this.model.getConceptSchema(this.schema.prototype);for(;!y(e);){if(e.name===t)return!0;e=this.model.getConceptSchema(e.prototype)}return!1},getAncestor(t){const e=[];for(var i=this.getParent(t);i;)e.push(i),i=i.getParent(t);return e},getChildren(t){const e=[];return y(t)?this.getAttributes().forEach((t=>{e.push(t.target)})):this.getAttributes().forEach((i=>{i.target.name===t?e.push(...i.target):e.push(...i.target.getChildren(t))})),e},getDescendant(t){const e=[];return this.getChildren(t).forEach((i=>{e.push(i),e.push(...i.getDescendant(t))})),e},delete(t=!1){if(!t){const t=this.getParent().removeAttribute(this.ref.name);if(!t.success)return t}return this.getChildren().forEach((t=>{t.delete(!0)})),this.model.removeConcept(this.id),this.notify("delete"),{message:`The concept '${name}' was successfully deleted.`,success:!0}},isRoot(){return y(this.parent)},copy(){var t={name:this.name},e=[];return this.getAttributes().forEach((t=>{e.push({name:t.name,value:t.copy(!1)})})),t.attributes=e,this.model.addValue(t),t},export(){var t={id:this.id,root:this.isRoot(),name:this.name},e=[];return this.getAttributes().forEach((t=>{e.push({name:t.name,value:t.export()})})),t.attributes=e,t},toString(){var t={};return this.attributes.forEach((e=>{Object.assign(t,e.toString())})),t}},Ke=Object.assign(Ye,Xe,Ge);Object.defineProperty(Ke,"attributeSchema",{get(){return this.schema.attributes}}),Object.defineProperty(Ke,"_prototype",{get(){return this.schema.prototype}});function Qe(t){switch(t){case 400:return{success:!1,message:"The value is not a boolean."};case 401:return{success:!1,message:"The value is not included in the list of valid values."}}}const Ze={nature:"primitive",init(t={}){return this.parent=t.parent,this.ref=t.ref,this.alias=this.schema.alias,this.default=a(this.schema.default,!0),this.description=this.schema.description,this.initObserver(),this.initAttribute(),this.initValue(t.value),this},initValue(t){return y(t)?(this.value=this.default,this):(l(t)?this.setValue(t.value):this.setValue(t),this)},hasValue(){return!y(this.value)},getValue(){return this.value},setValue(t){var e=this.validate(t);return 200!==e?{success:!1,message:"Validation failed: The value could not be updated.",errors:[Qe(e).message]}:(this.value=w(t),this.notify("value.changed",t),{success:!0,message:"The value has been successfully updated."})},update:(t,e)=>!0,getCandidates:()=>[!0,!1],getChildren:t=>[],validate:t=>r(t)&&["true","false"].includes(t.toLowerCase())||Number.isInteger(t)&&[1,0].includes(t)||[!0,!1].includes(t)?200:400,build(){return this.getValue()},copy(){var t={name:this.name,value:this.getValue()};return this.model.addValue(t),t},export(){return{id:this.id,name:this.name,root:this.isRoot(),value:this.getValue()}},toString(){return this.value}},ti=Object.assign(Object.create(Ke),Ze);function ei(t){switch(t){case 400:return{success:!1,message:"The value is not a number."};case 401:return{success:!1,message:"The value is not included in the list of valid values."};case 403:return{success:!1,message:`The value is greater than the maximum allowed: ${this.schema.max.value}.`};case 402:return{success:!1,message:`The value is less than the minimum allowed: ${this.schema.min.value}.`};case 404:return{success:!1,message:`The value is different from the value allowed: ${this.schema.value.value}.`}}}const ii={nature:"primitive",init(t={}){return this.parent=t.parent,this.ref=t.ref,this.values=a(this.schema.values,[]),this.default=a(this.schema.default,null),this.alias=this.schema.alias,this.description=this.schema.description,this.min=this.schema.min,this.max=this.schema.max,this.initObserver(),this.initAttribute(),this.initValue(t.value),this},initValue(t){return y(t)?(this.value=this.default,this):(l(t)?(this.id=t.id,this.setValue(t.value)):this.setValue(t),this)},hasValue(){return!(d(this.value)||isNaN(this.value))},getValue(){return this.hasValue()?+this.value:null},setValue(t){var e=this.validate(t);return 200!==e?{success:!1,message:"Validation failed: The value could not be updated.",errors:[ei.call(this,e).message]}:(this.value=t,this.notify("value.changed",t),{success:!0,message:"The value has been successfully updated."})},getCandidates(){return this.values.forEach((t=>{l(t)&&(t.type="value")})),this.values},getChildren:t=>[],update:(t,e)=>!0,validate(t){if(isNaN(t))return 400;if(this.schema.value){const{min:e,max:i}=this.schema.value;if(this.length.value&&t.length!==this.length.value)return 404;if(e){if(e.included&&t.length<e.value)return 402;if(!e.included&&t.length<=e.value)return 402}if(i){if(i.included&&t.length>i.value)return 403;if(!i.included&&t.length>=i.value)return 403}}if(d(t)||o(this.values))return 200;var e=!1;for(let i=0;!e&&i<this.values.length;i++){const n=this.values[i];e=l(n)?n.value==t:n==t}return e?200:401},build(){return this.getValue()},copy(t=!0){if(!this.hasValue())return null;var e={name:this.name,root:this.isRoot(),value:this.getValue()};return t&&this.model.addValue(e),e},export(){return{name:this.name,value:this.getValue()}},toString(){return this.value}},ni=Object.assign(Object.create(Ke),ii);function si(t){switch(t){case 401:return{success:!1,message:"The value is not included in the list of valid values."}}}const ai={nature:"primitive",reference:null,path:null,init(t={}){return this.parent=t.parent,this.ref=t.ref,this.accept=this.schema.accept,this.path=this.schema.path,this.values=a(this.schema.values,[]),this.alias=this.schema.alias,this.description=this.schema.description,this.initObserver(),this.initAttribute(),this.initValue(t.value),this},initValue(t){return y(t)||this.setValue(t.value),this},hasValue(){return!d(this.value)},getValue(){return y(this.value)?null:this.value},getReference(){return y(this.reference)?null:this.reference},setValue(t){let e=l(t)?t.id:t;var i=this.validate(e);return 200!==i?{success:!1,message:"Validation failed: The value could not be updated.",errors:[si(i).message]}:y(e)||this.value===e?void 0:(this.reference&&this.reference.unregister(this),this.reference=this.model.getConcept(e),this.reference.register(this),this.value=e,this.notify("value.changed",this.reference),{success:!0,message:"The value has been successfully updated."})},getCandidates(){if(y(this.accept))throw new Error("Bad reference: 'accept' property is not defined");var t=oi.call(this,this.accept);return this.path&&ri(this,this.path).map((t=>({type:this.accept.type,value:t}))),t},getChildren(t){return y(this.reference)||t&&this.reference.name!==t?[]:[this.reference]},delete(t=!1){if(!t){let t=this.getParent().remove(this);if(!t.success)return t}return this.reference&&this.reference.unregister(this),this.model.removeConcept(this.id),this.notify("delete"),{message:`The concept '${name}' was successfully deleted.`,success:!0}},update(t,e){switch(t){case"delete":this.reference.unregister(this),this.value=null,this.reference=null,this.notify("value.changed",this.reference)}return!0},validate(t){return d(t)||o(this.values),200},build(){return this.getValue()},copy(t=!0){var e={name:this.name,value:this.getValue()};return t&&this.model.addValue(e),e},export(){return{id:this.id,name:this.name,root:this.isRoot(),value:this.getValue()}},toString(){var t=[];return this.value.forEach((e=>{t.push(e.toString())})),t}};function oi(t){const{name:e,prototype:i,scope:n,rel:s}=t;return"parent"===s?this.getParent(n).getChildren(e):i?this.model.getConceptsByPrototype(i):this.model.getConcepts(e)}function ri(t,e){if(y(e))return t;const{target:i,value:n,rel:s}=e;var a=[];return"parent"===s?a.push(t.getParentWith(i)):"children"===s?a.push(...t.getChildren(i)):"property"===s&&a.push(t.getProperty(i)),a.map((t=>ri(t,n))).flat()}const ci=Object.assign({},Ke,ai),li={nature:"primitive",init(t={}){return this.parent=t.parent,this.ref=t.ref,this.accept=this.schema.accept,this.path=this.schema.path,this.values=a(this.schema.values,[]),this.alias=this.schema.alias,this.description=this.schema.description,this.cardinality=this.schema.cardinality,this.value=[],this.initObserver(),this.initAttribute(),this.initValue(t.value),this},initValue(t){if(this.removeAllElement(),y(t)){if(this.cardinality){const{min:t=0}=this.cardinality;for(let e=0;e<t;e++)this.createElement()}return this}const{id:e,value:i}=t;for(let t=0;t<i.length;t++)this.createElement(i[t]);if(this.cardinality){const{min:t=0}=this.cardinality;let e=t-i.length;for(let t=0;t<e;t++)this.createElement()}return this},hasValue(){return!o(this.value)},getValue(t=!1){const e=this.value.map((t=>this.model.getConcept(t)));return t?e.map((t=>t.getValue())):e},exportValue(){return this.value.map((t=>this.model.getConcept(t))).map((t=>{if("primitive"===t.nature)return{name:t.name,value:t.exportValue()};if("prototype"===t.nature){let e=t.exportValue();return{name:t.name,value:{name:t.value.name,attributes:e}}}return{name:t.name,attributes:t.exportValue()}}))},setValue(t){if(Array.isArray(t)){this.removeAllElement();for(let e=0;e<t.length;e++)this.createElement(t[e]);this.notify("value.changed",t)}},getElements(){return this.value.map((t=>this.model.getConcept(t)))},getElement(t){var e=this.value.find((e=>e===t));if(!y(e))return this.model.getConcept(e)},getElementAt(t){if(!(t<0||t>=this.value.length))return this.model.getConcept(this.value[t])},getFirstElement(){return this.getElementAt(0)},getLastElement(){return this.getElementAt(this.count-1)},addElement(t){return!y(t)&&(this.value.push(t.id),t.index=this.value.length-1,this.notify("value.added",t),!0)},addElementAt(t,e=0){return y(t)&&(t=this.createElement()),this.value.splice(e,0,t.id),this},removeElement(t){var e=this.value.indexOf(t.id);return-1!==e&&this.removeElementAt(e)},removeElementAt(t){if(!Number.isInteger(t)||t<0)return{message:"The element was not removed. The given 'index' is not valid.",success:!1};var e=this.getElementAt(t);if(y(e))return{message:`The element at index '${t}' was not found.`,success:!1};e.delete(!0),this.value.splice(t,1);const i=this.getValue();for(let e=t;e<i.length;e++)i[e].index=e;return this.notify("value.removed",e),{message:`The element '${e.name}' was successfully removed.`,success:!0}},removeAllElement(){return this.value.forEach((t=>{this.model.removeConcept(t)})),this.value=[],this.notify("value.changed",this.value),this},createElement(t){const e={value:this.model.getValue(t),parent:this,ref:this},i=this.model.createConcept(this.accept,e);return this.addElement(i),i},getCandidates(){return pi.call(this,this.accept)},getChildren(t){if(!this.hasValue())return[];const e=this.getElements();return y(t)?e:e.filter((e=>e.name===t))},build(){return this.getValue().map((t=>t.build()))},copy(t=!0){var e={name:this.name,value:this.exportValue()};return t&&this.model.addValue(e),e},export(){return{id:this.id,name:this.name,root:this.isRoot(),value:this.getValue().map((t=>t.export()))}},toString(){var t=[];return this.value.forEach((e=>{t.push(e.toString())})),t}};function pi(t){return this.model.getConceptSchema(t)}const ui=Object.assign(Object.create(Ke),li);Object.defineProperty(ui,"count",{get(){return this.value.length}}),Object.defineProperty(ui,"canAddValue",{get:()=>!0});const hi=200;function di(t){switch(t){case 401:return{success:!1,message:"The value is not included in the list of valid values."};case 403:return{success:!1,message:`The length of the value exceeds the maximum allowed: ${this.length.max.value}.`};case 402:return{success:!1,message:`The length of the value is beneath the minimum allowed: ${this.length.min.value}.`};case 404:return{success:!1,message:`The length of the value is different from the fixed value: ${this.length.value}.`};case 405:return{success:!1,message:"The value does not match the valid pattern."}}}const mi={nature:"primitive",pattern:null,init(t={}){return this.parent=t.parent,this.ref=t.ref,this.values=a(this.schema.values,[]),this.alias=this.schema.alias,this.default=a(this.schema.default,""),this.description=this.schema.description,this.length=this.schema.length,this.pattern=this.schema.pattern,this.initObserver(),this.initAttribute(),this.initValue(t.value),this},initValue(t){return y(t)?(this.value=this.default,this):(l(t)?this.setValue(t.value):this.setValue(t),this)},hasValue(){return!d(this.value)},getValue(){return this.value},setValue(t){var e=this.validate(t);return e!==hi?{success:!1,message:"Validation failed: The value could not be updated.",errors:[di.call(this,e).message]}:(this.value=t,this.notify("value.changed",t),{success:!0,message:"The value has been successfully updated."})},getCandidates(){return this.values.forEach((t=>{l(t)&&(t.type="value")})),this.values},getChildren:t=>[],update:(t,e)=>!0,validate(t){if(d(t))return hi;if(this.length){const{min:e,max:i}=this.length;if(this.length.value&&t.length!==this.length.value)return 404;if(e){if(e.included&&t.length<e.value)return 402;if(!e.included&&t.length<=e.value)return 402}if(i){if(i.included&&t.length>i.value)return 403;if(!i.included&&t.length>=i.value)return 403}}if(this.pattern&&!new RegExp(this.pattern,"gi").test(t))return 405;if(o(this.values))return hi;var e=!1;for(let i=0;!e&&i<this.values.length;i++){const n=this.values[i];e=l(n)?n.value===t:n===t}return e?hi:401},build(){return this.getValue()},copy(t=!0){if(!this.hasValue())return null;var e={name:this.name,value:this.getValue()};return t&&this.model.addValue(e),e},export(){return{id:this.id,name:this.name,root:this.isRoot(),value:this.getValue()}},toString(){return this.value}},yi=Object.assign(Object.create(Ke),mi),fi={nature:"concrete",initValue(t){if(y(t))return!1;const{id:e="",attributes:i=[]}=t;return e.length>10&&(this.id=e),i.forEach((t=>{const{name:e,id:i,value:n}=t;let s=this.getAttributeByName(e);if(n)s.target.initValue(n);else if(i){let t=this.model.getValue(i);t&&s.target.initValue(t)}})),!0},hasValue:()=>!0,getValue(){return this.getAttributes().map((t=>({name:t.name,value:t.copy(!1)})))},build(){}},bi=Object.assign(Object.create(Ke),fi),gi=200;function vi(t){switch(t){case 401:return{success:!1,message:"The value is not included in the list of valid values."}}}const xi={name:"prototype",nature:"prototype",initValue(t){if(y(t))return this;const{id:e,value:i}=t;if(i){let t=this.createConcept(i.name,i);this.setValue(t)}else if(t.name){let e=this.createConcept(t.name,t);this.setValue(e)}return this},getValue(){return this.value},exportValue(){return this.hasValue()?this.getValue().exportValue():null},setValue(t){let e="fake"===t.nature?t.name:t,i=this.validate(e);if(i!==gi)return{success:!1,message:"Validation failed: The value could not be updated.",errors:[vi(i).message]};var n=e;return r(e)&&(n=this.createConcept(e),l(t)&&(n.id=t.id)),this.value&&(this.value.getChildren().forEach((t=>{t.delete(!0)})),this.model.removeConcept(this.value.id),this.value.notify("delete")),this.value=n,this.notify("value.changed",this.value),{success:!0,message:"The value has been successfully updated."}},hasValue(){return!y(this.value)},getCandidates(){return this.candidates||(this.candidates=wi.call(this,this.schema.accept).map((t=>Object.create(Ke,{object:{value:"concept"},nature:{value:"fake"},model:{value:this.model},id:{value:this.hasValue()&&this.value.name===t.name?this.value.id:he.generate()},name:{value:t.name},schema:{value:t}}).init(this)))),this.candidates},getChildren(t){if(!this.hasValue())return[];const e=[],i=this.getValue();return(y(t)||i.name===t)&&e.push(i),e},getDescendant:t=>[],createConcept(t,e){let i=this.model.getValue(e);const n={parent:this.parent,ref:this.ref};i&&(n.value=i);const s=this.model.getCompleteModelConcept({name:t}),a=this._createConcept(this.model,s,n);return a.prototype=this,a},validate(t){if(d(t))return gi;if(o(this.values))return gi;var e=!1;for(let i=0;!e&&i<this.values.length;i++){const n=this.values[i];e=l(n)?n.value===t:n===t}return e?gi:401},export(){let t=null;if(this.hasValue()){let e=this.getValue();t={id:e.id,name:e.name}}return{id:this.id,name:this.name,root:this.isRoot(),value:t}}};function wi(t){const e=this.model.getConcreteConcepts(this.name);return y(t)?e:Array.isArray(t)?e.filter((e=>t.some((t=>t.name===e.name)))):e.filter((e=>t===e.name))}const ji=Object.assign({},Ke,xi);function Ei(t){switch(t){case 401:return{success:!1,message:"The value is not included in the list of valid values."}}}const _i={name:"meta",reference:null,initValue(t){return y(t)||this.setValue(t.value),this},hasValue(){return!d(this.value)},getValue(){return y(this.value)?null:this.value},getProperty(t){const e=this.schema[t];if(l(e)){const t=[];for(const i in e){const n=e[i];t.push(Object.assign({},{name:i},n))}return t}return e},setValue(t){var e=this.validate(t);return 200!==e?{success:!1,message:"Validation failed: The value could not be updated.",errors:[Ei(e).message]}:y(t)||this.value===t?void 0:(this.reference&&this.reference.unregister(this),this.reference=this.model.getConcept(t),this.reference.register(this),this.value=t,this.notify("value.changed",this.reference),{success:!0,message:"The value has been successfully updated."})},getChildren:t=>[],delete(t=!1){if(!t){let t=this.getParent().remove(this);if(!t.success)return t}return this.reference&&this.reference.unregister(this),this.model.removeConcept(this.id),this.notify("delete"),{message:`The concept '${name}' was successfully deleted.`,success:!0}},update(t,e){switch(t){case"delete":this.reference.unregister(this),this.value=null,this.reference=null,this.notify("value.changed",this.reference)}return!0},validate(t){return d(t)||o(this.values),200},export(){return{id:this.id,name:this.name,value:this.value}},toString(){var t=[];return this.value.forEach((e=>{t.push(e.toString())})),t}},Ci=Object.assign({},Ke,_i);function ki(t,e){return{object:{value:"concept"},model:{value:t},name:{value:e.name},schema:{value:e,writable:!0}}}const Li={boolean:(t,e)=>Object.create(ti,ki(t,e)),number:(t,e)=>Object.create(ni,ki(t,e)),reference:(t,e)=>Object.create(ci,ki(t,e)),set:(t,e)=>Object.create(ui,ki(t,e)),string:(t,e)=>Object.create(yi,ki(t,e)),meta:(t,e)=>Object.create(Ci,ki(t,e))},Ti={primitive:(t,e)=>Li[e.name](t,e),prototype:(t,e)=>Object.create(ji,ki(t,e)),concrete:(t,e)=>Object.create(bi,ki(t,e)),derivative:(t,e)=>Li[e.base](t,e)},Ai={createConcept(t,e,i){const{name:n,nature:s}=e,a=Ti[s];if(y(a))throw new Error(`Missing handler: The '${n}' concept could not be handled`);const o=a(t,e);if(y(o))throw new Error(`Bad request: The '${n}' concept could not be created`);return o._createConcept=this.createConcept,o.init(i),y(o.id)&&(o.id=he.generate()),o}};var Si=0;const Vi={concepts:null,values:null,init(t){return this.concepts=[],this.values=[],Array.isArray(t)&&(this.values=t,t.filter((t=>t.root)).forEach((t=>{this.createConcept({name:t.name},{value:t})}))),this},done(){return this.concepts.forEach((t=>{t.unregisterAll()})),this.concepts=[],!0},createConcept(t,e){const i=this.getCompleteModelConcept(t);var n=Ai.createConcept(this,i,e);return this.addConcept(n),n},getConcepts(t){if(p(t)){const e=Array.isArray(t)?e=>t.includes(e.name):e=>e.name===t;return this.concepts.filter((t=>e(t)))}return this.concepts.slice()},getRootConcepts(){return this.concepts.filter((t=>t.isRoot()))},getConceptsByPrototype(t){return this.concepts.filter((e=>e.schema.prototype===t))},getConcept(t){if(!r(t)||o(t))throw new TypeError("Bad request: The 'id' argument must be a non-empty string");return this.concepts.find((e=>e.id===t))},addConcept(t){if(y(t))throw new TypeError("Bad request: The 'concept' argument must be a Concept");return this.concepts.push(t),ue("concept.added",t),this},removeConcept(t){if(!l(t)&&!r(t))throw new TypeError("Bad request: The 'id' argument must be a non-empty string");var e=this.concepts.findIndex((e=>e.id===t));if(-1===e)return null;let i=this.concepts.splice(e,1)[0];return ue("concept.removed",i),i},getValues(t){if(p(t)){const e=Array.isArray(t)?e=>t.includes(e.name):e=>e.name===t;return this.values.filter((t=>e(t)))}return this.values.slice()},getValue(t){return y(t)?null:b(t,"value")||b(t,"attributes")?t:b(t,"id")?this.values.find((e=>e.id===t.id)):this.values.find((e=>e.id===t))},addValue(t){if(y(t))throw new TypeError("Bad request: The 'value' argument must be a Value");return this.values.some((e=>{return n=t,(i=e).name===n.name&&(i.value?i.value===n.value:JSON.stringify(i.attributes)===JSON.stringify(n.attributes));var i,n}))||(t.id="value"+Si++,this.values.push(t),ue("value.added",t)),this},removeValue(t){if(!l(t)&&!r(t))throw new TypeError("Bad request: The 'id' argument must be a non-empty string");var e=this.values.findIndex((e=>e.id===t));if(-1===e)return null;let i=this.values.splice(e,1)[0];return ue("value.removed",i),i},isConcept(t){return-1!==this.schema.findIndex((e=>e.name===t))},isConcrete(t){const e=this.schema.find((e=>e.name===t));return!y(e)&&"concrete"===e.nature},isPrototype(t){const e=this.schema.find((e=>e.name===t));return!y(e)&&"prototype"===e.nature},getSchema(t){if(p(t)){const e=Array.isArray(t)?e=>t.includes(e.nature):e=>e.nature===t;return this.schema.filter((t=>e(t)))}return this.schema.slice()},getConceptSchema(t){const e=Ri(this.schema,t);var i;if(!y(e))return i=e,JSON.parse(JSON.stringify(i))},getCompleteModelConcept(t){let e=t;r(t)&&(e={name:t});const i=this.getConceptSchema(e.name);if(y(i))return;Object.assign(i,e),b(i,"attributes")||(i.attributes=[]);const n=Oi.call(this,i.prototype);return i.attributes.push(...n.attributes),i},getConcreteConcepts(t){const e=e=>{for(var i=e.prototype;!y(i);){if(i===t)return!0;i=a(Ri(this.schema,i),{}).prototype}return!1},i=this.schema.filter((t=>"concrete"===t.nature));return t?i.filter((t=>e(t))):i},getDerivedConcepts(t){if(y(t))throw new TypeError("Bad argument");return this.schema.filter((e=>e.base===t))},export(){const t=[];return this.getConcepts().forEach((e=>{t.push(e.export())})),t},toString(){return JSON.stringify({[this.root.name]:this.root.toString()})}};function Oi(t){var e=t;const i=[];for(;!y(e);){const t=a(this.getConceptSchema(e),{});n=t.attributes,Array.isArray(n)&&n.forEach((t=>{const e=i.find((e=>e.name===t.name));y(e)?i.push(t):(t.required&&(e.required=t.required),t.description&&(e.description=t.description))})),e=t.prototype}var n;return{attributes:i}}const Mi=[{name:"string",nature:"primitive"},{name:"number",nature:"primitive"},{name:"boolean",nature:"primitive"},{name:"reference",nature:"primitive"},{name:"set",nature:"primitive"}];function Ri(t,e){let i=t.find((t=>t.name===e));return y(i)&&(i=Mi.find((t=>t.name===e))),i}const Ni=[],Pi={createModel(t){var e=Object.create(Vi,{schema:{value:t}});return Ni.push(e),e}},qi={text:function(t,e){for(const i in e){const n=e[i];switch(i){case"bold":t.style.fontWeight=Fi(n);break;case"italic":t.style.fontStyle="italic";break;case"underline":t.style.textDecoration="underline";break;case"strikethrough":t.style.textDecoration="line-through";break;case"color":t.style.color=$i(n);break;case"font":t.style.fontFamily=n;break;case"highlight":t.style.backgroundColor=$i(n);break;case"size":t.style.fontSize=Bi(n);break;case"align":t.style.textAlign=n;break;case"space":t.style.lineHeight=Bi(n)}}return t},box:function(t,e){for(const i in e){const n=e[i];switch(i){case"space":Di(t,n);break;case"border":Wi(t,n);break;case"background":zi(t,n);break;case"width":t.style.width=Bi(n,"%");break;case"height":t.style.height=Bi(n,"%");break;case"overflow":t.style.overflow=n}}return t},css:function(t,e){return p(e)?(Hi(t,e),t):t},size:function(t,e){for(const t in e)e[t];return t}};function Ii(t,e){if(!l(e))return t;for(const i in e){const n=e[i];qi[i](t,n)}return t}function Hi(t,e){if(Array.isArray(e))t.classList.add(...e);else{let i=e.replace(/\s+/g," ").trim();d(t.className)?t.className=i:Hi(t,i.split(" "))}return t}function $i(t){const{type:e,value:i}=t;switch(e){case"rgb":return l(i)?`rgb(${i.red}, ${i.green}, ${i.blue})`:i;default:return t}}function Fi(t){const{type:e,value:i}=t;return Number.isInteger(t)?`${t}`:"bold"}function Bi(t,e="px"){const{type:i,value:n}=t;return Number.isInteger(t)?`${t}${e}`:0}function Di(t,e){const{inner:i={},outer:n={}}=e;if(Number.isInteger(i))t.style.padding=`${i}px`;else for(const e in i){const n=i[e];switch(e){case"top":t.style.paddingTop=`${n}px`;break;case"right":t.style.paddingRight=`${n}px`;break;case"bottom":t.style.paddingBottom=`${n}px`;break;case"left":t.style.paddingLeft=`${n}px`}}if(Number.isInteger(n))t.style.margin=`${n}px`;else for(const e in n){const i=n[e];switch(e){case"top":t.style.marginTop=`${i}px`;break;case"right":t.style.marginRight=`${i}px`;break;case"bottom":t.style.marginBottom=`${i}px`;break;case"left":t.style.marginLeft=`${i}px`}}}function zi(t,e){t.style.backgroundColor=$i(e)}function Wi(t,e){if(e.size)t.style.borderStyle="solid",t.style.borderWidth=Bi(e.size),t.style.borderColor=$i(e.color);else for(const i in e){const n=e[i];switch(i){case"top":t.style.borderTopStyle="solid",t.style.borderTopWidth=Bi(n.size),t.style.borderTopColor=$i(n.color);break;case"right":t.style.borderRightStyle="solid",t.style.borderRightWidth=Bi(n.size),t.style.borderRightColor=$i(n.color);break;case"bottom":t.style.borderBottomStyle="solid",t.style.borderBottomWidth=Bi(n.size),t.style.borderBottomColor=$i(n.color);break;case"left":t.style.borderLeftStyle="solid",t.style.borderLeftWidth=Bi(n.size),t.style.borderLeftColor=$i(n.color)}}e.radius&&function(t,e){if(Number.isInteger(e))t.style.borderRadius=Bi(e);else for(const i in e){const n=e[i];switch(i){case"top":t.style.borderTopLeftRadius=Bi(n);break;case"right":t.style.borderTopRightRadius=Bi(n);break;case"bottom":t.style.borderBottomRightRadius=Bi(n);break;case"left":t.style.borderBottomLeftRadius=Bi(n)}}}(t,e.radius)}function Ui(t,e){if(!Array.isArray(e))return!1;t.currentState=null;for(let i=0;i<e.length;i++){const n=e[i],{rule:s,result:a}=n;let o=!1,r=Ji[s.type];if(c(r)&&(o=r.call(this,s[s.type])),o)return t.currentState=i,a}return null}const Ji={eq:function(t){if(!Array.isArray(t))throw new TypeError("Terms need to be an array");if(t.length<2)return null;return Gi.call(this,t[0])==Gi.call(this,t[1])},ne:function(t){if(!Array.isArray(t))throw new TypeError("Terms need to be an array");if(t.length<2)return null;return Gi.call(this,t[0])!=Gi.call(this,t[1])},lt:function(t){if(!Array.isArray(t))throw new TypeError("Terms need to be an array");if(t.length<2)return null;return Gi.call(this,t[0])<Gi.call(this,t[1])},le:function(t){if(!Array.isArray(t))throw new TypeError("Terms need to be an array");if(t.length<2)return null;return Gi.call(this,t[0])<=Gi.call(this,t[1])},gt:function(t){if(!Array.isArray(t))throw new TypeError("Terms need to be an array");if(t.length<2)return null;return Gi.call(this,t[0])>Gi.call(this,t[1])},ge:function(t){if(!Array.isArray(t))throw new TypeError("Terms need to be an array");if(t.length<2)return null;return Gi.call(this,t[0])>=Gi.call(this,t[1])},and:function(t){return Xi.call(this,t[0])&&Xi.call(this,t[1])},or:function(t){return Xi.call(this,t[0])||Xi.call(this,t[1])},not:function(t){return!Xi.call(this,t[0])},no:function(t){let e=Gi.call(this,t);return p(e)?o(e):y(e)}};function Gi(t,e){if(l(t)){let e=`get${x(t.prop)}`;return this[e]?this[e]():this[t.prop]}return e||t}function Xi(t){let e=Ji[t.type];return c(e)?e.call(this,t[t.type]):w(Gi.call(this,t))}function Yi(t,e){const{name:i,tag:n,state:s}=t;if(!e.hasAttribute(i))throw new Error(`Attribute '${i}' does not exist in the concept '${e.name}'`);let a={name:i,schema:t,required:e.isAttributeRequired(i),created:e.isAttributeCreated(i),placeholder:null,element:null};this.projection.attributes.push(a);let o=null,r=Ui.call(a,t,s);if(r)o=r.content?is.call(this,r.content,e):tt({class:["projection-element","projection-element--placeholder"],dataset:{object:"attribute",id:i}},`Add ${i}`),o.tabIndex=0,o.addEventListener("click",(t=>{e.createAttribute(i)})),a.placeholder=o;else{let{target:t,description:s,schema:r}=e.getAttributeByName(i);var c=this.projection.model.createProjection(t,n).init();c.parent=this.projection,o=c.render(),a.element=o}return o}const Ki={init(){throw new Error("This function has not been implemented")},element:null,statusElement:null,attached:null,errors:null,readonly:!1,visible:!1,disabled:!1,active:!1,focused:!1,get hasError(){return!o(this.errors)},get hasAttached(){return!o(this.attached)},attach(t,e){this.attached.push(t)},detach(t){this.attached.slice(this.attached.indexOf(t),1)},getAttached(t){return c(t)?this.attached.filter((e=>t(e))):this.attached},show(){return Ht(this.element),this.visible=!0,this.active=!0,this},hide(){return $t(this.element),this.visible=!1,this},focus(t){return this.element.contentEditable=!1,this.element.focus(),this.focused=!0,this},_focusIn:t=>!1,enable(){return this.disabled=!1,this},disable(){return this.disabled=!0,this},clear:()=>!0,delete(){var t=this.source.delete();t.success?(this.clear(),Ct(this.element),this.element.remove()):(this.environment.notify(t.message),Bt(this.element))},spaceHandler(t){return console.warn(`SPACE_HANDLER NOT IMPLEMENTED FOR ${this.name}`),!1},_spaceHandler(t){return console.warn(`CTRL_SPACE_HANDLER NOT IMPLEMENTED FOR ${this.name}`),!1},escapeHandler(t){return console.warn(`ESCAPE_HANDLER NOT IMPLEMENTED FOR ${this.name}`),!1},enterHandler(t){this.focusOut()},deleteHandler(t){console.warn(`DELETE_HANDLER NOT IMPLEMENTED FOR ${this.name}`),this.focusOut()},backspaceHandler:t=>(console.warn("BACKSPACE_HANDLER NOT IMPLEMENTED"),!1),arrowHandler:(t,e)=>(console.warn("ARROW_HANDLER NOT IMPLEMENTED"),!1),clickHandler:t=>(console.warn("CLICK_HANDLER NOT IMPLEMENTED"),!1)},Qi=Object.assign(Ki),Zi={input:null,label:null,value:"",state:null,init(){return this},render(){const t=I(),{before:e={},label:i={},input:n={},after:s={}}=this.schema;var a,o;if(k(this.element)||(this.element=(a=this.id,D({id:a,class:["field","field--binary"],tabindex:-1,dataset:{nature:"field",view:"binary",id:a}})),this.readonly&&this.element.classList.add("readonly"),Ii(this.element,this.schema.style)),k(this.notification)||(this.notification=function(t){return D({class:["field-notification"],dataset:{nature:"field-component",view:"binary",id:t}})}(this.id),t.appendChild(this.notification)),k(this.statusElement)||(this.statusElement=function(t){return tt({class:["field-status"],dataset:{nature:"field-component",view:"binary",id:t}})}(this.id),this.notification.appendChild(this.statusElement)),!k(this.input)){const{before:e,projection:i,after:s,style:a}=n;this.input=function(t){return et({id:`checkbox${t}`,type:"checkbox",class:["field--binary__input"],tabindex:0,dataset:{nature:"field-component",view:"binary",id:t}})}(this.id),this.input.checked=!("concept"!==(o=this.source).object||!o.hasValue())&&o.getValue(),this.value=this.input.checked,this.readonly&&(this.input.classList.add("readonly"),this.input.disabled=!0),Ii(this.input,a),t.appendChild(this.input)}if(!k(this.label)){const{style:e,projection:n,value:s}=i;this.label=nt({class:["field--checkbox__label"],for:this.input.id,tabindex:0,dataset:{nature:"field-component",view:"binary",id:this.id}}),this.label.htmlFor=this.input.id,Array.isArray(n)?n.forEach((t=>{this.label.append(is.call(this,t))})):n&&this.label.append(is.call(this,n)),Ii(this.label,e),t.appendChild(this.label)}return t.hasChildNodes()&&(this.element.appendChild(t),this.bindEvents()),this.refresh(),this.element},focusIn(){return this.focused=!0,this.value=this.input.checked,this.element.classList.add("active"),this},focusOut(){if(!this.readonly)return this.hasChanges()&&this.setValue(this.input.checked),this.messageElement&&($t(this.messageElement),Ct(this.messageElement)),this.choice&&$t(this.choice),this.input.blur(),this.element.classList.remove("active"),this.refresh(),this.focused=!1,this},hasChanges(){return this.value!==this.input.checked},hasValue(){return this.input.checked},getValue(){return this.input.checked},setValue(t,e=!1){var i;i=e?this.source.setValue(t):{success:!0},this.errors=[],i.success||(this.environment.notify(i.message,"error"),this.errors.push(...i.errors)),this.input.checked=t,this.value=t,this.refresh()},getCandidates(){return this.source.getCandidates()},enable(){this.input.disabled=!1,this.input.tabIndex=0,this.disabled=!1},disable(){this.input.disabled=!0,this.input.tabIndex=-1,this.disabled=!0},refresh(){const t=a(Ui.call(this,this.schema,this.schema.state),this.schema);if(this.hasChanges()?this.statusElement.classList.add("change"):this.statusElement.classList.remove("change"),t){const{label:e}=t;if(Ct(this.label),e){const{style:t,projection:i,value:n}=e;Array.isArray(i)?i.forEach((t=>{this.label.append(is.call(this,t))})):i&&this.label.append(is.call(this,i)),Ii(this.label,t)}}var e,i;this.input.checked?this.element.dataset.state="on":this.element.dataset.state="off",Ct(this.statusElement),this.hasError?(this.element.classList.add("error"),this.input.classList.add("error"),this.statusElement.classList.add("error"),this.statusElement.appendChild(("error",e=this.errors,i=K({class:["notification-message","notification-message--error"]},e),Array.isArray(e)?i.style.minWidth=`${Math.min(.5*e[0].length,30)}em`:i.style.minWidth=`${Math.min(.5*e.length,30)}em`,i))):(this.element.classList.remove("error"),this.input.classList.remove("error"),this.statusElement.classList.remove("error"))},append(t){if(!k(t))throw new TypeError("Bad argument: The 'element' argument must be an HTML Element");return this.element.appendChild(t),this},escapeHandler(t){this.input.focus(),this.messageElement&&$t(this.messageElement),this.choice&&$t(this.choice)},enterHandler(t){this.setValue(!this.input.checked,!0)},arrowHandler(t,e){return!!this.parent&&this.parent.arrowHandler(t,this.element)},bindEvents(){this.element.addEventListener("change",(t=>{this.setValue(this.getValue(),!0)}))}},tn=Object.assign(Object.create(Qi),Zi);function en(t,e){var i=K({class:["notification-message",`notification-message--${t}`]},e);return Array.isArray(e)?i.style.minWidth=`${Math.min(.5*e[0].length,30)}em`:i.style.minWidth=`${Math.min(.5*e.length,30)}em`,i}function nn(t){const e=t=>t.parentElement===this.choices;return e(t)?t:jt(t,e,5)}function sn(t){return t.textContent}const an={value:null,values:null,choices:null,input:null,items:null,selection:null,selectionElement:null,content:null,init(){return this.items=new Map,this.content=this.schema.content,b(this.schema,"choice")||(this.schema.choice={}),b(this.schema,"selection")||(this.schema.selection={}),this},hasChanges(){return this.value!==this.selected},reset(){this.setValue(null,!0)},hasValue(){return!y(this.value)},getValue(){return this.selection},setValue(t,e=!1){var i=null;if(e)i=this.source.setValue(t);else{if(y(t))Ct(this.selectionElement),this.selection=null;else if("concept"===t.object){const{template:e={}}=this.schema.selection;let i=this.model.createProjection(t,a(e.tag,"choice-selection")).init();i.parent=this.projection,this.setChoice(t),this.setSelection(i.render())}else this.setChoice(t);i={success:!0}}this.errors=[],i.success||(this.environment.notify(i.message,"error"),this.errors.push(...i.errors)),this.value=t,this.refresh()},setInputValue(t){k(this.input)&&(this.input.value=t)},render(){const t=I(),{choice:e,content:i,selection:n={},input:s={},style:o}=this.schema;if(k(this.element)||(this.element=D({id:this.id,class:["field","field--choice"],tabindex:-1,dataset:{nature:"field",view:"choice",input:"",id:this.id}}),Ii(this.element,o)),k(this.notification)||(this.notification=D({class:["field-notification","hidden"],dataset:{nature:"field-component",view:"choice",id:this.id}}),t.appendChild(this.notification)),k(this.statusElement)||(this.statusElement=tt({class:["field-status"],dataset:{nature:"field-component",view:"choice",id:this.id}}),this.notification.appendChild(this.statusElement)),k(this.messageElement)||(this.messageElement=tt({class:["field-message","hidden"],dataset:{nature:"field-component",view:"choice",id:this.id}}),this.notification.appendChild(this.messageElement)),i&&i.forEach((e=>{if("input"===e.type)this.input=is.call(this,e),this.input.classList.add("field--textbox__input"),t.append(this.input);else if("choice"===e.type){const{style:i}=a(e.choice,{});this.choices=U({class:["bare-list","field--choice__choices"],tabindex:-1,dataset:{nature:"field-component",view:"choice",id:this.id}}),Ii(this.choices,i),t.appendChild(this.choices)}else{let i=is.call(this,e);t.appendChild(i)}})),!k(this.choices)){const{style:i}=e;this.choices=U({class:["bare-list","field--choice__choices"],tabindex:-1,dataset:{nature:"field-component",view:"choice",id:this.id}}),Ii(this.choices,i),t.appendChild(this.choices)}if(!k(this.selectionElement)){const{style:e}=n;this.selectionElement=D({class:["field--choice__selection"],dataset:{nature:"field-component",view:"choice",id:this.id}}),Ii(this.selectionElement,e),t.appendChild(this.selectionElement)}return t.hasChildNodes()&&(this.element.appendChild(t),this.bindEvents()),Ct(this.choices),this.values=this.source.getCandidates(),this.values.forEach((t=>{this.choices.appendChild(this.createChoiceOption(t))})),this.source.hasValue()&&this.setValue(this.source.getValue()),this.refresh(),this.element},focus(t){return this.input&&!Zt(this.input)?this.input.focus():this.selection&&this.selection.focus(),this},focusIn(){this.focused=!0,this.element.classList.add("active");const t=I();return this.source.getCandidates().filter((t=>!this.values.some((e=>e.id===t.id)))).forEach((e=>{t.append(this.createChoiceOption(e)),this.values.push(e)})),this.choices.append(t),this},focusOut(){if(!this.readonly){if(this.input&&d(this.input.value)&&(this.input.value=""),this.messageElement&&($t(this.messageElement),Ct(this.messageElement)),this.input&&this.input.blur(),this.element.classList.remove("active"),this.element.classList.remove("querying"),k(this.selection)){const{children:t}=this.choices;for(let e=0;e<t.length;e++){const i=t[e];i===this.selection?(Ht(i),i.hidden=!1):($t(i),i.hidden=!0)}this.setInputValue(sn(this.selection))}return this.focused=!1,this}},enable(){return this.input&&(this.input.disabled=!1,this.input.tabIndex=0),this.disabled=!1,this},disable(){return this.input&&(this.input.disabled=!0,this.input.tabIndex=-1),this.disabled=!0,this},refresh(){return this.hasValue()?this.element.classList.remove("empty"):this.element.classList.add("empty"),this.hasChanges()?this.statusElement.classList.add("change"):this.statusElement.classList.remove("change"),this.element.classList.remove("querying"),Ct(this.statusElement),this.hasError?(this.element.classList.add("error"),this.input&&this.input.classList.add("error"),this.statusElement.classList.add("error"),this.statusElement.appendChild(en("error",this.errors))):(this.element.classList.remove("error"),this.input&&this.input.classList.remove("error"),this.statusElement.classList.remove("error")),this},filterChoice(t){const{children:e}=this.choices;if(this.element.dataset.input=t.trim(),d(t)){for(let t=0;t<e.length;t++){const i=e[t];Ht(i),i.hidden=!1}return}this.element.classList.add("querying");let i=t.trim().toLowerCase().replace(/\s+/g," ").split(" ");for(let t=0;t<e.length;t++){const n=e[t];let s=sn(n);i.some((t=>s.toLowerCase().includes(t)))?(Ht(n),n.hidden=!1):($t(n),n.hidden=!0)}return!0},createChoiceOption(t){const e=l(t),i=J({class:["field--choice__choice"],tabindex:0,dataset:{nature:"field-component",view:"choice",id:this.id,type:e?"concept":"value",value:e?t.id:t}}),n=this.content.find((t=>"choice"===t.type)),{template:s={},style:o}=n.choice.option;if(e){let e=this.model.createProjection(t,a(s.tag,"choice")).init({focusable:!1});e.parent=this.projection;const{context:n}=e.getSchema();if(n)for(const t in n){const e=n[t];i.dataset[`choice${r=t,d(r)?r:r.charAt(0).toUpperCase()+r.slice(1)}`]=e}i.append(e.render())}else i.append(t.toString());var r;return Ii(i,o),this.items.set(t.id,i),i},setChoice(t){const{children:e}=this.choices,i=t=>{const{type:e,value:i}=t.dataset;return"concept"===e?this.values.find((t=>t.id===i)):"value"===e?i:void 0};let n=!1;for(let o=0;o<e.length;o++){const r=e[o];a=t,(l(s=i(r))?s.id===a.id:s===a)?(r.classList.add("selected"),r.dataset.selected="selected",this.selection=r,Ht(r),n=!0):(r.classList.remove("selected"),delete r.dataset.selected,$t(r))}var s,a;return n&&this.setInputValue(t.name),this},setSelection(t){Ct(this.selectionElement).appendChild(t)},_spaceHandler(t){const e=I();this.source.getCandidates().forEach((t=>{e.appendChild(this.createChoiceOption(t))})),Ct(this.choices).appendChild(e),this.filterChoice(this.input.value),Ht(this.choices),this.element.classList.add("querying"),this.messageElement.appendChild(en("info","Select an element from the list.")),Ht(this.messageElement)},escapeHandler(t){if(t===this.input){let e=jt(t,(t=>0===t.tabIndex));return this.environment.resolveElement(e).focus(e),!0}this.input&&this.input.focus(),this.messageElement&&$t(this.messageElement)},enterHandler(t){const e=nn.call(this,t);k(e)&&this.selection!==e&&this.setValue((t=>{const{type:e,value:i}=t.dataset;return"concept"===e?this.values.find((t=>t.id===i)):"value"===e?i:void 0})(e),!0)},backspaceHandler(t){nn.call(this,t)&&this.input&&this.input.focus()},clickHandler(t){const e=nn.call(this,t);k(e)&&this.selection!==e&&(this.setValue((t=>{const{type:e,value:i}=t.dataset;return"concept"===e?this.values.find((t=>t.id===i)):"value"===e?i:void 0})(e),!0),this.focusOut())},arrowHandler(t,e){if(e.parentElement===this.choices){let i=null;return"up"===t?i=ae(e,this.choices):"down"===t?i=ce(e,this.choices):"left"===t?i=oe(e,this.choices):"right"===t&&(i=re(e,this.choices)),k(i)?(i.focus(),!0):this.arrowHandler(t,e.parentElement)}if(e.parentElement===this.element){let i=null;if("up"===t?i=ae(e,this.element):"down"===t?i=ce(e,this.element):"left"===t?i=oe(e,this.element):"right"===t&&(i=re(e,this.element)),k(i))return i===this.choices&&this.choices.hasChildNodes()||i===this.selectionElement?i.children[0].focus():i.focus(),!0}return!!this.parent&&this.parent.arrowHandler(t,this.element)},bindEvents(){k(this.input)&&this.element.addEventListener("input",(t=>{this.filterChoice(this.input.value)}))}},on=Object.assign(Object.create(Qi),an),rn={content:{type:"static",static:{type:"text",content:"Remove"}}};function cn(t){const{action:e={}}=this.schema,i=this.content.find((t=>"list"===t.type)),{template:n,style:s}=i.list.item,o=J({class:["field--list-item"],tabindex:0,dataset:{nature:"field-component",view:"list",id:this.id,value:t.id,name:t.name,index:a(t.index,this.items.size)}});var{content:r,style:c}=a(e.remove,rn),l=is.call(this,r),p=rt({class:["btn","btn-remove"],tabindex:-1,dataset:{nature:"field-component",view:"list",id:this.id,action:"remove",index:o.dataset.index}},l);Ii(p,c),o.appendChild(p);var u=this.model.createProjection(t,n.tag);return u.parent=this.projection,o.appendChild(u.init().render()),this.items.set(t.id,o),Ii(o,s),o}const ln={list:null,items:null,selection:null,content:null,init(){return this.source.register(this),this.items=new Map,this.content=this.schema.content,this},update(t,e){switch(t){case"value.added":this.addItem(e);break;case"value.removed":this.removeItem(e);break;case"value.changed":Ct(this.list),this.source.getValue().forEach((t=>{var e=cn.call(this,t);this.list.appendChild(e)}));break;case"delete":this.source.unregister(this),Ct(this.element),this.element.remove();break;default:console.warn(`The message '${t}' was not handled for list field`)}this.refresh()},render(){const t=I(),{content:e,style:i,action:n={}}=this.schema;if(!Array.isArray(e))throw new Error("Empty content for listfield");return k(this.element)||(this.element=D({id:this.id,class:["field","field--list"],tabindex:-1,dataset:{nature:"field",view:"list",id:this.id}}),this.readonly&&this.element.classList.add("readonly"),Ii(this.element,this.schema.style)),k(this.notification)||(this.notification=D({class:["field-notification"],dataset:{nature:"field-component",view:"list",id:this.id}}),t.appendChild(this.notification)),k(this.statusElement)||(this.statusElement=tt({class:["field-status"],dataset:{nature:"field-component",view:"list",id:this.id}}),this.notification.appendChild(this.statusElement)),e.forEach((t=>{})),this.source.getValue().forEach((t=>{var e=cn.call(this,t);this.list.appendChild(e)})),t.hasChildNodes()&&(this.element.appendChild(t),this.bindEvents()),this.refresh(),this.element},hasChanges:()=>!1,getValue(){return this.list.children},hasValue(){return this.items.size>0},clear(){this.items.clear(),Ct(this.list)},focusIn(t){this.focused=!0,this.element.classList.add("active")},focusOut(t){if(!this.readonly)return this.messageElement&&($t(this.messageElement),Ct(this.messageElement)),this.element.classList.remove("active"),this.refresh(),this.focused=!1,this},refresh(){var t,e;this.hasValue()?(this.element.classList.remove("empty"),this.list.classList.remove("empty")):(this.element.classList.add("empty"),this.list.classList.add("empty")),this.hasChanges()?this.statusElement.classList.add("change"):this.statusElement.classList.remove("change"),Ct(this.statusElement),this.hasError?(this.element.classList.add("error"),this.list.classList.add("error"),this.statusElement.classList.add("error"),this.statusElement.appendChild(("error",t=this.errors,e=K({class:["notification-message","notification-message--error"]},t),Array.isArray(t)?e.style.minWidth=`${Math.min(.5*t[0].length,30)}em`:e.style.minWidth=`${Math.min(.5*t.length,30)}em`,e))):(this.element.classList.remove("error"),this.list.classList.remove("error"),this.statusElement.classList.remove("error"))},createElement(){return this.source.createElement()},getNode(t){return this.items.get(t)},addNode(t){const e=cn.call(this,t);t.index?this.list.children[t.index-1].after(e):this.list.appendChild(e)},removeNode(t){let e=this.getItem(t.id);if(!k(e))throw new Error("List error: Item not found")},append(t){if(!k(t))throw new TypeError("Bad argument: The 'element' argument must be an HTML Element");return this.element.appendChild(t),this},delete(t){if(t===this.element)return void this.source.remove();const{index:e}=t.dataset;this.source.removeElementAt(+e)?this.environment.notify("The element was successfully deleted"):(this.environment.notify("This element cannot be deleted"),Bt(t))},escapeHandler(t){return!!this.messageElement&&($t(this.messageElement),!0)},enterHandler:t=>!1,backspaceHandler:t=>!1,clickHandler:t=>!1,arrowHandler:(t,e)=>!1,bindEvents(){}},pn=Object.assign(Object.create(Qi),ln),un={content:{type:"static",static:{type:"text",content:"Add"}}},hn={content:{type:"static",static:{type:"text",content:"Remove"}}};function dn(){return k(this.messageElement)||(this.messageElement=tt({class:["field-message","hidden"],dataset:{nature:"field-component",view:"text",id:this.id}}),this.notification.appendChild(this.messageElement)),this.messageElement}function mn(t){const{action:e={}}=this.schema,i=this.content.find((t=>"list"===t.type)),{template:n,style:s}=i.list.item,o=J({class:["field--list-item"],tabindex:0,dataset:{nature:"field-component",view:"list",component:"list-item",id:this.id,value:t.id,name:t.name,index:a(t.index,this.items.size)}});var{content:r,style:c}=a(e.remove,hn),l=is.call(this,r),p=rt({class:["btn","btn-remove"],tabindex:-1,title:"Remove",dataset:{nature:"field-component",view:"list",component:"action",id:this.id,action:"remove",index:o.dataset.index}},l);Ii(p,c),o.appendChild(p);var u=this.model.createProjection(t,n.tag);return u.parent=this.projection,o.appendChild(u.init().render()),this.items.set(t.id,o),Ii(o,s),o}function yn(t,e){var i=K({class:["notification-message",`notification-message--${t}`]},e);return Array.isArray(e)?i.style.minWidth=`${Math.min(.5*e[0].length,30)}em`:i.style.minWidth=`${Math.min(.5*e.length,30)}em`,i}function fn(t){if(!k(t))return!1;const{nature:e,id:i}=t.dataset;return"field-component"===e&&i===this.id}const bn={list:null,items:null,elements:null,selection:null,content:null,init(){return this.items=new Map,this.elements=new Map,this.content=this.schema.content,this},render(){const t=I(),{content:e,style:i,action:n={}}=this.schema;if(!Array.isArray(e))throw new Error("Empty content for listfield");return k(this.element)||(this.element=D({id:this.id,class:["field","field--list"],tabindex:-1,dataset:{nature:"field",view:"list",id:this.id}}),this.readonly&&this.element.classList.add("readonly"),Ii(this.element,this.schema.style)),k(this.notification)||(this.notification=D({class:["field-notification"],dataset:{nature:"field-component",view:"list",id:this.id}}),t.appendChild(this.notification)),k(this.statusElement)||(this.statusElement=tt({class:["field-status"],dataset:{nature:"field-component",view:"list",id:this.id}}),this.notification.appendChild(this.statusElement)),e.forEach((e=>{if("list"===e.type){let i=a(e.list,{});const{style:n}=i;this.list=U({class:["bare-list","field--list__list"],dataset:{nature:"field-component",view:"list",id:this.id}}),this.source.hasValue()||this.list.classList.add("empty"),i.currentState=null,this.elements.set(i,this.list),Ii(this.list,n),t.appendChild(this.list)}else if("action"===e.type){let i=a(e,un);const{content:n,style:s}=i;let o=is.call(this,n,null),r=rt({class:["field--list__add"],tabindex:0,dataset:{nature:"field-component",view:"list",component:"action",id:this.id,action:"add"}},[o]);i.currentState=null,this.elements.set(i,r),Ii(r,s),t.appendChild(r)}else{let i=is.call(this,e);this.elements.set(e,i),t.appendChild(i)}})),this.source.getValue().forEach((t=>{var e=mn.call(this,t);this.list.appendChild(e)})),Ii(this.element,i),t.hasChildNodes()&&(this.element.appendChild(t),this.bindEvents()),this.refresh(),this.element},hasChanges:()=>!1,hasValue(){return this.items.size>0},getValue(){return this.list.children},setValue(t,e=!1){e&&this.source.setValue(t),Ct(this.list),t.forEach((t=>{var e=mn.call(this,t);this.list.appendChild(e)})),this.refresh()},clear(){this.items.clear(),Ct(this.list)},focus(t){if(fn.call(this,t))this.focusIn(t),this.selection.focus();else if(k(this.selection))this.selection.focus();else if(this.hasValue())this.list.firstElementChild.focus();else{let t=function(t){const e=t.children,{top:i,left:n}=t.getBoundingClientRect();if(0===e.length)return null;let s=null,a=99999,o=99999;for(let t=0;t<e.length;t++){const r=e[t];if(Zt(r))continue;const{top:c,left:l}=r.getBoundingClientRect();let p=Math.abs(i-c),u=Math.abs(n-l);i<=c+1&&(p<a||p===a&&u<o)&&(s=r,a=p,o=u)}return s}(this.element);if(!k(t))return this;if(t===this.list){if(!this.list.hasChildNodes())return this.arrowHandler("down",this.list);t.children[0].focus()}else t.focus()}return this},focusIn(t){this.focused=!0,this.element.classList.add("active");const{component:e}=t.dataset;"list-item"===e&&(this.selection=t)},_focusIn(t){const{component:e}=t.dataset;"list-item"===e&&(this.selection=t)},focusOut(){if(!this.readonly)return this.messageElement&&($t(this.messageElement),Ct(this.messageElement)),this.element.classList.remove("active"),this.refresh(),this.focused=!1,this},refresh(){this.hasValue()?(this.element.classList.remove("empty"),this.list.classList.remove("empty")):(this.element.classList.add("empty"),this.list.classList.add("empty")),this.hasChanges()?this.statusElement.classList.add("change"):this.statusElement.classList.remove("change"),this.elements.forEach(((t,e)=>{if(!Array.isArray(e.state))return;const{currentState:i}=e,n=Ui.call(this,e,e.state);if(i===e.currentState)return;let s=null;s=n?is.call(this,n.content,null):is.call(this,e.content,null),Ct(t).append(s)})),Ct(this.statusElement),this.hasError?(this.element.classList.add("error"),this.list.classList.add("error"),this.statusElement.classList.add("error"),this.statusElement.appendChild(yn(Kt.ERROR,this.errors))):(this.element.classList.remove("error"),this.list.classList.remove("error"),this.statusElement.classList.remove("error"))},createElement(){return this.source.createElement()},getItem(t){return this.items.get(t)},addItem(t){const e=mn.call(this,t);t.index?this.list.children[t.index-1].after(e):this.list.appendChild(e),this.refresh()},removeItem(t){let e=this.getItem(t.id);if(!k(e))throw new Error("List error: Item not found");const i=+e.dataset.index;this.items.delete(t.id),Ct(e),e.remove();for(let t=i;t<this.list.children.length;t++){const e=this.list.children[t],{index:i}=e.dataset;e.dataset.index=+i-1}this.refresh()},append(t){if(!k(t))throw new TypeError("Bad argument: The 'element' argument must be an HTML Element");return this.element.appendChild(t),this},delete(t){if(t===this.element)return void this.source.remove();const{index:e}=t.dataset;var i=this.source.removeElementAt(+e);if(i.success){if(this.environment.notify("The element was successfully deleted"),this.hasValue()){let t=+e<this.list.childElementCount?+e:this.list.childElementCount-1;this.list.children[t].focus()}}else this.environment.notify(`This element cannot be deleted: ${i.message}`),Bt(t)},_spaceHandler(t){dn.call(this),Ct(this.messageElement),this.messageElement.appendChild(yn(Kt.INFO,"Enter any text.")),Ht(this.messageElement)},spaceHandler(t){return!(!fn.call(this,t)||t.parentElement!==this.list||(this.createElement(),0))},deleteHandler(t){return!(!fn.call(this,t)||t.parentElement!==this.list||(this.selection=t,this.delete(t),0))},escapeHandler(t){return!!this.messageElement&&($t(this.messageElement),!0)},enterHandler(t){const e=(t=>fn.call(this,t)?t:jt(t,(t=>fn.call(this,t)),5))(t);if(y(e))return!1;const{action:i,index:n,component:s}=e.dataset;if("list-item"===s){let t=e.firstElementChild;for(;t&&t.dataset.id===this.id;)t=t.nextElementSibling;let i=this.environment.resolveElement(t);return i&&i.focus(),!0}return"add"===i?(this.selection=e,this.createElement(),!0):"remove"===i&&(this.selection=e.parentElement,this.delete(e.parentElement),!0)},backspaceHandler:t=>!1,clickHandler(t){const e=(t=>fn.call(this,t)?t:jt(t,(t=>fn.call(this,t)),5))(t);if(y(e))return;const{action:i,index:n,name:s}=e.dataset;"add"===i?(this.selection=e,this.createElement()):"remove"===i&&(this.selection=e.parentElement,this.delete(e.parentElement))},arrowHandler(t,e){if(!k(e))return!1;if(e.parentElement===this.list){let i=null;return"up"===t?i=ae(e,this.list):"down"===t?i=ce(e,this.list):"left"===t?i=oe(e,this.list):"right"===t&&(i=re(e,this.list)),k(i)?(i.focus(),this.selection=i,!0):this.arrowHandler(t,e.parentElement)}if(e.parentElement===this.element){let i=null;if("up"===t?i=ae(e,this.element):"down"===t?i=ce(e,this.element):"left"===t?i=oe(e,this.element):"right"===t&&(i=re(e,this.element)),k(i)){if(i===this.list){if(!this.list.hasChildNodes())return this.arrowHandler(t,this.list);i.children[0].focus()}else i.focus();return!0}}return!!this.parent&&this.parent.arrowHandler(t,this.element)},bindEvents(){}},gn=Object.assign(Object.create(Qi),bn);Object.defineProperty(gn,"size",{get(){return this.items.size}});var vn=0;const xn={projection:{type:"text",content:"Add"}},wn={projection:{type:"text",content:"Remove"}},jn={table:null,header:null,body:null,footer:null,caption:null,elements:null,init(){this.caption=this.schema.caption,this.elements=new Map;const{template:t}=this.schema;return this.template=this.model.getModelProjection(this.source.accept,t.tag)[0].projection,this},render(){const{table:t={},action:e={}}=this.schema,{disposition:i}=this.template,n=I();if(k(this.element)||(this.element=D({class:["field","field--table"],id:this.id,tabindex:-1,dataset:{nature:"field",view:"table",id:this.id}}),this.readonly&&this.element.classList.add("readonly"),Ii(this.element,this.schema.style)),k(this.notification)||(this.notification=D({class:["field-notification"],dataset:{nature:"field-component",view:"table",id:this.id}}),n.appendChild(this.notification)),k(this.statusElement)||(this.statusElement=tt({class:["field-status"],dataset:{nature:"field-component",view:"table",id:this.id}}),this.notification.appendChild(this.statusElement)),!k(this.table)){const{style:e,header:i,body:s={},footer:a}=t;if(this.table=ct({class:["field--table__table"],tabindex:0,dataset:{nature:"field-component",view:"table",id:this.id,caption:this.caption}}),i){const{style:t}=i;this.header=pt({class:["field--table-header"],dataset:{nature:"field-component",view:"table",id:this.id}}),Ii(this.header,t),this.table.append(this.header)}if(s){const{style:t}=s;this.body=ut({class:["field--table-body"],dataset:{nature:"field-component",view:"table",id:this.id}}),Ii(this.body,t),this.table.append(this.body)}if(a){const{style:t}=a;this.footer=ht({class:["field--table-footer"],dataset:{nature:"field-component",view:"table",id:this.id}}),Ii(this.footer,t),this.table.append(this.footer)}Ii(this.table,e),n.appendChild(this.table)}if(t.header){let t=dt({class:["field--table-header-row"],tabindex:-1,dataset:{nature:"field-component",view:"table",id:this.id}});i.forEach((e=>{const{header:i}=e,{style:n,content:s}=i;var a=is.call(this,s),o=mt({class:["field--table-header-cell"],dataset:{nature:"field-component",view:"table",id:this.id}},a);Ii(o,n),t.appendChild(o)}));let e=yt({class:["field--table-header-cell","field--table-header-cell--action"]},"Action");t.appendChild(e),this.header.appendChild(t)}if(!k(this.btnAdd)){let{projection:t,style:i}=a(e.add,xn),s=is.call(this,t,null,{focusable:!1});this.btnAdd=rt({class:["btn","field--table__button"],dataset:{nature:"field-component",id:this.id,action:"add"}},s),Ii(this.btnAdd,i),n.appendChild(this.btnAdd)}return this.source.hasValue()&&this.source.getValue().forEach((t=>{this.addRow(t)})),n.hasChildNodes()&&(this.element.appendChild(n),this.bindEvents()),this.refresh(),this.element},hasChanges:()=>!1,hasValue(){return this.body.rows.length>0},getValue(){return this.table.rows},focusIn(){return this.focused=!0,this.element.classList.add("active"),this},focusOut(){if(!this.readonly)return this.messageElement&&($t(this.messageElement),Ct(this.messageElement)),this.element.classList.remove("active"),this.refresh(),this.focused=!1,this},refresh(){var t,e;this.hasValue()?this.table.classList.remove("empty"):this.table.classList.add("empty"),this.hasChanges()?this.statusElement.classList.add("change"):this.statusElement.classList.remove("change"),Ct(this.statusElement),this.hasError?(this.element.classList.add("error"),this.statusElement.classList.add("error"),this.statusElement.appendChild(("error",t=this.errors,e=K({class:["notification-message","notification-message--error"]},t),Array.isArray(t)?e.style.minWidth=`${Math.min(.5*t[0].length,30)}em`:e.style.minWidth=`${Math.min(.5*t.length,30)}em`,e))):(this.element.classList.remove("error"),this.statusElement.classList.remove("error"))},createElement(){return this.source.createElement()},addRow(t){const{action:e={},before:i={},after:n={}}=this.schema,{disposition:s}=this.template,o=a(t.index,this.table.rows.length),r="row"+vn++,c=dt({class:["field--table-row"],tabindex:-1,dataset:{nature:"field-component",view:"table",id:this.id,index:o,elementId:r}});this.elements.set(r,c),s.forEach((e=>{const{body:i}=e,{style:n,content:s}=i;var a=is.call(this,s,t),o=yt({class:["field--table-cell"],dataset:{nature:"field-component",view:"table",id:this.id}},a);Ii(o,n),c.appendChild(o)}));var l=yt({class:["field--table__cell-action"]}),{projection:p,style:u}=a(e.remove,wn),h=is.call(this,p),d=rt({class:["btn","field--table__button"],dataset:{nature:"field-component",id:this.id,action:"remove",rowId:r}},h),m=rt({class:["btn","field--table__button"],dataset:{nature:"field-component",id:this.id,action:"move-up",rowId:r}},"Move up"),y=rt({class:["btn","field--table__button"],dataset:{nature:"field-component",id:this.id,action:"move-down",rowId:r}},"Move down");Ii(d,u),l.append(d,m,y),c.appendChild(l),this.body.appendChild(c),this.refresh()},removeRow(t){var e=this.body.rows.item(t.index);if(!k(e))throw new Error("Table error: Row not found");Ct(e),e.remove();for(let e=t.index;e<this.body.rows.length;e++){const t=this.body.rows.item(e),{index:i}=t.dataset;t.dataset.index=+i-1}this.refresh()},removeElement(t){return this.source.removeElement(t)},delete(t){if(t===this.element||t===this.table)return void this.source.delete();const{index:e}=t.dataset;this.source.removeElementAt(+e)?this.environment.notify("The element was successfully deleted"):(this.environment.notify("This element cannot be deleted"),Bt(t))},bindEvents(){this.element.addEventListener("click",(t=>{const{target:e}=t,i=function(t){const e="field-component";return t.dataset.nature===e?t:jt(t,(t=>t.dataset.nature===e))}(e);if(!k(i))return;const{id:n,action:s}=i.dataset;if(n===this.id)if("add"===s)this.createElement();else if("remove"===s){const{rowId:t}=i.dataset;let e=this.elements.get(t);this.delete(e)}else if("move-up"===s){const{rowId:t}=i.dataset;let e=this.elements.get(t),n=e.previousElementSibling;n&&n.before(e)}else if("move-down"===s){const{rowId:t}=i.dataset;let e=this.elements.get(t),n=e.nextElementSibling;n&&n.after(e)}}),!0),this.projection.registerHandler("value.added",(t=>{this.addRow(t)})),this.projection.registerHandler("value.removed",(t=>{this.removeRow(t)})),this.projection.registerHandler("value.changed",(t=>{Ct(this.body),this.source.getValue().forEach((t=>{this.addRow(t)}))}))}},En=Object.assign(Object.create(Qi),jn),_n=t=>k(t,["input","textarea"]);function Cn(){return k(this.messageElement)||(this.messageElement=tt({class:["field-message","hidden"],dataset:{nature:"field-component",view:"text",id:this.id}}),this.notification.appendChild(this.messageElement)),this.messageElement}function kn(){return k(this.choice)||(this.choice=U({class:["bare-list","field--textbox__choices"],dataset:{nature:"field-component",view:"text",component:"choice",id:this.id}}),this.append(this.choice)),this.choice}function Ln(t){return J({class:["field--textbox__choice"],tabindex:0,dataset:{nature:"field-component",view:"text",component:"choice-item",value:t,id:this.id}},t)}function Tn(t,e){var i=K({class:["notification-message",`notification-message--${t}`]},e);return Array.isArray(e)?i.style.minWidth=`${Math.min(.5*e[0].length,30)}em`:i.style.minWidth=`${Math.min(.5*e.length,30)}em`,i}function An(t){return t.parentElement===this.choice?t:jt(t,(t=>t.parentElement===this.choice),3)}const Sn={input:null,choice:null,value:"",placeholder:null,multiline:!1,resizable:!1,content:null,init(){return this.multiline=a(this.schema.multiline,!1),this.focusable=a(this.schema.focusable,!0),this.resizable=a(this.schema.resizable,!1),this.content=this.schema.content,b(this.schema,"choice")||(this.schema.choice={}),this},focus(t){return this.input.focus(),this},focusIn(){return this.focused=!0,this.value=this.getValue(),this.element.classList.add("active"),this.element.classList.add("focus"),this},focusOut(){return this.hasChanges()&&this.setValue(this.getValue(),!0),d(this.getValue())&&(this.input.textContent=""),this.messageElement&&($t(this.messageElement),Ct(this.messageElement)),this.choice&&$t(this.choice),this.input.blur(),this.element.classList.remove("active"),this.element.classList.remove("focus"),this.refresh(),this.focused=!1,this},hasChanges(){return this.value!==this.getValue()},hasValue(){return!o(this.getValue())},getValue(){return _n(this.input)?this.input.value:this.input.textContent},setValue(t,e=!1){var i;i=e?this.source.setValue(t):{success:!0},this.errors=[],i.success||(this.environment.notify(i.message,"error"),this.errors.push(...i.errors)),_n(this.input)?this.input.value=t:this.input.textContent=t,this.value=t,this.refresh()},getCandidates(){return this.source.getCandidates()},enable(){return this.input.disabled=!1,this.input.tabIndex=0,this.disabled=!1,this.element.classList.add("disabled"),this},disable(){return this.input.disabled=!0,this.input.tabIndex=-1,this.disabled=!0,this.element.classList.remove("disabled"),this},refresh(){Ui.call(this,this.schema,this.schema.state),this.hasValue()?this.element.classList.remove("empty"):this.element.classList.add("empty"),this.element.dataset.value=this.value,this.hasChanges()?this.statusElement.classList.add("change"):this.statusElement.classList.remove("change"),Ct(this.statusElement),this.hasError?(this.element.classList.add("error"),this.input.classList.add("error"),this.statusElement.classList.add("error"),this.statusElement.appendChild(Tn(Kt.ERROR,this.errors))):(this.element.classList.remove("error"),this.input.classList.remove("error"),this.statusElement.classList.remove("error")),this.choice&&this.filterChoice(this.getValue())},render(){const t=I(),{content:e,style:i}=this.schema;if(!Array.isArray(e))throw new Error("Empty content for textfield");return k(this.element)||(this.element=D({id:this.id,class:["field","field--textbox"],dataset:{nature:"field",view:"text",id:this.id,disabled:this.disabled,readonly:this.readonly,value:""}}),this.readonly&&this.element.classList.add("readonly"),this.disabled&&this.element.classList.add("disabled"),Ii(this.element,this.schema.style)),k(this.notification)||(this.notification=D({class:["field-notification"],dataset:{nature:"field-component",view:"text",id:this.id}}),t.appendChild(this.notification)),k(this.statusElement)||(this.statusElement=tt({class:["field-status"],dataset:{nature:"field-component",view:"text",id:this.id}}),this.notification.appendChild(this.statusElement)),e.forEach((e=>{if("input"===e.type){this.input=is.call(this,e),this.input.classList.add("field--textbox__input"),this.multiline&&this.input.classList.add("field--textbox__input--multiline");let i="";this.source.hasValue()&&(i=this.source.getValue()),this.input.textContent=i,this.value=i,t.appendChild(this.input)}else{let i=is.call(this,e);t.appendChild(i)}})),Ii(this.element,i),t.hasChildNodes()&&(this.element.appendChild(t),this.bindEvents()),this.source.hasValue()&&this.setValue(this.source.getValue()),this.refresh(),this.element},filterChoice(t){const{children:e}=this.choice;if(d(t)){for(let t=0;t<e.length;t++){const i=e[t];Ht(i),i.hidden=!1}return!0}let i=t.trim().toLowerCase().replace(/\s+/g," ").split(" ");for(let t=0;t<e.length;t++){const n=e[t],{value:s}=n.dataset;i.some((t=>s.toLowerCase().includes(t)))?(Ht(n),n.hidden=!1):($t(n),n.hidden=!0)}return!0},selectChoice(t){if(!k(t))return;const e=function(t){return t.dataset.value}(t);return this.setValue(e,!0),this.input.focus(),$t(this.choice),this},append(t){if(!k(t))throw new TypeError("Bad argument: The 'element' argument must be an HTML Element");return this.element.appendChild(t),this},_spaceHandler(t){const e=this.getCandidates();if(!Array.isArray(e))throw new TypeError("Bad values");if(Cn.call(this),Ct(this.messageElement),o(e))this.messageElement.appendChild(Tn(Kt.INFO,"Enter any text.")),Ht(this.messageElement);else{kn.call(this);const t=I();e.forEach((e=>t.appendChild(Ln.call(this,e)))),Ct(this.choice).appendChild(t),this.filterChoice(this.getValue()),Ht(this.choice),this.messageElement.appendChild(Tn(Kt.INFO,"Select an element from the list.")),Ht(this.messageElement)}},escapeHandler(t){let e=!0;if(this.messageElement&&!Zt(this.messageElement)&&($t(this.messageElement),e=!1),this.choice&&!Zt(this.choice)&&($t(this.choice),e=!1),e){let e=jt(t,(t=>0===t.tabIndex));return this.environment.resolveElement(e).focus(e),!0}this.input.focus()},enterHandler(t){const e=An.call(this,t);if(e)this.selectChoice(e);else if(this.multiline);else if(t===this.input)return this.setValue(this.getValue(),!0),!0},backspaceHandler(t){An.call(this,t)&&this.input.focus()},clickHandler(t){const e=An.call(this,t);k(e)&&this.selectChoice(e)},arrowHandler(t,e){const i=An.call(this,e);if(k(i)){let e=null;return"up"===t?e=xt(i,(t=>!t.hidden)):"down"===t&&(e=wt(i,(t=>!t.hidden))),k(e)&&e.focus(),!0}let n=null;return"up"===t&&this.parent?n=ae(e,this.element):"down"===t&&this.parent?n=ce(e,this.element):"right"===t?e===this.input?this.getValue().length<Pt(this.input)+1&&this.parent&&(n=re(e,this.element)):n=re(e,this.element):"left"===t&&(e===this.input?0===Pt(this.input)&&(n=oe(e,this.element)):n=oe(e,this.element)),k(n)?(n.focus(),!0):!!this.parent&&this.parent.arrowHandler(t,this.element)},controlHandler(t){this.toolbar&&this.toolbar.remove()},bindEvents(){this.element.addEventListener("input",(t=>{this.refresh()}))}},Vn=Object.assign(Object.create(Qi),Sn),On={binary:(t,e,i)=>Object.create(tn,{object:{value:"field"},name:{value:"binary-field"},type:{value:"binary"},id:{value:Rn()},model:{value:t},schema:{value:e},projection:{value:i},source:{value:i.concept}}),choice:(t,e,i)=>Object.create(on,{object:{value:"field"},name:{value:"choice-field"},type:{value:"choice"},id:{value:Rn()},model:{value:t},schema:{value:e},projection:{value:i},source:{value:i.concept}}),graph:(t,e,i)=>Object.create(pn,{object:{value:"field"},name:{value:"graph-field"},type:{value:"graph"},id:{value:Rn()},model:{value:t},schema:{value:e},projection:{value:i},source:{value:i.concept}}),list:(t,e,i)=>Object.create(gn,{object:{value:"field"},name:{value:"list-field"},type:{value:"list"},id:{value:Rn()},model:{value:t},schema:{value:e},projection:{value:i},source:{value:i.concept}}),table:(t,e,i)=>Object.create(En,{object:{value:"field"},name:{value:"table-field"},type:{value:"table"},id:{value:Rn()},model:{value:t},schema:{value:e},projection:{value:i},source:{value:i.concept}}),text:(t,e,i)=>Object.create(Vn,{object:{value:"field"},name:{value:"text-field"},type:{value:"text"},id:{value:Rn()},model:{value:t},schema:{value:e},projection:{value:i},source:{value:i.concept}})};var Mn=0;const Rn=()=>"field"+Mn++,Nn={createField(t,e,i){const{type:n}=e,s=On[n];if(y(s))throw new Error(`Missing handler: The '${n}' field could not be handled`);var o=s(t,e,i);if(y(o))throw new Error(`Bad request: The '${n}' field could not be created`);return o.errors=[],o.readonly=a(e.readonly,!1),y(o.id)&&(o.id=Rn()),o}},Pn={init(){throw new Error("This function has not been implemented")},element:null,statusElement:null,attached:null,readonly:!1,visible:!1,disabled:!1,active:!1,focused:!1,get hasAttached(){return!o(this.attached)},attach(t,e){this.attached.push(t)},detach(t){this.attached.slice(this.attached.indexOf(t),1)},getAttached(t){return c(t)?this.attached.filter((e=>t(e))):this.attached},show(){return Ht(this.element),this.visible=!0,this.active=!0,this},hide(){return $t(this.element),this.visible=!1,this},focus(){return this.element.focus(),this.focused=!0,this.active=!0,this},clear:()=>!0,delete(){this.clear(),Ct(this.element),this.element.remove()}},qn=Object.assign(Pn,Xe),In={init(){return this},render(){const t=I(),{help:e,style:i,content:n}=this.schema;return k(this.element)||(this.element=Y({class:["audio"],src:n,dataset:{ignore:"all"}})),y(e)||(this.element.title=e),Ii(this.element,i),t.hasChildNodes()&&(this.element.appendChild(t),this.bindEvents()),this.refresh(),this.element},focusIn(){return this.focused=!0,this.element.classList.add("active"),this},focusOut(){return this.messageElement&&($t(this.messageElement),Ct(this.messageElement)),this.element.classList.remove("active"),this.refresh(),this.focused=!1,this},refresh(){return this},bindEvents(){}},Hn=Object.assign(Object.create(qn),In);function $n(t){return t.startsWith("http://")||t.startsWith("https://")?new URL(t).href:$n(`https://${t}`)}const Fn={url:null,alt:null,width:null,height:null,init(){const{url:t,width:e,height:i,alt:n}=this.schema;return this.url=$n(t),this.width=e,this.height=i,this.alt=n,this},render(){const{help:t,style:e}=this.schema;return k(this.element)||(this.element=X({class:["image"],src:this.url,alt:this.alt,dataset:{ignore:"all"}})),y(this.width)||isNaN(this.width)||(this.element.width=this.width),y(this.height)||isNaN(this.height)||(this.element.height=this.height),y(t)||(this.element.title=t),Ii(this.element,e),this.refresh(),this.element},focusIn(){return this.focused=!0,this.element.classList.add("active"),this},focusOut(){return this.messageElement&&($t(this.messageElement),Ct(this.messageElement)),this.element.classList.remove("active"),this.refresh(),this.focused=!1,this},refresh(){return this}},Bn=Object.assign(Object.create(qn),Fn),Dn={email:t=>`mailto:${t}`,phone:t=>`tel:${t}`,link:t=>`${t}`};function zn(t){return t.startsWith("http://")||t.startsWith("https://")?new URL(t).href:zn(`https://${t}`)}const Wn={url:null,urlType:null,href:null,content:null,init(){const{url:t,content:e=[],urlType:i="link"}=this.schema;this.url=zn(t),this.content=e,this.urlType=i;const n=Dn[this.urlType];if(!c(n))throw new TypeError("type not handled");return this.href=n(this.url),this},render(){if(d(this.url))throw new Error("There is no URL defined for this link");if(o(this.content))throw new Error("There is no content defined for this link");const t=I(),{help:e,style:i}=this.schema;return k(this.element)||(this.element=G({class:["link"],href:this.href,target:"_blank",dataset:{ignore:"all"}})),this.content.forEach((e=>{let i=is.call(this,e);t.appendChild(i)})),y(e)||(this.element.title=e),Ii(this.element,i),t.hasChildNodes()&&this.element.appendChild(t),this.refresh(),this.element},focusIn(){return this.focused=!0,this.element.classList.add("active"),this},focusOut(){return this.messageElement&&($t(this.messageElement),Ct(this.messageElement)),this.element.classList.remove("active"),this.refresh(),this.focused=!1,this},refresh(){return this}},Un=Object.assign(Object.create(qn),Wn);function Jn(t){const{type:e,name:i}=t;return"property"===e?this.projection.concept.getProperty(i):"param"===e?this.projection.getParam(i):t}const Gn={contentType:null,editable:null,focusable:null,init(){const{contentType:t="text",editable:e=!1,focusable:i=a(this.parent.focusable,!0)}=this.schema;return this.contentType=t,this.editable=e,this.focusable=i,this},render(){const t=I(),{help:e,style:i,content:n}=this.schema;if(!k(this.element)){this.element=K({class:["text"],editable:this.editable,dataset:{nature:"static",view:"text",id:this.id,ignore:"all"}}),this.focusable&&(this.element.tabIndex=0);let t=Jn.call(this,n);"html"===this.contentType?this.element.append(S(t)):this.element.textContent=t.trim()}return y(e)||(this.element.title=e),Ii(this.element,i),t.hasChildNodes()&&(this.element.appendChild(t),this.bindEvents()),this.refresh(),this.element},focusIn(){return this.focused=!0,this.element.classList.add("active"),this},focusOut(){return this.messageElement&&($t(this.messageElement),Ct(this.messageElement)),this.element.classList.remove("active"),this.refresh(),this.focused=!1,this},getLength(){return this.element.textContent.length},arrowHandler(t,e){if(!this.editable&&this.parent)return this.parent.arrowHandler(t,e);if("right"===t){if(this.getLength()<Pt(this.element)+1&&this.parent)return this.parent.arrowHandler(t,e)}else if("left"===t){if(0===Pt(this.element)&&this.parent)return this.parent.arrowHandler(t,e)}else if(this.parent)return this.parent.arrowHandler(t,e);return!1},escapeHandler(t){let e=jt(t,(t=>0===t.tabIndex));this.environment.resolveElement(e).focus(e)},refresh(){return this},bindEvents(){}},Xn=Object.assign(Object.create(qn),Gn),Yn={template:null,selector:null,content:null,init(){var t;return this.selector=this.schema.selector,this.template=(t=this.selector,"content"in document.createElement("template")?gt(t,undefined):null),this},render(){const{style:t,content:e}=this.schema;var i;return _(this.element)||(this.element=(i=this.template)?document.importNode(i.content,a(undefined,!0)):i),this.refresh(),this.element},focusIn(){return this.focused=!0,this.element.classList.add("active"),this},focusOut(){return this.element.classList.remove("active"),this.refresh(),this.focused=!1,this},refresh(){return this}},Kn=Object.assign(Object.create(qn),Yn);var Qn=0;const Zn=()=>"static"+Qn++,ts={audio:(t,e,i)=>Object.create(Hn,{object:{value:"static"},name:{value:"audio-static"},type:{value:"audio"},id:{value:Zn()},model:{value:t},schema:{value:e},projection:{value:i}}),image:(t,e,i)=>Object.create(Bn,{object:{value:"static"},name:{value:"image-static"},type:{value:"image"},id:{value:Zn()},model:{value:t},schema:{value:e},projection:{value:i}}),link:(t,e,i)=>Object.create(Un,{object:{value:"field"},name:{value:"image-static"},type:{value:"image"},id:{value:Zn()},model:{value:t},schema:{value:e},projection:{value:i}}),text:(t,e,i)=>Object.create(Xn,{object:{value:"static"},name:{value:"text-static"},type:{value:"text"},id:{value:Zn()},model:{value:t},schema:{value:e},projection:{value:i}}),html:(t,e,i)=>Object.create(Kn,{object:{value:"static"},name:{value:"html-static"},type:{value:"html"},id:{value:Zn()},model:{value:t},schema:{value:e},projection:{value:i}})},es={createStatic(t,e,i){const{type:n}=e,s=ts[n];if(y(s))throw new Error(`Missing handler: The '${n}' static could not be handled`);var a=s(t,e,i);if(y(a))throw new Error(`Bad request: The '${n}' static could not be created`);return a.initObserver(),y(a.id)&&(a.id=Zn()),a}};function is(t,e,i){const n=a(e,this.projection.concept);if("layout"===t.type){let e=ds.createLayout(this.model,t.layout,this.projection);return e.parent=this,e.init(i),this.projection.environment.registerLayout(e),e.render()}if("field"===t.type){let e=Nn.createField(this.model,t,this.projection);return e.model=this.model,e.parent=this,e.init(i),e.render()}if("static"===t.type){let e=es.createStatic(this.model,t.static,this.projection);return e.parent=this,e.init(i),this.projection.environment.registerStatic(e),e.render()}if("input"===t.type){const{placeholder:e,type:i,style:n}=a(t.input,{});let s=null;return s=this.readonly||this.resizable?K({editable:!this.readonly,title:e,dataset:{placeholder:e,nature:"field-component",view:this.type,id:this.id}}):this.multiline?it({placeholder:e,title:e,dataset:{nature:"field-component",view:this.type,id:this.id}}):et({type:a(i,"text"),placeholder:e,title:e,dataset:{nature:"field-component",view:this.type,id:this.id}}),this.disabled&&(s.disabled=!0),this.focusable?s.tabIndex=0:s.dataset.ignore="all",Ii(s,n),s}if("attribute"===t.type)return Yi.call(this,t,n);if("template"===t.type){let n=this.model.getModelTemplate(t.name);n.param&&this.projection.addParam(t.param);const s=I();return n.content.forEach((t=>{s.append(is.call(this,t,e,i))})),s}if("projection"===t.type){const{tag:n,style:s}=t,a=this.projection.schema.findIndex((t=>t.tags.includes(n))),o=rt({class:["btn"]},is.call(this,t.content,e,i));return o.addEventListener("click",(()=>{this.projection.changeView(a)})),Ii(o,s),o}if("property"===t.type){const{name:e}=t;return this.projection.concept.getProperty(e)}throw console.error(t),new TypeError("Bad argument: The type is not recognized")}const ns={focusable:null,container:null,getStyle(){return this.schema.style},setStyle(t){return this.schema.style=t,Ii.call(this,this.container,t),this.refresh(),!0},getField(t){return this.projection.getField(t)},getStatic(t){return this.projection.getStatic(t)},getLayout(t){return this.environment.getLayout(t)}},ss={orientation:null,elements:null,edit:!1,btnEdit:!1,menu:!1,init(t={}){const{orientation:e="horizontal",focusable:i=!1}=this.schema;return this.orientation=e,this.focusable=i,this.elements=[],Object.assign(this,t),this},getOrientation(){return this.orientation},setOrientation(t){["horizontal","vertical"].includes(t)&&(this.orientation=t)},render(){const{disposition:t,style:e,help:i}=this.schema;if(!Array.isArray(t))throw new SyntaxError("Bad disposition");const n=I();k(this.container)||(this.container=D({class:["layout-container"],title:i,dataset:{nature:"layout",layout:"stack",id:this.id}})),this.focusable?this.container.tabIndex=0:this.container.dataset.ignore="all";for(let e=0;e<t.length;e++){let i=is.call(this,t[e]),s=this.environment.resolveElement(i);s&&(s.parent=this),this.elements.push(i),n.appendChild(i)}return Ii.call(this,this.container,e),n.hasChildNodes()&&(this.container.appendChild(n),this.bindEvents()),this.container.style.display="flex",this.refresh(),this.container},refresh(){return"vertical"===this.orientation&&(this.container.style.flexDirection="column"),"horizontal"===this.orientation&&(this.container.style.flexDirection="row"),this},focus(t){if(this.focusable)this.container.focus();else{let e=this.environment.resolveElement(a(t,this.container.children[0]));e&&e.focus()}},enterHandler(t){let e=this.environment.resolveElement(this.elements[0]);return e&&e.focus(),!1},escapeHandler(t){let e=jt(t,(t=>0===t.tabIndex));this.environment.resolveElement(e).focus(e)},arrowHandler(t,e){if(e===this.container)return!!this.parent&&this.parent.arrowHandler(t,this.container);let i=null;if("up"===t?i=ae(e,this.container):"down"===t?i=ce(e,this.container):"left"===t?i=oe(e,this.container):"right"===t&&(i=re(e,this.container)),k(i)){let t=this.environment.resolveElement(i);return t&&t.focus(),!0}return!!this.parent&&this.parent.arrowHandler(t,this.container)},bindEvents(){this.container.addEventListener("change",(t=>{const{target:e}=t,{prop:i}=e.dataset;"orientation"===i&&(this.setOrientation(e.value),this.refresh())}))}},as=Object.assign({},ns,ss),os={elements:null,init(t={}){const{focusable:e=!1}=this.schema;return this.focusable=e,this.elements=[],Object.assign(this,t),this},render(){const{disposition:t,style:e,help:i}=this.schema;if(!Array.isArray(t))throw new SyntaxError("Bad disposition");const n=I();k(this.container)||(this.container=D({class:["layout-container"],title:i,dataset:{nature:"layout",layout:"wrap",id:this.id}})),this.focusable?this.container.tabIndex=0:this.container.dataset.ignore="all";for(let e=0;e<t.length;e++){let i=is.call(this,t[e]),s=this.environment.resolveElement(i);s&&(s.parent=this),this.elements.push(i),n.appendChild(i)}return Ii.call(this,this.container,e),n.hasChildNodes()&&(this.container.appendChild(n),this.bindEvents()),this.refresh(),this.container},refresh(){return this},focus(t){if(this.focusable)this.container.focus();else{let e=this.environment.resolveElement(a(t,this.container.children[0]));e&&e.focus()}},enterHandler(t){let e=this.environment.resolveElement(this.elements[0]);return e&&e.focus(),!1},escapeHandler(t){let e=jt(t,(t=>0===t.tabIndex));this.environment.resolveElement(e).focus(e)},arrowHandler(t,e){if(e===this.container)return!!this.parent&&this.parent.arrowHandler(t,this.container);let i=null;if("up"===t?i=ae(e,this.container):"down"===t?i=ce(e,this.container):"left"===t?i=oe(e,this.container):"right"===t&&(i=re(e,this.container)),k(i)){let t=this.environment.resolveElement(i);return t&&t.focus(),!0}return!!this.parent&&this.parent.arrowHandler(t,this.container)},bindEvents(){}},rs=Object.assign({},ns,os),cs={init(t={}){const{orientation:e="row",focusable:i=!1}=this.schema;return this.orientation=e,this.focusable=i,this.elements=[],Object.assign(this,t),this},refresh(){return this},render(){const{disposition:t,style:e,help:i}=this.schema;if(!Array.isArray(t))throw new SyntaxError("Bad disposition");const n=I();k(this.container)||(this.container=D({class:["layout-container"],dataset:{nature:"layout",layout:"table"}})),this.focusable?this.container.tabIndex=-1:this.container.dataset.ignore="all";for(let e=0;e<t.length;e++){let i=t[e],s=D({class:["table-row"]});s.style.display="table-row";for(let t=0;t<i.length;t++){const e=i[t];let n=D({class:["table-cell"]},is.call(this,e.content));n.style.display="table-cell",s.append(n)}n.appendChild(s)}return Ii.call(this,this.container,e),n.hasChildNodes()&&(this.container.appendChild(n),this.bindEvents()),this.container.style.display="table",this.refresh(),this.container},bindEvents(){}},ls=Object.assign({},ns,cs);var ps=0;const us=()=>"layout"+ps++,hs={stack:(t,e,i)=>Object.create(as,{object:{value:"layout"},name:{value:"stack-layout"},type:{value:"stack"},id:{value:us()},model:{value:t},schema:{value:e},projection:{value:i},source:{value:i.concept}}),wrap:(t,e,i)=>Object.create(rs,{object:{value:"layout"},name:{value:"wrap-layout"},type:{value:"wrap"},id:{value:us()},model:{value:t},schema:{value:e},projection:{value:i},source:{value:i.concept}}),table:(t,e,i)=>Object.create(ls,{object:{value:"layout"},name:{value:"table-layout"},type:{value:"table"},id:{value:us()},model:{value:t},schema:{value:e},projection:{value:i},source:{value:i.concept}})},ds={createLayout(t,e,i){const{type:n}=e,s=hs[n];if(y(s))throw new TypeError(`Missing handler: The '${n}' layout could not be handled`);const a=s(t,e,i);if(y(a))throw new Error(`Bad request: The '${n}' layout could not be created`);return a.createLayout=this.createLayout,y(a.id)&&(a.id=us()),a}};var ms=0;const ys={createProjection(t,e,i,n){var s=Object.create(fs,{id:{value:a(e.id,"projection"+ms++)},model:{value:t},schema:{value:e,writable:!0},environment:{value:n}});return s.concept=i,s}},fs={handlers:null,init(t){return this.containers=[],this.attributes=[],this.params=[],this.handlers={},this.args=a(t,{}),this.concept.register(this),this},schema:null,concept:null,environment:null,parent:null,containers:null,element:null,attributes:null,params:null,index:0,editing:!1,get hasMultipleViews(){return this.schema.length>1},get isReadOnly(){return a(this.getSchema().readonly,!1)},isRoot(){return y(this.parent)},getSchema(){return this.schema[this.index]},getContainer(){return this.containers[this.index]},getStyle(){const{style:t}=this.getSchema();return t},addParam(t){this.params.push(...Array.isArray(t)?t:[t])},getParam(t){let e=this.params.find((e=>e.name===t));if(y(e))return;const{type:i="string",value:n}=e;return"string"===i?n.toString():"number"===i?+n:"boolean"===i?w(n):void 0},getAttributes(t){return this.attributes.filter((e=>e.name===t))},getField(t){return this.environment.getField(t)},getStatic(t){return this.environment.getStatic(t)},getLayout(t){return this.environment.getLayout(t)},getHandlers(t){return a(this.handlers[t],[])},update(t,e){if(o(this.containers))return;if("delete"===t)return this.concept.unregister(this),this.concept=null,this.containers.forEach((t=>{Ct(t),t.remove()})),void this.model.removeProjection(this.id);const i=this.getHandlers(t);if(o(i))switch(t){case"value.changed":return void this.element.setValue(e);case"value.added":return void this.element.addItem(e);case"value.removed":return void this.element.removeItem(e);case"attribute.added":return void this.getAttributes(e.name).forEach((t=>{const{schema:i}=t,n=this.model.createProjection(e.target,i.tag).init();n.parent=this,n.optional=!0;const s=n.render();Ii(s,i.style),t.element=s,t.placeholder&&(t.placeholder.after(s),$t(t.placeholder))}));case"attribute.removed":return void this.getAttributes(e.name).forEach((t=>{t.element=null,t.placeholder&&Ht(t.placeholder)}));default:console.warn(`The message '${t}' is not handled by the element`)}else i.forEach((t=>{t(e)}))},registerHandler(t,e){return Array.isArray(this.handlers[t])||(this.handlers[t]=[]),this.handlers[t].push(e),!0},unregisterHandler(t,e){if(!b(this.handlers,t))return!1;for(let i=0;i<this.handlers[t].length;i++)if(this.handlers[t][i]===e)return this.handlers[t].splice(i,1),!0;return!1},render(){const t=this.getSchema(),{type:e,projection:i,content:n}=t;var s=null;if("layout"===e?(this.element=ds.createLayout(this.model,a(i,n),this).init(this.args),this.environment.registerLayout(this.element)):"field"===e&&(this.element=Nn.createField(this.model,a(i,n),this).init(this.args),this.environment.registerField(this.element)),s=this.element.render(),!_(s))throw new Error("Projection element container could not be created");if(Object.assign(s.dataset,{projection:this.id,object:this.concept.object,alt:this.schema.length}),this.optional){let t=rt({class:["btn","structure__btn-delete"],title:"Delete"});t.addEventListener("click",(t=>{this.concept.delete()})),s.classList.add("has-toolbar"),s.prepend(t)}if(this.hasMultipleViews){let t=tt({class:["badge","badge--alt"]});s.prepend(t)}return this.addContainer(s),s},addContainer(t){if(!k(t))throw new TypeError("Bad request: Missing container");this.containers.push(t)},refresh(){this.editing?this.containers.forEach((t=>{t.tabIndex=0})):this.containers.forEach((t=>{t.tabIndex=null}))},changeView(t){if(this.hasMultipleViews){var e=this.getContainer();this.index=a(t,(this.index+1)%this.schema.length);var i=this.getContainer();return k(i)||(i=this.render()),e.replaceWith(i),i.focus(),this}this.environment.notify("There is no alternative projection for this concept")},export(){return{id:this.id,root:this.isRoot(),concept:{id:this.concept.id,name:this.concept.name}}},bindEvents(){this.schema.length>1&&(k(this.btnPrev)||(this.btnPrev=rt({type:"button",class:["btn","btn-projection","btn-projection--previous","hidden"],disabled:this.index<=0,dataset:{context:"projection",action:"previous"}},"Previous Projection")),k(this.btnNext)||(this.btnNext=rt({type:"button",class:["btn","btn-projection","btn-projection--next","hidden"],disabled:this.index>=this.schema.length-1,dataset:{context:"projection",action:"next"}},"Next Projection")),this.container.addEventListener("click",(t=>{var e=t.target,i=this.container;$t(i),e===this.btnPrev?(this.index-=1,function(t,e){if(!j([t,e],C))throw new TypeError("Bad argument: The given `element` or `target` is not a valid Element");t.insertAdjacentElement("beforebegin",e)}(i,this.render())):e===this.btnNext&&(this.index+=1,function(t,e){if(!j([t,e],C))throw new TypeError("Bad argument: The given `element` or `target` is not a valid Element");t.insertAdjacentElement("afterend",e)}(i,this.render())),Ht(this.container),this.btnPrev.disabled=this.index<=0,this.btnNext.disabled=this.index>=this.schema.length-1})),this.container.append(this.btnNext,this.btnPrev))}},bs=[];function gs(t,e){const i=Object.create(vs,{schema:{value:t},environment:{value:e}});return bs.push(i),i}const vs={projections:null,init(t){return this.projections=[],this},done(){return this.projections.forEach((t=>{})),this.projections=[],this},createProjection(t,e){const i=this.getModelProjection(t,e);o(i)&&console.warn(t,i,e);const n=ys.createProjection(this,i,t,this.environment);return this.addProjection(n),n},getProjections(){return this.projections.slice()},getProjection(t){return Number.isInteger(t)?this.projections[t]:this.projections.find((e=>e.id===t))},addProjection(t){if(y(t))throw new TypeError("Bad request: The 'projection' argument must be a Projection");return this.projections.push(t),this},removeProjection(t){var e=this.projections.findIndex((e=>e.id===t));return-1!==e&&(this.projections.splice(e,1),!0)},getMetadata(t){let e=this.schema.find((e=>e.id===t));return e?e.metadata:null},hasProjection(t){return-1!==this.schema.findIndex((e=>e.name===t))},hasConceptProjection(t,e){const i=e=>e.concept.name===t.name;return y(e)?-1!==this.schema.findIndex((t=>i(t))):-1!==this.schema.findIndex((t=>i(t)&&(t=>Array.isArray(t.tags)&&t.tags.includes(e))(t)))},getModelProjection(t,e){if(y(t))throw new TypeError("Bad parameter: concept");var i=null;return i=r(t)?this.schema.filter((e=>"template"!==e.type&&e.concept.name===t)):this.schema.filter((e=>{return"template"!==e.type&&((e=>e&&(e===t.name||t.schema&&e===t.schema.base))(e.concept.name)||!y(i=e.concept.prototype)&&"prototype"!==t.nature&&t.hasPrototype(i));var i})),p(e)&&!o(e)?i.filter((t=>t.tags&&t.tags.includes(e))):i},getModelTemplate(t,e){return this.schema.find((e=>"template"===e.type&&e.name===t))},getModelProjectionTemplate(t,e,i){var n=this.getModelProjection(t,i);return Array.isArray(n)?(n=n.filter((t=>"template"===t.type&&t.template===e)))[0]:[]},getModelProjectionLayout(t,e,i){var n=this.getModelProjection(t,i);return Array.isArray(n)?n=n.filter((t=>"layout"===t.type)).find((t=>t.name===e)):[]},getModelProjectionField(t,e,i){return this.schema.filter((e=>e.concept===t)).filter((t=>"field"===t.type)).find((t=>t.name===e))},export(){const t=[];return this.getProjections().forEach((e=>{t.push(e.export())})),t}},xs={projection:null,container:null,content:null,btnChange:null,btnSearch:null,init(t){return t&&(this.editor=t),this},setProjection(t){this.projection!==t&&(this.projection=t),this.refresh()},refresh(){return y(this.projection)?(this.content.textContent="N/A",this.btnChange.disabled=!0,void(this.btnSearch.disabled=!0)):(this.content.textContent=this.projection.id,this.btnChange.disabled=!this.projection.hasMultipleViews,this)},clear(){return Ct(this.content),this},show(){return this},hide(){return $t(this.container),this},render(){const t=I();k(this.container)||(this.container=D({class:["projection-window","hidden"],draggable:!0,title:"Click to handle projection"}));const e=K({class:["projection-window-title"],dataset:{ignore:"all"}},"Projection");return t.append(e),k(this.content)||(this.content=D({class:["projection-window-content"]}),t.append(this.content)),this.btnChange=rt({class:["btn","projection-window-button","projection-window-button-change"],dataset:{context:"projection",action:"change"}},"Change"),t.append(this.btnChange),this.btnSearch=rt({class:["btn","projection-window-button","projection-window-button-search"],dataset:{context:"projection",action:"search"}},"Search"),t.append(this.btnSearch),t.hasChildNodes()&&(this.container.append(t),this.bindEvents()),this.refresh(),this.container},bindEvents(){this.container.addEventListener("click",(t=>{var e=Qt(t.target);const{action:i}=e.dataset;"change"===i?this.projection.changeView():"search"===i||"style"===i&&this.openStyle()}))}},ws={container:null,designMenu:null,modelMenu:null,schema:null,isOpen:!1,visible:!0,btnStart:null,modelFileIO:null,projectionFileIO:null,init(t){return t&&(this.schema=t),this},isRendered(){return k(this.container)},show(){return Ht(this.container),this.visible=!0,this},hide(){return $t(this.container),this.visible=!1,this},toggle(){return Ft(this.container),this.visible=!this.visible,this},open(){return this.container.classList.add("open"),this.show(),this.isOpen=!0,this},close(){return this.container.classList.remove("open"),this.hide(),this.isOpen=!1,this},clear(){return Ct(this.container),this},update(){},render(){const t=I();return k(this.container)||(this.container=D({class:["editor-home"]})),k(this.designMenu)||(this.designMenu=js.call(this),t.append(this.designMenu)),k(this.modelMenu)||(this.modelMenu=_s.call(this),t.append(this.modelMenu)),t.hasChildNodes()&&(this.container.append(t),this.bindEvents()),this.refresh(),this.container},refresh(){const{hasConceptModel:t,hasProjectionModel:e}=this.editor;return t&&e||this.show(),this.modelFileIO.setFile(t?"file":null),this.projectionFileIO.setFile(e?"file":null),this.btnStart.disabled=!(t&&e),this},bindEvents(){}};function js(){const t=$({class:["editor-home-section","editor-home-section--design"]});let e=F({class:["title","editor-home-section__title","font-ui"]},"Design "),i=D({class:["editor-home-section__content","editor-home-section--design__content"]}),n=Es("metamodel"),s=Es("projection");return i.append(n,s),t.append(e,i),t}function Es(t){return rt({class:["btn","editor-home-section__button","editor-home-section__button--new"],dataset:{action:`create-${t}`}},`Build a ${t}`)}function _s(){const t=$({class:["editor-home-section","editor-home-section--model"]});let e=F({class:["title","editor-home-section__title","font-ui"]},"Modelling activity"),i=D({class:["editor-home-section__content","editor-home-section--model__content"]});return this.modelFileIO=Cs("model"),this.projectionFileIO=Cs("projection","interface"),i.append(this.modelFileIO.render(),this.projectionFileIO.render()),this.btnStart=rt({class:["btn","editor-home-section--model__button","editor-home-section__button--start"],dataset:{action:"close-home",context:"home"}},"Start modelling"),t.append(e,i,this.btnStart),t}function Cs(t,e){const i=Object.create(ks);return i.init(t,e),i}const ks={file:null,type:null,title:null,status:null,container:null,btnLoad:null,btnUnload:null,btnReLoad:null,init(t,e){return this.type=t,this.title=a(e,t),this},get hasFile(){return!y(this.file)},getFile(){return this.file},setFile(t){this.file=t,this.refresh()},refresh(){return this.hasFile?this.container.classList.remove("empty"):this.container.classList.add("empty"),this.btnReLoad.disabled=!this.hasFile,this.btnUnload.disabled=!this.hasFile,this},render(){this.container=D({class:["drop-area","editor-home-section__drop-area",`editor-home-section__drop-area--${this.type}`],dataset:{type:this.type}});let t=D({class:["drop-area__file-section"]}),e=tt({class:["icon","file-section__icon"]},`${this.type} {JSON}`),i=D({class:["file-section__actionbar"]});var n;this.btnUnload=rt({class:["btn","file-section__actionbar-button","file-section__actionbar-button--remove"],dataset:{action:`unload-${this.type}`}},"UN.load"),this.btnReLoad=rt({class:["btn","file-section__actionbar-button","file-section__actionbar-button--reload"],dataset:{action:`reload-${this.type}`}},"RE.load"),i.append(this.btnUnload,this.btnReLoad),t.append(e,i),this.btnLoad=rt({class:["btn","drop-area__button","drop-area__button--open"],dataset:{action:`load-${this.type}`}},`Select ${n=this.title.charAt(0),n&&["a","e","i","o","u"].includes(n.toLowerCase())?"an":"a"} ${this.title}`);let s=z({class:["drop-area__instruction"]},[this.btnLoad,"or drop it here"]);return this.container.append(t,s),this.refresh(),this.container},bindEvents(){}},Ls={container:null,actionList:null,notification:null,schema:null,isOpen:!1,visible:!0,init(t){return t&&(this.schema=t),this},isRendered(){return k(this.container)},show(){return Ht(this.container),this.visible=!0,this},hide(){return $t(this.container),this.visible=!1,this},toggle(){return Ft(this.container),this.visible=!this.visible,this},open(){return 0===this.actionList.childElementCount?(this.notify("The menu is empty",1500),this):(this.container.classList.add("open"),this.show(),this.isOpen=!0,this)},close(){return this.container.classList.remove("open"),this.isOpen=!1,this},clear(){return Ct(this.container),this},update(t){t&&(this.schema=t);const{actions:e}=this.schema,i=I();e.filter((t=>a(t.default,!0))).forEach((t=>{const{name:e,content:n,downloadable:s,handler:o}=t;let r=rt({class:["btn","menu-action__button"],dataset:{action:e,downloadable:s,handler:!0}},a(n,e)),c=J({class:["menu-action-list-item"]},r);i.append(c)})),Ct(this.actionList).append(i),this.schema=t},notify(t,e=4500){let i=function(t,e="normal"){var i=K({class:["notification-message",`notification-message--${e}`]},t);return Array.isArray(t)?i.style.minWidth=`${Math.min(.6*t[0].length,30)}em`:i.style.minWidth=`${Math.min(.6*t.length,30)}em`,i}(t);const n="open";if(this.notification.classList.contains(n))return!1;this.notification.appendChild(i),setTimeout((()=>{this.notification.classList.add(n),this.container.classList.add("menu--notifying")}),50),setTimeout((()=>{this.notification.classList.remove(n),this.container.classList.remove("menu--notifying"),setTimeout((()=>{Ct(this.notification)}),500)}),e)},render(){const t=I();k(this.container)||(this.container=D({class:["menu"],draggable:!0,title:"Click to access the editor actions",dataset:{action:"menu.click",handler:!0}})),k(this.notification)||(this.notification=D({class:["notification","menu-notification"]}),t.appendChild(this.notification));const e=K({class:["menu-title"],dataset:{ignore:"all"}},"Menu");return t.append(e),k(this.actionList)||(this.actionList=U({class:["bare-list","menu-action-list"]}),t.append(this.actionList)),t.hasChildNodes()&&(this.container.append(t),this.bindEvents()),this.update(),this.refresh(),this.container},refresh(){return this},bindEvents(){this.editor.registerHandler("menu.click",(()=>this.isOpen?this.close():this.open()))}},Ts={container:null,schema:null,isOpen:!1,visible:!0,btnStart:null,modelFileIO:null,projectionFileIO:null,init(t){return t&&(this.schema=t),this},isRendered(){return k(this.container)},show(){return Ht(this.container),this.visible=!0,this},hide(){return $t(this.container),this.visible=!1,this},toggle(){return Ft(this.container),this.visible=!this.visible,this},open(){return this.container.classList.add("open"),this.show(),this.isOpen=!0,this},close(){return this.container.classList.remove("open"),this.hide(),this.isOpen=!1,this},clear(){return Ct(this.container),this},update(){},render(){const t=I();return k(this.container)||(this.container=D({class:["editor-style"]})),t.hasChildNodes()&&(this.container.append(t),this.bindEvents()),this.close(),this.refresh(),this.container},refresh(){return this},bindEvents(){}};function As(t,e,i){return Object.create(Ss,{object:{value:"selector"},model:{value:i},type:{value:t},editor:{value:e}})}const Ss={container:null,list:null,editor:null,dataList:null,fetch:null,init(t){return this.fetch=t,this},render(){const t=I();return k(this.container)||(this.container=D({class:["container","container--editor-selectors"]})),k(this.list)||(this.list=U({class:["bare-list","editor-selectors","font-ui"]}),t.append(this.list)),t.hasChildNodes()&&(this.container.appendChild(t),this.bindEvents()),this.refresh(),this.container},refresh(){return this},update(){return this.dataList=this.fetch(),Ct(this.list),this.dataList.forEach((t=>{const{concept:e}=t;let i=B({class:["title","editor-selector__title"]},`${t.name||t.type}`);e&&i.append(K({class:["editor-selector__title-concept"]},(e.name||e.prototype).replace(" ","-").toLowerCase()));let n=rt({class:["btn","btn-collapse"],dataset:{action:"collapse",rel:"parent",target:"selector"}}),s=H({class:["title","editor-selector__header"],title:`Expand/Collapse ${this.type}`},[i,n]),a=Vs[this.type],o=D({class:["editor-selector__preview"]},a(t)),r=Os[this.type],c=D({class:["editor-selector__action-bar"]},r(t)),l=J({class:["editor-selector","collapsed","font-ui"],title:t.description,tabindex:0,dataset:{type:this.type,name:"selector",projection:t.id}},[s,o,c]);this.list.appendChild(l)})),this.refresh(),this},show(){return Ht(this.container),this},hide(){return $t(this.container),this},bindEvents(){this.container.addEventListener("change",(t=>{const{target:e}=t,{action:i,type:n,id:s,concept:a}=e.dataset;"global"===i&&this.editor.projectionModel.changeProjection({global:e.checked})}))}},Vs={projection:t=>{const{concept:e,tags:i=[]}=t,n=I();let s=K({class:["editor-selector__preview-concept"]},e.name||e.prototype),a=U({class:["bare-list","editor-selector__preview-tags"]});return i.forEach((t=>a.append(J({class:["editor-selector__preview-tag"]},t)))),n.append(s,a),n},value:t=>{if(y(t))return Z({class:["editor-selector__preview-null"]},"null");const{name:e,value:i,attributes:n}=t;if(["string","number","boolean"].includes(e))return K({class:["editor-selector__preview-text"]},i);if("set"===e){let t=U({class:["bare-list","editor-selector__preview-list"]});return i.forEach((e=>{let i=J({class:["editor-selector__preview-list-item"]},Vs.value(e));t.append(i)})),t}if(n){let t=U({class:["bare-list","editor-selector__preview-attributes"]});return n.forEach((e=>{const{name:i,value:n}=e;let s=K({class:["editor-selector__preview-text","editor-selector__preview-text--attribute"]},i),a=J({class:["editor-selector__preview-attribute"]},[s,Vs.value(n)]);t.append(a)})),t}return i?Vs.value(i):t.toString()},concept:t=>{const e=I();if(Array.isArray(t.attributes)){let i=U({class:["bare-list","editor-selector__attributes"]});t.attributes.forEach((t=>{const{name:e,required:n,target:s}=t;let a=K({class:["editor-selector__preview-text","editor-selector__preview-text--attribute"]},e),o=K({class:["editor-selector__preview-text","editor-selector__preview-text--target"]},s.name),r=J({class:["editor-selector__attribute"]},[a,o]);n&&(r.classList.add("required"),tt({class:["editor-selector__badge"]})),i.append(r)})),e.append(i)}return e}},Os={projection:t=>{const e=I();et({type:"checkbox",class:["checkbox","editor-selector__action-bar-checkbox","editor-selector__action-bar-checkbox--global"],checked:w(t.global),dataset:{action:"global",id:t.id}});let i=rt({class:["btn","editor-selector__action-bar-button","editor-selector__action-bar-button","editor-selector__action-bar-button--clone"],dataset:{action:"edit",id:t.id}},"Edit");return e.append(i),e},value:t=>{const e=I();let i=rt({class:["btn","editor-selector__action-bar-button","editor-selector__action-bar-button--clone"],dataset:{action:"clone",id:t.id}},"Clone"),n=rt({class:["btn","editor-selector__action-bar-button","editor-selector__action-bar-button--delete"],dataset:{action:"delete",id:t.id}},"Delete");return e.append(i,n),e},concept:t=>{const e=I();let i=rt({class:["btn","editor-selector__action-bar-button","editor-selector__action-bar-button--clone"],dataset:{action:"create",concept:t.name}},"Create");return e.append(i),e}};function Ms(t){let e=J({class:["tab","editor-header-tab"],tabindex:0,dataset:{value:t,action:`selector-${t}`}}),i=K({class:["editor-header-tab__content"]},t);return e.append(i),e}const Rs={editor:null,valueCount:0,container:null,title:null,visible:!0,tabs:null,tabConcept:null,tabValue:null,tabProjection:null,tabConceptNotification:null,tabValueNotification:null,tabProjectionNotification:null,activeTab:null,activeTabValue:null,menu:null,body:null,btnClose:null,btnHome:null,init(t){return t&&(this.editor=t),this._conceptSelector=As("concept",this.editor).init((()=>this.editor.hasConceptModel?this.editor.getRoots().map((t=>this.editor.conceptModel.getCompleteModelConcept(t))):[])),this._valueSelector=As("value",this.editor).init((()=>this.editor.hasConceptModel?this.editor.conceptModel.getValues():[])),this._projectionSelector=As("projection",this.editor).init((()=>this.editor.hasProjectionModel?this.editor.projectionModel.schema.filter((t=>"template"!==t.type)):[])),this},isRendered(){return k(this.container)},render(){const t=I();k(this.container)||(this.container=D({class:["editor-header"]})),k(this.title)||(this.title=K({class:["editor-header-title"]},"Editor")),this.tabs=U({class:["bare-list","tabs","editor-header-tabs"]}),this.tabConcept=Ms("concept"),this.tabConceptNotification=tt({class:["editor-selector__notification","hidden"]}),this.tabConcept.prepend(this.tabConceptNotification),this.tabValue=Ms("value"),this.tabValueNotification=tt({class:["editor-selector__notification","hidden"]}),this.tabValue.prepend(this.tabValueNotification),this.tabProjection=Ms("projection"),this.tabProjectionNotification=tt({class:["editor-selector__notification","hidden"]}),this.tabProjection.prepend(this.tabProjectionNotification),this.tabs.append(this.tabConcept,this.tabValue,this.tabProjection),this.activeTab=this.tabs.children[0],this.activeTab.classList.add("selected"),this.activeTabValue=this.activeTab.dataset.value,this.btnClose=rt({class:["btn","btn-close"],dataset:{action:"close"}}),this.btnHome=rt({class:["btn","btn-home"],dataset:{action:"home"}}),rt({class:["btn","btn-style","hidden"],dataset:{action:"style"}});let e=D({class:["editor-toolbar"]},[this.btnHome,this.btnClose]);return k(this.menu)||(this.menu=D({class:["editor-header-menu"]},[this.title,this.tabs,e]),t.append(this.menu)),k(this.body)||(this.body=D({class:["editor-header-main"]}),t.append(this.body)),k(this._conceptSelector.container)||this.body.append(this._conceptSelector.render()),k(this._valueSelector.container)||this.body.append(this._valueSelector.render()),k(this._projectionSelector.container)||this.body.append(this._projectionSelector.render()),t.hasChildNodes()&&(this.container.appendChild(t),this.bindEvents()),this.refresh(),this.container},refresh(){b(this.editor.config,"name")&&(this.title.textContent=`Editor: ${this.editor.config.name}`),this.editor.conceptModel?(Ht(this.tabs),Ht(this.body)):($t(this.tabs),$t(this.body));let t=Ns[this.activeTabValue];return c(t)&&t.call(this),this.valueCount>0?(this.tabValueNotification.textContent=this.valueCount,Ht(this.tabValueNotification)):$t(this.tabValueNotification),this},updateSelector(t){const{value:e}=t.dataset;this.activeTabValue!==e&&t.parentElement===this.tabs&&(this.activeTab.classList.remove("selected"),this.activeTabValue=e,this.activeTab=t,this.activeTab.classList.add("selected"),this.refresh())},show(){return Ht(this.container),this.visible=!0,this},hide(){return $t(this.container),this.visible=!1,this},toggle(){return Ft(this.container),this.visible=!this.visible,this},bindEvents(){this.container.addEventListener("keydown",(t=>{const{target:e}=t;switch(t.key){case zt:e.click()}})),this.tabs.addEventListener("click",(t=>{const{target:e}=t;let i=Ps.call(this,e);this.updateSelector(i)})),this.body.addEventListener("click",(t=>{const{target:e}=t,{action:i,id:n,concept:s,handler:a}=e.dataset;if("clone"===i){let t=this.editor.conceptModel.getValue(n);this.editor.activeConcept.initValue(t)}else if("delete"===i)this.editor.conceptModel.removeValue(n);else if("edit"===i){let t=this.editor.projectionModel.getMetadata(n);this.editor.manager.createEditor().init().initProjection([JSON.parse(t)]).open()}else"create"===i&&this.editor.addConcept(s)})),pe("value.added",(t=>{this.valueCount++,this.refresh()})),pe("value.removed",(t=>{this.refresh()}))}},Ns={concept:function(){this._conceptSelector.update(),this._conceptSelector.show(),$t(this.tabConceptNotification),this._valueSelector.hide(),this._projectionSelector.hide()},projection:function(){this._projectionSelector.update(),this._projectionSelector.show(),$t(this.tabProjectionNotification),this._conceptSelector.hide(),this._valueSelector.hide()},value:function(){this._valueSelector.update(),this.valueCount=0,this._valueSelector.show(),$t(this.tabValueNotification),this._conceptSelector.hide(),this._projectionSelector.hide()}};function Ps(t){const e=t=>t.parentElement===this.tabs;return e(t)?t:jt(t,e,10)}function qs(){return Object.create(Rs,{object:{value:"environment"},name:{value:"editor-header"},editor:{value:this}})}function Is(){return Object.create(xs,{object:{value:"environment"},name:{value:"projection-window"},type:{value:"window"},editor:{value:this}})}function Hs(){return Object.create(Ls,{object:{value:"environment"},name:{value:"editor-menu"},type:{value:"menu"},editor:{value:this}})}function $s(){return Object.create(ws,{object:{value:"environment"},name:{value:"editor-home"},type:{value:"home"},editor:{value:this}})}function Fs(){return Object.create(Ts,{object:{value:"environment"},name:{value:"editor-style"},type:{value:"style"},editor:{value:this}})}function Bs(t){const{name:e}=t;let i=this.projectionModel.createProjection(t).init(),n=F({class:["title","editor-concept-title"]},e),s=rt({class:["btn","editor-concept-toolbar__btn-delete"],title:`Delete ${e.toLowerCase()}`}),a=(rt({class:["btn","editor-concept-toolbar__btn-collapse"],title:`Collapse ${e.toLowerCase()}`}),rt({class:["btn","editor-concept-toolbar__btn-maximize"],title:`Maximize ${e.toLowerCase()}`})),o=D({class:["editor-concept-toolbar"]},[a,s]),r=H({class:["editor-concept-header"]},[n,o]),c=D({class:["editor-concept"],draggable:!1,dataset:{nature:"concept-container"}},[r,i.render()]);return s.addEventListener("click",(e=>{t.delete(!0)&&(Ct(c),c.remove())})),a.addEventListener("click",(t=>{c.classList.toggle("focus")})),c}const Ds=i(3),zs=i(513),Ws=(i(438),i(767)),Us=i(678),Js=i(76),Gs=i(230),Xs=(i(445),{header:{selectors:{},css:["editor-header"]},root:[],body:{concept:{actions:[{name:"build",triggers:["click"]}],css:["model-concept-list"]},css:["editor-body"]},menu:{actions:[{name:"export"},{name:"import"}],css:["editor-menu"]}}),Ys={conceptModel:null,concept:null,projectionModel:null,projection:null,container:null,header:null,body:null,footer:null,projectionWindow:null,menu:null,home:null,style:null,input:null,downloadList:null,modelSection:null,fields:null,statics:null,layouts:null,activeField:null,activeElement:null,activeProjection:null,activeConcept:null,config:null,active:!1,handlers:null,init(t={}){const{config:e=Xs}=t;return this.fields=new Map,this.statics=new Map,this.layouts=new Map,this.config=e,this.handlers={},this.config&&(this.header=qs.call(this).init()),this.projectionWindow=Is.call(this).init(),this.menu=Hs.call(this).init(this.config.menu),this.home=$s.call(this).init(this.config.home),this.style=Fs.call(this).init(this.config.style),this.render(),this},setConfig(t){if(y(t))return!1;this.config=t,this.menu.update(this.config.menu),this.home.update(this.config.home),this.style.update(this.config.style)},getRoots(){const{root:t=[]}=this.config;return o(t)?this.conceptModel.getSchema("concrete"):t},get hasConceptModel(){return!y(this.conceptModel)},get hasProjectionModel(){return!y(this.projectionModel)},addConcept(t){let e=this.conceptModel.createConcept({name:t}),i=Bs.call(this,e);this.conceptSection.appendChild(i),gt("[data-projection]",i).focus()},addProjection(t){Array.isArray(t)&&this.projectionModel.schema.push(...t)},initProjection(t){const{concept:e,projection:i,views:n=[],editor:s}=Js;e&&(this.conceptModel=Pi.createModel(e,i).init(t)),i&&(this.projectionModel=gs(i,this).init()),s&&(this.config=s),this.manager.refresh(),this.clear().refresh();let a=t[0];return[{concept:{id:a.id,name:a.name}}].forEach((t=>{const{id:e,name:i}=t.concept,n=this.conceptModel.getConcept(e);this.conceptSection.appendChild(Bs.call(this,n))})),this},registerField(t){return t.environment=this,this.fields.set(t.id,t),this},unregisterField(t){var e=this.fields.get(t.id);return e&&(e.environment=null,this.fields.delete(e.id)),this},getField(t){if(!k(t))return console.warn("Field error: Bad argument"),null;const{id:e,nature:i}=t.dataset;return y(e)?(console.warn("Field error: Missing id attribute on field"),null):["field","field-component"].includes(i)?this.fields.get(e):(console.warn("Field error: Unknown nature attribute on field"),null)},registerStatic(t){return t.environment=this,this.statics.set(t.id,t),this},unregisterStatic(t){var e=this.statics.get(t.id);return e&&(e.environment=null,this.statics.delete(e.id)),this},getStatic(t){if(!k(t))return console.warn("Static error: Bad argument"),null;const{id:e,nature:i}=t.dataset;return y(e)?(console.warn("Static error: Missing id attribute on field"),null):["static"].includes(i)?this.statics.get(e):(console.warn("Static error: Unknown nature attribute on field"),null)},registerLayout(t){return t.environment=this,this.layouts.set(t.id,t),this},unregisterLayout(t){var e=this.layouts.get(t.id);return e&&(e.environment=null,this.layouts.delete(e.id)),this},getLayout(t){if(!k(t))return console.warn("Layout error: Bad argument"),null;const{id:e,nature:i}=t.dataset;return y(e)?(console.warn("Layout error: Missing id attribute on field"),null):["layout"].includes(i)?this.layouts.get(e):(console.warn("Layout error: Unknown nature attribute on field"),null)},resolveElement(t){if(!k(t))return null;const{nature:e}=t.dataset;if(y(e))return null;switch(e){case"field":case"field-component":return this.getField(t);case"layout":return this.getLayout(t);case"static":return this.getStatic(t);default:return null}},download(t){const e="application/json";window.URL=window.webkitURL||window.URL;var i=G({class:["bare-link","download-item__link"]},"Download"),n=new Blob([JSON.stringify(t)],{type:e});Object.assign(i,{download:"model.json",href:window.URL.createObjectURL(n)}),i.dataset.downloadurl=[e,i.download,i.href].join(":");let s=J({class:["download-item","download-item--build"]}),a=rt({class:["btn","btn-delete"],dataset:{action:"delete",target:"parent"}},"✖"),o=K({class:["download-item__name"],dataset:{action:"delete",target:"parent"}},`Build ${this.footer.childElementCount+1}`);return s.append(a,o,i),this.downloadList.append(s),t},export(t=!1){const e="application/json";window.URL=window.webkitURL||window.URL;var i=G({});this.container.appendChild(i),d(i.href)||window.URL.revokeObjectURL(i.href);const n={concept:this.conceptModel.schema,values:this.conceptModel.export()};var s=new Blob([JSON.stringify(n)],{type:e});return Object.assign(i,{download:"model.json",href:window.URL.createObjectURL(s)}),i.dataset.downloadurl=[e,i.download,i.href].join(":"),t?(function(t){if(y(t))return!1;var e=it({value:k(t)?t.textContent:t.toString(),readonly:!0});k(e)&&(document.body.appendChild(e),e.select(),document.execCommand("copy"),e.remove())}(JSON.stringify(n)),this.notify("Export has been copied to clipboard")):(i.click(),this.notify("The model has been successfully built. Please download the model.")),setTimeout((()=>{window.URL.revokeObjectURL(i.href),i.remove()}),1500),n},notify(t,e){let i=z({class:["notify"],html:t});e&&i.classList.add(e),this.container.appendChild(i),setTimeout((()=>{i.classList.add("open")}),50),setTimeout((()=>{i.classList.remove("open"),setTimeout((()=>{i.remove()}),500)}),4500)},show(){Ht(this.container)},hide(){$t(this.container)},open(){return this.show(),this.active=!0,ue("editor.open"),this},reduce(){return this.hide(),this.active=!0,ue("editor.reduce"),this},close(){return this.hide(),this.active=!1,this.clean(),this.container.remove(),ue("editor.close"),this},unloadConceptModel(){return this.hasConceptModel&&(this.conceptModel.done(),this.conceptModel=null,this.refresh()),this},loadConceptModel(t,e){return Array.isArray(t)?(this.unloadConceptModel(),this.clear(),this.conceptModel=Pi.createModel(t).init(e),y(this.conceptModel),this.hasProjectionModel&&(this.projectionModel.done(),this.conceptModel.getRootConcepts().forEach((t=>{this.conceptSection.appendChild(Bs.call(this,t))}))),this.refresh(),this):(this.notify("Invalid concept model",Kt.ERROR),!1)},unloadProjectionModel(){return this.hasProjectionModel&&(this.projectionModel.done(),this.projectionModel=null,this.refresh()),this},loadProjectionModel(t,e){return Array.isArray(t)?(this.unloadProjectionModel(),this.clear(),this.projectionModel=gs(t,this).init(e),y(this.projectionModel),this.hasConceptModel&&this.conceptModel.getRootConcepts().forEach((t=>{this.conceptSection.appendChild(Bs.call(this,t))})),this.refresh(),this):(this.notify("Invalid projection model",Kt.ERROR),!1)},unload(){return this.unloadConceptModel(),this.unloadProjectionModel(),this.clear(),this},clean(){return this.conceptModel,this.projectionModel,Ct(this.container),ue("editor.clean"),this},clear(){return this.fields.clear(),this.layouts.clear(),this.statics.clear(),this.conceptSection&&Ct(this.conceptSection),this.activeField=null,this.activeElement=null,this.activeConcept=null,ue("editor.clear"),this},render(t){const e=I();return this.home.isRendered()||e.appendChild(this.home.render()),this.style.isRendered()||e.appendChild(this.style.render()),this.header.isRendered()||e.appendChild(this.header.render()),k(this.body)||(this.body=D({class:["editor-body"],tabindex:0}),this.conceptSection=$({class:["model-concept-section"]}),this.body.append(this.conceptSection),e.appendChild(this.body)),k(this.footer)||(this.footer=D({class:["editor-footer"],tabindex:0}),this.downloadList=U({class:["bare-list","download-list"]}),this.modelSection=$({class:["editor-model-section"]}),this.footer.append(this.downloadList),this.footer.append(this.modelSection),e.appendChild(this.footer)),k(this.projectionWindow.container)||e.appendChild(this.projectionWindow.render()),this.menu.isRendered()||e.appendChild(this.menu.render()),k(this.input)||(this.input=et({type:"file",class:["hidden"],accept:".json"}),e.appendChild(this.input)),e.hasChildNodes()&&(this.container.appendChild(e),this.bindEvents()),k(t)&&t.appendChild(this.container),this.refresh(),this.container},refresh(){return this.hasConceptModel?this.container.classList.remove("no-concept-model"):this.container.classList.add("no-concept-model"),this.hasProjectionModel?this.container.classList.remove("no-projection-model"):this.container.classList.add("no-projection-model"),this.header.refresh(),this.menu.refresh(),this.home.refresh(),this.style.refresh(),this},updateActiveElement(t){var e,i,n;this.activeElement&&this.activeElement!==t&&(this.activeElement.classList.remove("active"),Array.from((e=".active-parent",n=a(i,document),d(e)?null:T(n)?n.querySelectorAll(e):bt(e)?n.getElementsByClassName(e.substring(1)):n.querySelectorAll(e))).forEach((t=>t.classList.remove("active-parent")))),this.activeElement=t,this.activeElement.classList.add("active");for(var s=this.activeElement.parentElement;s;){const{nature:t,view:e}=s.dataset;b(s.dataset,"projection")&&s.classList.add("active-parent"),"field-component"===t&&s.classList.add("active-parent"),"concept-container"===t&&s.classList.add("active-parent"),s=s.parentElement}return this.projectionWindow.setProjection(this.projectionModel.getProjection(t.dataset.projection)),this},updateActiveConcept(t){return this.activeConcept=t,this.refresh(),this},updateActiveProjection(t){return this.activeProjection=t,this.refresh(),this},getHandlers(t){return a(this.handlers[t],[])},triggerEvent(t){const{name:e,downloadable:i}=t;return this.getHandlers(e).forEach((t=>{let e=t.call(this,this.conceptModel);!1!==e&&i&&this.download(e)})),!0},registerHandler(t,e){return Array.isArray(this.handlers[t])||(this.handlers[t]=[]),this.handlers[t].push(e),!0},unregisterHandler(t,e){if(!b(this.handlers,t))return!1;for(let i=0;i<this.handlers[t].length;i++)if(this.handlers[t][i]===e)return this.handlers[t].splice(i,1),!0;return!1},bindEvents(){var t=null,e=null;const i={close:t=>{this.close(),this.manager.deleteEditor(this)},collapse:t=>{const{rel:e,target:i}=t.dataset;if("parent"===e){let e=jt(t,(t=>t.dataset.name===i));k(e)&&e.classList.toggle("collapsed")}},delete:t=>{const{target:e}=t.dataset;if("parent"===e){let e=t.parentElement;Ct(e),e.remove()}},style:t=>{this.style.toggle()},"open-style":t=>{this.style.open()},"close-style":t=>{this.style.close()},home:t=>{this.home.toggle()},"open-home":t=>{this.home.open()},"close-home":t=>{this.home.close()},export:t=>{this.export()},"import-projection":t=>{let i=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});e=this.addProjection,this.input.dispatchEvent(i)},"load-model":t=>{let i=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});e=t=>{if(Array.isArray(t))this.loadConceptModel(t);else{const{concept:e,values:i=[]}=t;this.loadConceptModel(e,i)}},this.input.dispatchEvent(i)},"unload-model":t=>{this.unloadConceptModel()},"reload-model":t=>{const{schema:e,values:i}=this.projectionModel;this.loadConceptModel(e,i)},"load-projection":t=>{let i=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});e=t=>{if(Array.isArray(t))this.loadProjectionModel(t);else{const{projection:e,views:i=[]}=t;this.loadProjectionModel(e,i)}},this.input.dispatchEvent(i)},"unload-projection":t=>{this.unloadProjectionModel()},"reload-projection":t=>{const{schema:e,views:i}=this.projectionModel;this.loadProjectionModel(e,i)},"create-metamodel":t=>{const{concept:e,values:i=[]}=zs,{projection:n,views:s=[]}=Ws,{editor:a}=Ds;this.unload(),this.setConfig(a),this.loadConceptModel(e,i),this.loadProjectionModel(n,s)},"create-projection":t=>{const{concept:e,values:i=[]}=Js,{projection:n,views:s=[]}=Gs,{editor:a}=Us;this.unload(),this.setConfig(a),this.loadConceptModel(e,i),this.loadProjectionModel(n,s)}};function n(t){return b(t.dataset,"projection")?t:jt(t,(t=>b(t.dataset,"projection")))}this.container.addEventListener("click",(t=>{var e=Qt(t.target);const{action:n,handler:s,downloadable:a}=e.dataset;this.activeField&&this.activeField.clickHandler(e);const o=i[n];s&&n?this.triggerEvent({name:n,downloadable:a}):c(o)&&(o(e),e.blur())}),!0),this.input.addEventListener("change",(t=>{var i=this.input.files[0];i.name.endsWith(".json")||this.notify("This file is not supported. Please use a .json file");var n=new FileReader;n.onload=t=>{e(JSON.parse(n.result)),e=null,this.input.value=""},n.readAsText(i)})),this.body.addEventListener("keydown",(e=>{const{target:i}=e,{nature:s}=i.dataset;var a=!1;switch(e.key){case Dt:this.activeField&&t!==Wt&&!0===this.activeField.backspaceHandler(i)&&e.preventDefault();break;case Wt:e.preventDefault(),a=!0;break;case Yt:this.activeField&&t!==Wt&&this.activeField.deleteHandler(i)&&e.preventDefault();break;case" ":this.activeField&&t!==Wt&&this.activeField.spaceHandler(i)&&e.preventDefault();break;case"Alt":e.preventDefault();var o=n(i);if(o){const{projection:t}=o.dataset;this.projectionModel.getProjection(t).changeView()}a=!0;break;case zt:this.activeField?!0===this.activeField.enterHandler(i)&&e.preventDefault():"layout"===s?!0===this.getLayout(i).enterHandler(i)&&e.preventDefault():e.preventDefault();break;case Ut:this.activeField?!0===this.activeField.escapeHandler(i)&&e.preventDefault():"static"===s?!0===this.getStatic(i).escapeHandler(i)&&e.preventDefault():"layout"===s&&!0===this.getLayout(i).escapeHandler(i)&&e.preventDefault();break;case"Insert":this.activeField&&e.preventDefault();break;case Jt:if(this.activeField)!0===this.activeField.arrowHandler("up",i)&&e.preventDefault();else{let t=this.resolveElement(i);t&&!0===t.arrowHandler("up",i)&&e.preventDefault()}break;case Xt:if(this.activeField)!0===this.activeField.arrowHandler("down",i)&&e.preventDefault();else{let t=this.resolveElement(i);t&&!0===t.arrowHandler("down",i)&&e.preventDefault()}break;case Gt:if(this.activeField)!0===this.activeField.arrowHandler("right",i)&&e.preventDefault();else{let t=this.resolveElement(i);t&&!0===t.arrowHandler("right",i)&&e.preventDefault()}break;case"ArrowLeft":if(this.activeField)!0===this.activeField.arrowHandler("left",i)&&e.preventDefault();else{let t=this.resolveElement(i);t&&!0===t.arrowHandler("left",i)&&e.preventDefault()}break;case"s":t===Wt&&(this.activeConcept.copy(),e.preventDefault())}a&&(t=e.key)}),!1),this.body.addEventListener("keyup",(e=>{var i=e.target;switch(e.key){case" ":t===Wt&&this.activeField&&this.activeField._spaceHandler(i);break;case Yt:t===Wt&&this.activeField&&this.activeField.delete(i);break;case Wt:t===Wt&&this.activeField&&this.activeField.controlHandler(i)}t=-1}),!1),this.body.addEventListener("focusin",(t=>{const e=t.target,{nature:i}=e.dataset;var a=s[i];a?a.call(this,e):(this.activeField&&this.activeField.focusOut(e),this.activeField=null);let o=n(e);if(k(o)){this.updateActiveElement(o);const{projection:t}=o.dataset;let e=this.projectionModel.getProjection(t);this.updateActiveProjection(e),e.concept&&this.updateActiveConcept(e.concept)}}));const s={field:a,"field-component":a};function a(t){const e=this.getField(t);this.activeField&&this.activeField!==e&&(this.activeField.focusOut(),this.activeField=null),y(e)||e===this.activeField?this.activeField&&this.activeField._focusIn(t):(this.activeField=e,this.activeField.focusIn(t))}var o=null;this.container.addEventListener("dragstart",(t=>{t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("clientX",t.clientX),t.dataTransfer.setData("clientY",t.clientY),o=t.target,this.body.classList.add("dragging")})),this.container.addEventListener("dragend",(t=>{this.body.classList.remove("dragging"),o=null})),this.body.addEventListener("drop",(t=>{var e=t.dataTransfer.getData("clientX"),i=t.dataTransfer.getData("clientY");o.style.top=o.offsetTop-(i-t.clientY)+"px",o.style.left=o.offsetLeft-(e-t.clientX)+"px"})),this.body.addEventListener("dragover",(t=>{t.preventDefault()})),this.registerHandler("build-concept",De),this.registerHandler("build-projection",Ce),this.registerHandler("export",(()=>this.export()))}};function Ks(){return this.model.concepts.filter((t=>this.metamodel.isConcrete(t.name)))}const Qs={metamodel:null,model:null,concept:null,container:null,header:null,body:null,footer:null,selectorElement:null,selectorList:null,input:null,results:null,active:!1,fields:null,init(t,e,i){return this.metamodel=t,this.model=e,this.concept=i,this.fields=new Map,this.render(),this},registerField(t){return t.editor=this,this.fields.set(t.id,t),this},unregisterField(t){var e=this.fields.get(t.id);return e&&(e.editor=null,this.fields.delete(e.id)),this},open(){return this.active=!0,Ht(this.container),this.container.classList.replace("close","open"),this.input.focus(),ue("explorer.open"),this},close(){return this.active=!1,$t(this.container),this.container.classList.replace("open","close"),ue("explorer.close"),this},clear(){return Ct(this.results),this.input.value="",this},render(t){const e=I();if(!k(this.header)){this.header=D({class:["explorer-header"],tabindex:-1});let t=rt({class:["btn","btn-close"],dataset:{action:"close"}}),i=D({class:["explorer-toolbar"]},[t]);this.header.appendChild(i);const{refname:n,name:s}=this.activeConcept;this.concept&&this.header.appendChild(D({class:["explorer-header-concept"]},`${n} (${s})`)),e.appendChild(this.header)}return k(this.body)||(this.body=D({class:["explorer-body"],tabindex:-1}),e.appendChild(this.body)),k(this.footer)||(this.footer=D({class:["editor-footer"],tabindex:-1}),e.appendChild(this.footer)),k(this.selectorElement)||(this.selectorElement=rt({class:["btn","explorer-header-concept","hidden"]}),this.header.appendChild(this.selectorElement)),k(this.selectorList)||(this.selectorList=U({class:["bare-list","explorer-selector-list","hidden"]}),e.appendChild(this.selectorList)),k(this.input)||(this.input=et({class:["explorer-input","hidden"],placeholder:"Rechercher..."}),e.appendChild(this.input)),k(this.results)||(this.results=U({class:["bare-list","explorer-results"]}),this.body.appendChild(this.results)),e.hasChildNodes()&&(this.container.appendChild(e),this.bindEvents()),k(t)&&t.appendChild(this.container),this.clear(),this.refresh(),this.container},update(t){const e=I();return e.appendChild(J({class:["explorer-result-title"]},"Attribute")),t.filter((t=>"attribute"===t.type)).forEach((t=>{var i=`${t.target}${t.accept?`:${t.accept}`:""}`;e.appendChild(Zs(t,"Target concept",i))})),e.appendChild(J({class:["explorer-result-title"]},"Component")),t.filter((t=>"component"===t.type)).forEach((t=>{var i=t.attributes.join(", ");e.appendChild(Zs(t,"Attributes",i))})),Ct(this.results),this.results.appendChild(e),this},refresh(){return y(this.concept)?(Ct(this.selectorList),Ks.call(this).forEach((t=>{var e=this.metamodel.getProjectionSchema(t.name).filter((t=>"explorer"===t.environment)),i=ys.createProjection(e,t,this).init(),n=J({class:["explorer-selector","explorer-selector--concept"],dataset:{concept:t.id}},i.render());this.selectorList.appendChild(n)})),Ht(this.selectorList),$t(this.results),$t(this.selectorElement)):(Ht(this.selectorElement),$t(this.selectorList),Ht(this.results),this.update(this.concept.getStructure())),this},query(t){var e=this.concept.getStructure().slice(0);if(!d(t)){var i=t.trim().replace(/\s+/g," ").split(" ");e=e.filter((t=>i.some((e=>{let i=!1;return t.alias&&(i=t.alias.includes(e)),i||t.name.includes(e)}))))}return this.update(e),this},bindEvents(){var t=0;this.container.addEventListener("keydown",(e=>{var i=!1;switch(e.key){case Dt:break;case Wt:e.preventDefault(),i=!0;break;case Yt:break;case"Alt":i=!0;break;case zt:case Gt:break;case Jt:t>0&&(t--,this.results.children[t].focus());break;case Xt:t<this.results.childElementCount&&(this.results.children[t].focus(),t++);break;case Ut:i=!1,this.close()}i&&e.key}),!1),this.container.addEventListener("click",(t=>{"close"===t.target.dataset.action&&this.close()})),this.results.addEventListener("change",(t=>{let e=t.target,[i,n]=e.value.split(":");"attribute"===n?this.concept.createAttribute(i):"component"===n&&this.concept.createComponent(i),e.disabled=!0})),this.input.addEventListener("input",(e=>{this.query(this.input.value.trim()),t=0})),this.input.addEventListener("blur",(t=>{d(this.input.value)&&(this.input.value="")}));const e=t=>t.parentElement===this.selectorList?t:jt(t,(t=>t.parentElement===this.selectorList));this.selectorList.addEventListener("click",(t=>{const{target:i}=t,n=e(i),{concept:s}=n.dataset;if(s){let t=this.model.getConcept(s);this.concept=t,this.selectorElement.textContent=t.fullName,this.clear(),this.refresh()}})),this.selectorElement.addEventListener("click",(t=>{Ht(this.selectorList)}))}};function Zs(t,e,i){const{name:n,alias:s,type:o,created:r,required:c}=t,l=et({type:"checkbox",class:["explorer-result-item__checkbox"],value:`${n}:${o}`,disabled:!0});l.id=`${v(n)}${v(o)}`,l.checked=r,l.required=c;const p=K({class:["explorer-result-item__label-name"]},a(s,n)),u=K({class:["explorer-result-item__label-info"]},[`${e}: `,Q({class:["concept-name"]},`${i}`)]),h=nt({class:["explorer-result-item__label"]},[p,u]);h.htmlFor=l.id;var d=rt({type:"button",class:["btn","btn-add","explorer-result-item__button"],disabled:r,dataset:{action:"add"}},"+"),m=rt({type:"button",class:["btn","btn-remove","explorer-result-item__button"],disabled:c,dataset:{action:"remove"}},"-"),y=J({class:["explorer-result-item"],dataset:{value:n,required:c}},[l,h,d,m]);return y.tabIndex=-1,y}const ta="editor",ea="explorer",ia=[];var na=0;const sa=()=>"GE"+na++;function aa(t){return D({class:["env",`${t}-container`,"close"],tabindex:-1})}({container:null,containerEnv:null,homeContainer:null,menu:null,homePage:null,btnBuild:null,btnNew:null,btnStyle:null,get editors(){return ia.filter((t=>t.type===ta))},get explorers(){return ia.filter((t=>t.type===ea))},get hasEnvironment(){return!o(ia)},get hasEditor(){return ia.some((t=>t.type===ta))},get hasExplorer(){return ia.some((t=>t.type===ea))},init(t){const e=function(t){return k(t)?t:d(t)?gt("[data-gentleman]"):gt(t)}(t);if(!k(e))throw new TypeError("Bad argument: The container argument could not be resolved to an HTML Element.");return this.container=e,this.container.tabIndex=-1,this.containerEnv=this.container.dataset.gentleman,"editor"===this.containerEnv?(this.createEditor().init(),this):(this.bindDOM(),this.bindEvents(),this.render(),this)},render(){const t=I();return y(this.menu.parentElement)&&t.append(this.menu),y(this.btnNew.parentElement)&&this.menu.append(this.btnNew,this.btnStyle),t.hasChildNodes()&&this.container.append(t),this.refresh(),this.container},refresh(){return this.hasEnvironment||this.createEditor().init(),this},getEditors(t){const e=this.editors;return c(t)?this.editors.filter((e=>t(e))):e.filter((t=>!t.active))},getEditor(t){return t?ia((e=>e.id===t)):this.editors.find((t=>!t.active))},createEditor(){var t=Object.create(Ys,{object:{value:"environment"},type:{value:"editor"},name:{value:"editor"},id:{value:sa()},manager:{value:this},container:{value:aa("editor")}});return this.container.append(t.container),ia.push(t),this.refresh(),t},deleteEditor(t){var e;return-1!==(e=r(t)?ia.findIndex((e=>e.id===t)):ia.indexOf(t))&&(ia.splice(e,1),this.refresh(),!0)},getExplorer(t){return t?ia((e=>e.id===t)):this.explorers.find((t=>!t.active))},createExplorer(){const t=Object.create(Qs,{object:{value:"environment"},type:{value:"explorer"},name:{value:"explorer"},id:{value:sa()},manager:{value:this},container:{value:aa("explorer")}});return this.container.append(t.container),ia.push(t),this.refresh(),t},bindDOM(){k(this.menu)||(this.menu=D({class:["manager-menu"]})),k(this.btnNew)||(this.btnNew=rt({id:"btnNewEditor",class:["btn","manager__button","manager__btn-new"]},"New")),k(this.btnStyle)||(this.btnStyle=rt({id:"btnStyleEditor",class:["btn","manager__button","manager__btn-style","hidden"]},"Style"))},bindEvents(){this.menu.addEventListener("click",(t=>{const{target:e}=t;e===this.btnNew&&this.createEditor().init().open()}))}}).init().render()})()})();